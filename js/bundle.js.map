{
  "version": 3,
  "sources": ["../../../src/Index.ts", "../../../src/Main.generated.ts", "../../../src/Main.ts", "../../../src/3D/common/CameraMoveScript.ts", "../../../src/BaseScript.ts", "../../../src/2D/BlendMode/BlendMode_Lighter.ts", "../../../src/2D/InputDevice/InputDevice_Compasss.ts", "../../../src/2D/InputDevice/InputDevice_GluttonousSnake.ts", "../../../src/2D/InputDevice/InputDevice_Map.ts", "../../../src/2D/InputDevice/InputDevice_Shake.ts", "../../../src/2D/Loader/Loader_ClearTextureRes.ts", "../../../src/2D/Loader/Loader_MultipleType.ts", "../../../src/2D/Loader/Loader_ProgressAndErrorHandle.ts", "../../../src/2D/Loader/Loader_Sequence.ts", "../../../src/2D/Loader/Loader_SingleType.ts", "../../../src/2D/DOM/DOM_Form.ts", "../../../src/2D/DOM/DOM_Video.ts", "../../../src/2D/Network/Network_GET.ts", "../../../src/2D/Network/Network_POST.ts", "../../../src/2D/Network/Network_ProtocolBuffer.ts", "../../../src/2D/Network/NetWork_Socket.ts", "../../../src/2D/Network/Network_XML.ts", "../../../src/2D/Filters/Filters_Blur.ts", "../../../src/2D/Filters/Filters_Color.ts", "../../../src/2D/Filters/Filters_Glow.ts", "../../../src/2D/PerformanceTest/PerformanceTest_Cartoon.ts", "../../../src/2D/PerformanceTest/PerformanceTest_Cartoon2.ts", "../../../src/2D/PerformanceTest/PerformanceTest_Maggots.ts", "../../../src/2D/PerformanceTest/PerformanceTest_Skeleton.ts", "../../../src/2D/Physics/Physics_Bridge.ts", "../../../src/2D/Physics/Physics_CollisionEvent.ts", "../../../src/2D/Physics/Physics_CollisionFiltering.ts", "../../../src/2D/Physics/Physics_Strandbeests.ts", "../../../src/2D/Physics/Physics_Tumbler.ts", "../../../src/2D/Animation/Animation_Altas.ts", "../../../src/2D/Animation/Animation_SWF.ts", "../../../src/2D/PIXI/PIXI_Example_1.ts", "../../../src/2D/PIXI/PIXI_Example_2.ts", "../../../src/2D/PIXI/PIXI_Example_3.ts", "../../../src/2D/PIXI/PIXI_Example_4.ts", "../../../src/2D/Sound/Sound_SimpleDemo.ts", "../../../src/2D/TiledMap/TiledMap_AnimationTile.ts", "../../../src/2D/TiledMap/TiledMap_IsometricWorld.ts", "../../../src/2D/TiledMap/TiledMap_PerspectiveWall.ts", "../../../src/2D/TiledMap/TiledMap_SimpleDemo.ts", "../../../src/2D/Skeleton/Skeleton_ChangeSkin.ts", "../../../src/2D/Skeleton/Skeleton_MultiTexture.ts", "../../../src/2D/Skeleton/Skeleton_SpineAdapted.ts", "../../../src/2D/Skeleton/Skeleton_SpineEvent.ts", "../../../src/2D/Skeleton/Skeleton_SpineStretchyman.ts", "../../../src/2D/Skeleton/Skeleton_SpineVine.ts", "../../../src/2D/Sprite/Sprite_BinaryImage.ts", "../../../src/2D/Sprite/Sprite_Cache.ts", "../../../src/2D/Sprite/Sprite_Container.ts", "../../../src/2D/Sprite/Sprite_DisplayImage.ts", "../../../src/2D/Sprite/Sprite_DrawPath.ts", "../../../src/2D/Sprite/Sprite_DrawShapes.ts", "../../../src/2D/Sprite/Sprite_Guide.ts", "../../../src/2D/Sprite/Sprite_MagnifyingGlass.ts", "../../../src/2D/Sprite/Sprite_NodeControl.ts", "../../../src/2D/Sprite/Sprite_Pivot.ts", "../../../src/2D/Sprite/Sprite_RoateAndScale.ts", "../../../src/2D/Sprite/Sprite_ScreenShot.ts", "../../../src/2D/Sprite/Sprite_SwitchTexture.ts", "../../../src/2D/Timer/Timer_CallLater.ts", "../../../src/2D/Timer/Timer_DelayExcute.ts", "../../../src/2D/Timer/Timer_Interval.ts", "../../../src/3D/Advance/CommandBufferDemo/GlassShader.vs", "../../../src/3D/Advance/CommandBufferDemo/GlassShader.fs", "../../../src/3D/Advance/CommandBufferDemo/GlassWithoutGrabMaterial.ts", "../../../src/3D/Advance/BlurShader/Blur.vs", "../../../src/3D/Advance/BlurShader/BlurHorizontal.fs", "../../../src/3D/Advance/BlurShader/BlurVertical.fs", "../../../src/3D/Advance/BlurShader/BlurDownSample.fs", "../../../src/3D/Advance/BlurShader/BlurDownSample.vs", "../../../src/3D/Advance/BlurShader/EdgeAdd.fs", "../../../src/3D/Advance/BlurShader/EdgeSub.fs", "../../../src/3D/Advance/BlurShader/BlurEffect.ts", "../../../src/3D/Advance/BlurryGlass.ts", "../../../src/3D/Advance/DepthNormalShader/DepthTextureTest.vs", "../../../src/3D/Advance/DepthNormalShader/DepthTextureTest.fs", "../../../src/3D/Advance/DepthNormalShader/DepthMaterial.ts", "../../../src/3D/Advance/DepthNormalShader/DepthNormalsTextureTest.vs", "../../../src/3D/Advance/DepthNormalShader/DepthNormalsTextureTest.fs", "../../../src/3D/Advance/DepthNormalShader/DepthNormalsMaterial.ts", "../../../src/3D/Advance/CameraDepthModeTextureDemo.ts", "../../../src/3D/Advance/CameraInteraction.ts", "../../../src/3D/Advance/DrawCustomInstanceDemo/customInstance.vs", "../../../src/3D/Advance/DrawCustomInstanceDemo/customInstance.fs", "../../../src/3D/Advance/DrawCustomInstanceDemo/CustomInstanceMaterial.ts", "../../../src/3D/Advance/CommandBuffer_DrawCustomInstance.ts", "../../../src/3D/Advance/CommandBuffer_Outline.ts", "../../../src/3D/Advance/grassDemo/GrassCellInfo.ts", "../../../src/3D/Advance/grassDemo/shader/GrassShaderVS.vs", "../../../src/3D/Advance/grassDemo/shader/GrassShaderFS.fs", "../../../src/3D/Advance/grassDemo/GrassMaterial.ts", "../../../src/3D/Advance/grassDemo/GrassRender.ts", "../../../src/3D/Advance/grassDemo/GrassRenderManager.ts", "../../../src/3D/Advance/GrassDemo.ts", "../../../src/3D/Advance/Laya3DCombineHtml.ts", "../../../src/3D/Advance/ReflectionProbe.ts", "../../../src/3D/Advance/Scene2DPlayer3D.ts", "../../../src/3D/Advance/Secne3DPlayer2D.ts", "../../../src/3D/Advance/SeparableSSSRender/shader/SeparableSSS_GasBlur.fs", "../../../src/3D/Advance/SeparableSSSRender/shader/SeparableSSS_GasBlur.vs", "../../../src/3D/Advance/SeparableSSSRender/Material/SeparableSSS_BlitMaterial.ts", "../../../src/3D/Advance/SeparableSSSRender/shader/SeparableSSS_Render.vs", "../../../src/3D/Advance/SeparableSSSRender/shader/SeparableSSS_Render.fs", "../../../src/3D/Advance/SeparableSSSRender/Material/SeparableSSS_RenderMaterial.ts", "../../../src/3D/Advance/SeparableSSS_RenderDemo.ts", "../../../src/3D/Advance/showFont.ts", "../../../src/3D/Advance/UI3D.ts", "../../../src/3D/Advance/VideoPlayIn3DWorld.ts", "../../../src/2D/Text/Text_AutoSize.ts", "../../../src/2D/Text/Text_BitmapFont.ts", "../../../src/2D/Text/Text_ComplexStyle.ts", "../../../src/2D/Text/Text_Editable.ts", "../../../src/2D/Text/Text_HTML.ts", "../../../src/2D/Text/Text_InputMultiline.ts", "../../../src/2D/Text/Text_InputSingleline.ts", "../../../src/2D/Text/Text_MaxChars.ts", "../../../src/2D/Text/Text_Overflow.ts", "../../../src/2D/Text/Text_Restrict.ts", "../../../src/2D/Text/Text_Scroll.ts", "../../../src/2D/Text/Text_UBB.ts", "../../../src/2D/Text/Text_Underline.ts", "../../../src/2D/Text/Text_WordWrap.ts", "../../../src/2D/Interaction/Interaction_CustomEvent.ts", "../../../src/2D/Interaction/Interaction_Drag.ts", "../../../src/2D/Interaction/Interaction_FixInteractiveRegion.ts", "../../../src/2D/Interaction/Interaction_Hold.ts", "../../../src/2D/Interaction/Interaction_Keyboard.ts", "../../../src/2D/Interaction/Interaction_Mouse.ts", "../../../src/2D/Interaction/Interaction_Rotate.ts", "../../../src/2D/Interaction/Interaction_Scale.ts", "../../../src/2D/Interaction/Interaction_Swipe.ts", "../../../src/3D/Interaction/MouseInteraction.ts", "../../../src/3D/Interaction/MultiTouch.ts", "../../../src/3D/Animation/AnimatorDemo.ts", "../../../src/3D/Animation/AnimatorStateScriptDemo.ts", "../../../src/3D/Animation/CameraAnimation.ts", "../../../src/3D/Animation/MaterialAnimation.ts", "../../../src/3D/Animation/RigidbodyAnimationDemo.ts", "../../../src/3D/Animation/SimpleSkinAnimationInstance.ts", "../../../src/3D/Animation/SkeletonMask.ts", "../../../src/3D/Light/DirectionLightDemo.ts", "../../../src/3D/Light/MultiLight.ts", "../../../src/3D/Light/PointLightDemo.ts", "../../../src/3D/Light/RealTimeShadow.ts", "../../../src/3D/Light/SpotLightDemo.ts", "../../../src/3D/Light/SpotLightShadowMap.ts", "../../../src/2D/Tween/Tween_EaseFunctionsDemo.ts", "../../../src/2D/Tween/Tween_Letters.ts", "../../../src/2D/Tween/Tween_SimpleSample.ts", "../../../src/2D/Tween/Tween_TimeLine.ts", "../../../src/3D/Camera/CameraDemo.ts", "../../../src/3D/Camera/CameraLayer.ts", "../../../src/3D/Camera/CameraLookAt.ts", "../../../src/3D/Camera/CameraMSAADemo.ts", "../../../src/3D/Camera/CameraRay.ts", "../../../src/3D/Camera/D3SpaceToD2Space.ts", "../../../src/3D/Camera/MultiCamera.ts", "../../../src/3D/Camera/OrthographicCamera.ts", "../../../src/3D/Camera/PickPixel.ts", "../../../src/3D/Mesh/BlendShape.ts", "../../../src/3D/Mesh/ChangeMesh.ts", "../../../src/3D/Mesh/CustomMesh.ts", "../../../src/3D/Mesh/MeshLoad.ts", "../../../src/3D/PhysicsWorld/PhysicsWorld_BaseCollider.ts", "../../../src/3D/PhysicsWorld/PhysicsWorld_BuildingBlocks.ts", "../../../src/3D/PhysicsWorld/PhysicsWorld_Character.ts", "../../../src/3D/PhysicsWorld/PhysicsWorld_CollisionFiflter.ts", "../../../src/3D/PhysicsWorld/PhysicsWorld_CompoundCollider.ts", "../../../src/3D/PhysicsWorld/PhysicsWorld_ConfigurableJoint.ts", "../../../src/3D/PhysicsWorld/PhysicsWorld_ConstraintFixedJoint.ts", "../../../src/3D/PhysicsWorld/PhysicsWorld_ContinueCollisionDetection.ts", "../../../src/3D/PhysicsWorld/PhysicsWorld_Kinematic.ts", "../../../src/3D/PhysicsWorld/PhysicsWorld_MeshCollider.ts", "../../../src/3D/PhysicsWorld/PhysicsWorld_RayShapeCast.ts", "../../../src/3D/PhysicsWorld/PhysicsWorld_TriggerAndCollisionEvent.ts", "../../../src/3D/PostProcess/PostProcessAO.ts", "../../../src/3D/PostProcess/PostProcessBloom.ts", "../../../src/3D/PostProcess/PostProcessDoF.ts", "../../../src/3D/PostProcess/BlurShader/Blur.vs", "../../../src/3D/PostProcess/BlurShader/BlurHorizontal.fs", "../../../src/3D/PostProcess/BlurShader/BlurVertical.fs", "../../../src/3D/PostProcess/BlurShader/BlurDownSample.fs", "../../../src/3D/PostProcess/BlurShader/BlurDownSample.vs", "../../../src/3D/PostProcess/BlurShader/EdgeAdd.fs", "../../../src/3D/PostProcess/BlurShader/EdgeSub.fs", "../../../src/3D/PostProcess/PostProcess_Blur.ts", "../../../src/3D/PostProcess/PostProcess_Edge/shader/EdgeEffectVS.vs", "../../../src/3D/PostProcess/PostProcess_Edge/shader/EdgeEffectFS.fs", "../../../src/3D/PostProcess/PostProcess_Edge.ts", "../../../src/3D/Resource/GarbageCollection.ts", "../../../src/3D/Resource/LoadFbxRosource.ts", "../../../src/3D/Resource/LoadGltfRosource.ts", "../../../src/3D/Resource/LoadResourceDemo.ts", "../../../src/3D/PerformanceTest/DynamicBatchTest.ts", "../../../src/3D/Scene3D/EnvironmentalReflection.ts", "../../../src/3D/Scene3D/GriendSkyAmbientDemo.ts", "../../../src/3D/Scene3D/LightmapScene.ts", "../../../src/3D/Scene3D/SceneLoad1.ts", "../../../src/3D/Script/ScriptDemo.ts", "../../../src/3D/Shader/Shader_GlowingEdge.ts", "../../../src/3D/Shader/Shader_MultiplePassOutline.ts", "../../../src/3D/Shader/Shader_Simple.ts", "../../../src/3D/Show/CerberusModelShow.ts", "../../../src/3D/Show/DamagedHelmetModelShow.ts", "../../../src/3D/Show/GunDemo.ts", "../../../src/3D/Sky/Sky_Procedural.ts", "../../../src/3D/Sky/Sky_SkyBox.ts", "../../../src/3D/Sprite3D/PixelLineSprite3DDemo.ts", "../../../src/3D/Sprite3D/ScreenShot.ts", "../../../src/3D/Sprite3D/SkinnedMeshSprite3DDemo.ts", "../../../src/3D/Sprite3D/Sprite3DClone.ts", "../../../src/3D/Sprite3D/Sprite3DParent.ts", "../../../src/3D/Sprite3D/TransformDemo.ts", "../../../src/3D/Texture/GPUCompression_ASTC.ts", "../../../src/3D/Texture/GPUCompression_ETC2.ts", "../../../src/3D/Texture/HalfFloatTexture.ts", "../../../src/3D/Texture/TextureDemo.ts", "../../../src/3D/Texture/TextureGPUCompression.ts", "../../../src/3D/Trail/TrailRender.ts", "../../../src/3D/Particle/Particle_BurningGround.ts", "../../../src/3D/Particle/Particle_EternalLight.ts", "../../../src/2D/UI/UI_Button.ts", "../../../src/2D/UI/UI_CheckBox.ts", "../../../src/2D/UI/UI_Clip.ts", "../../../src/2D/UI/UI_ColorPicker.ts", "../../../src/2D/UI/UI_ComboBox.ts", "../../../src/2D/UI/UI_Dialog.ts", "../../../src/2D/UI/UI_FontClip.ts", "../../../src/2D/UI/UI_Image.ts", "../../../src/2D/UI/UI_Input.ts", "../../../src/2D/UI/UI_Label.ts", "../../../src/2D/UI/UI_List.ts", "../../../src/2D/UI/UI_Panel.ts", "../../../src/2D/UI/UI_ProgressBar.ts", "../../../src/2D/UI/UI_RadioGroup.ts", "../../../src/2D/UI/UI_ScrollBar.ts", "../../../src/2D/UI/UI_Slider.ts", "../../../src/2D/UI/UI_Tab.ts", "../../../src/2D/UI/UI_TextArea.ts", "../../../src/2D/UI/UI_Tree.ts", "../../../src/3D/Material/BlinnPhongMaterialLoad.ts", "../../../src/3D/Material/BlinnPhong_DiffuseMap.ts", "../../../src/3D/Material/BlinnPhong_NormalMap.ts", "../../../src/3D/Material/BlinnPhong_SpecularMap.ts", "../../../src/3D/Material/Blinnphong_Transmission.ts", "../../../src/3D/Material/EffectMaterialDemo.ts", "../../../src/3D/Material/MaterialDemo.ts", "../../../src/3D/Material/PBRCoatMaterialDemo.ts", "../../../src/3D/Material/PBRMaterialDemo.ts", "../../../src/3D/Material/StencilDemo.ts", "../../../src/3D/Material/UnlitMaterialDemo.ts"],
  "sourcesContent": ["import Stat = Laya.Stat;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('tywzgsPaRP2ncBN_LrqMpg')\r\nexport default class Index extends Laya.Script {\r\n\r\n\r\n    @property(Laya.Button)\r\n    private btn1: Laya.Button;\r\n    @property(Laya.Button)\r\n    private btn2: Laya.Button;\r\n    @property(Laya.Image)\r\n    private titleListBg1: Laya.Image;\r\n    @property(Laya.List)\r\n    private titleList1: Laya.List;\r\n    @property(Laya.List)\r\n    private contentList1: Laya.List;\r\n    @property(Laya.Panel)\r\n    private panel1: Laya.Panel;\r\n\r\n    @property(Laya.Image)\r\n    private titleListBg2: Laya.Image;\r\n    @property(Laya.List)\r\n    private titleList2: Laya.List;\r\n    @property(Laya.List)\r\n    private contentList2: Laya.List;\r\n    @property(Laya.Panel)\r\n    private panel2: Laya.Panel;\r\n\r\n\r\n    @property(Laya.Sprite)\r\n    private page: Laya.Sprite;\r\n    @property(Laya.Label)\r\n    private name: Laya.Label;\r\n    @property(Laya.Image)\r\n    private nameLine: Laya.Image;\r\n    @property(Laya.Button)\r\n    private codeButton: Laya.Button;\r\n    @property(Laya.Button)\r\n    private qrcodeButton: Laya.Button;\r\n    @property(Laya.Label)\r\n    private desc: Laya.Label;\r\n    @property(Laya.Image)\r\n    private rightImage: Laya.Image;\r\n    @property(Laya.Image)\r\n    private pageImage: Laya.Image;\r\n\r\n\r\n    public static curPage : Laya.Sprite;\r\n    public static pageWidth = 1124;\r\n    public static pageHeight = 456;\r\n    public static screenWidth = 0;\r\n    public static screenHeight = 0;\r\n    public static scaleWidth = 0;\r\n    public static scaleHeight = 0;\r\n    public static rt: Laya.RenderTexture;\r\n    private curSceneURl : string;\r\n    private curScene2D : Laya.Sprite;\r\n    private index_2d : number = 0;\r\n    private index_3d : number = 0;\r\n    private show_2d : boolean = true;\r\n    private show_3d : boolean = true;\r\n\r\n    private _json1: any;\r\n    private _json2: any;\r\n    private _titleCellSize : number = 30;\r\n    private _contentCellSize : number = 24;\r\n    private _totalTitleHeight1 : number = 0;\r\n    private _totalTitleHeight2 : number = 0;\r\n    private _contentSelectedIndexArr1 : Array<number> = new Array<number>();\r\n    private _contentSelectedIndexArr2 : Array<number> = new Array<number>();\r\n    private _cur2D3D = true;\r\n    private titleIndex : number = 0;\r\n    private contentIndex : number = 0;\r\n    private category : string = \"null\";\r\n    private group : number = 0;\r\n    private contentName : number = 0;\r\n\r\n    private _statPos : Laya.Point = null;\r\n    public static pagePos : Laya.Point = null;\r\n    public static isLandscape = true;\r\n\r\n    onResize():void {\r\n\r\n        console.log(\"Browser.clientWidth:\"+Laya.Browser.clientWidth + \"  Laya.stage.designWidth:\"+Laya.stage.designWidth);\r\n        console.log(\"Browser.clientHeight:\"+Laya.Browser.clientHeight + \"  Laya.stage.designHeight:\"+Laya.stage.designHeight);\r\n        console.log(\"Browser.pixelRatio:\"+Laya.Browser.pixelRatio);\r\n\r\n        if( Laya.Browser.clientWidth >  Laya.Browser.clientHeight )\r\n        {\r\n            Index.isLandscape = true;\r\n            //\u663E\u793A\u770B\u6E90\u7801\r\n            this.codeButton.visible = true;\r\n            this.qrcodeButton.visible = true;\r\n\r\n            let screenHeight = Laya.stage.designHeight;\r\n            let screenWidth = Laya.stage.designHeight * Laya.Browser.clientWidth / Laya.Browser.clientHeight;\r\n            Index.screenWidth = screenWidth;\r\n            Index.screenHeight = screenHeight;\r\n            \r\n            console.log(\"onResize >>\", \"[screenWidth:\" + screenWidth + \"] [screenHeight:\" + screenHeight + \"]\");\r\n    \r\n            if( screenWidth > 1440 )\r\n                screenWidth = 1440;\r\n            this.rightImage.width = screenWidth - 250 - 40;\r\n            \r\n            this.desc.width = this.rightImage.width;\r\n            console.log(\"this.rightImage.width:\"+this.rightImage.width);\r\n    \r\n            if( this.rightImage.width < 1138 )\r\n            {\r\n                this.pageImage.width = this.rightImage.width;\r\n                this.page.width = this.pageImage.width - 14;\r\n                this.page.height = this.page.width * Index.pageHeight / Index.pageWidth;\r\n            }\r\n            else\r\n            {\r\n                this.pageImage.width = 1138;\r\n                this.page.width = this.pageImage.width - 14;\r\n                this.page.height = this.page.width * Index.pageHeight / Index.pageWidth;\r\n            }\r\n    \r\n            if( this.curScene2D )\r\n            {\r\n                this.curScene2D.scale( this.page.width/Index.pageWidth , this.page.height/Index.pageHeight );\r\n            }\r\n    \r\n            this._statPos = this.pageImage.localToGlobal(new Laya.Point(0, 0), false); \r\n            Index.pagePos = this.page.localToGlobal(new Laya.Point(0, 0), false); \r\n        }\r\n        else\r\n        {\r\n            Index.isLandscape = false;\r\n            //\u7AD6\u5C4F\u624B\u673A\u6A21\u5F0F\u4E0D\u663E\u793A\u770B\u6E90\u7801\r\n            this.codeButton.visible = false;\r\n            this.qrcodeButton.visible = false;\r\n\r\n            let screenHeight = Laya.stage.designHeight;\r\n            let screenWidth = Laya.stage.designHeight * Laya.Browser.clientHeight / Laya.Browser.clientWidth;\r\n            \r\n            console.log(\"onResize >>\", \"[screenWidth:\" + screenWidth + \"] [screenHeight:\" + screenHeight + \"]\");\r\n    \r\n            if( screenWidth > 1440 )\r\n                screenWidth = 1440;\r\n            this.rightImage.width = screenWidth - 250 - 40;\r\n            \r\n            this.desc.width = this.rightImage.width;\r\n    \r\n            if( this.rightImage.width < 1138 )\r\n            {\r\n                this.pageImage.width = this.rightImage.width;\r\n                this.page.width = this.pageImage.width - 14;\r\n                this.page.height = this.page.width * Index.pageHeight / Index.pageWidth;\r\n            }\r\n            else\r\n            {\r\n                this.pageImage.width = 1138;\r\n                this.page.width = this.pageImage.width - 14;\r\n                this.page.height = this.page.width * Index.pageHeight / Index.pageWidth;\r\n            }\r\n    \r\n            if( this.curScene2D )\r\n            {\r\n                this.curScene2D.scale( this.page.width/Index.pageWidth , this.page.height/Index.pageHeight );\r\n            }\r\n    \r\n            this._statPos = this.pageImage.localToGlobal(new Laya.Point(0, 0), false); \r\n            Index.pagePos = this.page.localToGlobal(new Laya.Point(0, 0), false); \r\n        }\r\n\r\n        if( !this._cur2D3D )\r\n        {\r\n            Laya.Stat.hide();\r\n            this.showStat();\r\n        }\r\n\r\n        if(!Laya.Browser.onPC)\r\n        {\r\n            this.codeButton.visible = false;\r\n            this.qrcodeButton.visible = false;\r\n        }\r\n\r\n        Index.scaleWidth = this.page.width/Index.pageWidth;\r\n        Index.scaleHeight = this.page.height/Index.pageHeight;\r\n        console.log(\"onResize >>\", \"[scaleWidth:\" + Index.scaleWidth + \"] [scaleWidth:\" + Index.scaleHeight + \"]\");\r\n    }\r\n\r\n    showStat(): void {\r\n\r\n        //\u7AD6\u5C4F\u624B\u673A\u6A21\u5F0F\u4E0D\u663E\u793A\u7EDF\u8BA1\r\n        if( Index.isLandscape )\r\n        {\r\n            Laya.Stat.hide();\r\n            Laya.Stat.show(this._statPos.x*Laya.Browser.clientHeight/Laya.stage.designHeight*Laya.Browser.pixelRatio+20,this._statPos.y*Laya.Browser.clientHeight/Laya.stage.designHeight*Laya.Browser.pixelRatio+20, [Stat.FPSStatUIParams, Stat.NodeStatUIParams, Stat.Sprite3DStatUIParams, Stat.DrawCall, Stat.TriangleFace, Stat.RenderNode, Stat.SkinRenderNode, Stat.ParticleRenderNode\r\n                , Stat.FrustumCulling, Stat.GPUMemory, Stat.TextureMemeory, Stat.RenderTextureMemory, Stat.BufferMemory]);\r\n        }\r\n\r\n    }\r\n\r\n    onEnable(): void {\r\n        //\u624B\u673A\u4E0A\u4E0D\u80FD\u4F7F\u7528 R32G32B32A32\r\n        if(!Laya.LayaGL.renderEngine.getCapable(Laya.RenderCapable.RenderTextureFormat_R16G16B16A16))\r\n            Index.rt = new Laya.RenderTexture(Index.pageWidth*2, Index.pageHeight*2, Laya.RenderTargetFormat.R8G8B8A8, Laya.RenderTargetFormat.DEPTHSTENCIL_24_8, false , 4 );     \r\n        else\r\n            Index.rt = new Laya.RenderTexture(Index.pageWidth*2, Index.pageHeight*2, Laya.RenderTargetFormat.R16G16B16A16, Laya.RenderTargetFormat.DEPTHSTENCIL_24_8, false , 4 );     \r\n        Index.curPage = this.page;                   \r\n        // \u518D\u5C06\u79BB\u5C4F3D\u753B\u52302D\u8282\u70B9\u4E0A\uFF0C\u81F3\u6B64\uFF0C\u5C31\u5B8C\u6210\u628A3D\u753B\u52302D\u7684\u57FA\u7840\u6E32\u67D3\u6D41\u7A0B\r\n        Index.curPage.texture = new Laya.Texture(Index.rt);\r\n\r\n        this.setMousePointer();\r\n\r\n        \r\n\r\n        //\u7ED1\u5B9Alist\u6E32\u67D3\u5355\u5143\u5904\u7406\u65B9\u6CD5\uFF0C\u81EA\u5B9A\u4E49list\u7684\u6E32\u67D3\u5355\u5143\u6570\u636E\r\n        this.titleList1.mouseHandler = new Laya.Handler(this, this.onTitleMouseHandler1);\r\n        this.contentList1.renderHandler = new Laya.Handler(this, this.onContentListRender);\r\n        //\u7ED1\u5B9Alist\u7684\u9F20\u6807\u70B9\u51FB\u4E8B\u4EF6\r\n        this.contentList1.mouseHandler = new Laya.Handler(this, this.onContentMouseHandler1);\r\n        //\u7ED1\u5B9Alist\u6E32\u67D3\u5355\u5143\u5904\u7406\u65B9\u6CD5\uFF0C\u81EA\u5B9A\u4E49list\u7684\u6E32\u67D3\u5355\u5143\u6570\u636E\r\n        this.titleList2.mouseHandler = new Laya.Handler(this, this.onTitleMouseHandler2);\r\n        this.contentList2.renderHandler = new Laya.Handler(this, this.onContentListRender);\r\n        //\u7ED1\u5B9Alist\u7684\u9F20\u6807\u70B9\u51FB\u4E8B\u4EF6\r\n        this.contentList2.mouseHandler = new Laya.Handler(this, this.onContentMouseHandler2);\r\n\r\n        this._cur2D3D = true;\r\n        let start2D3D = true;\r\n        //\u5224\u65AD\u9ED8\u8BA4\u9009\u62E9\u7684\u53C2\u6570\r\n        this.category = (window as any).category;\r\n        if( this.category != \"null\" )\r\n        {\r\n            if( this.category == \"2D\" )\r\n            {\r\n                this._cur2D3D = false;\r\n                start2D3D = false;\r\n            }                \r\n            else if( this.category == \"3D\" )\r\n            {\r\n                this._cur2D3D = true;\r\n                start2D3D = true;\r\n            }        \r\n        }\r\n        this.group = Number((window as any).group);\r\n        if( isNaN(this.group) )\r\n        this.group = 0;\r\n\r\n        this.contentName = Number((window as any).name);\r\n        if( isNaN(this.contentName) )\r\n            this.contentName = 0;            \r\n\r\n        const jsonPath1: string = \"resources/json/2d.json\";\r\n        Laya.loader.load(jsonPath1).then((res) => {\r\n            //\u83B7\u53D6\u6A21\u62DFlist\u6570\u636E\u7684json\u6587\u4EF6\uFF0C\u6587\u4EF6\u8981\u63D0\u524D\u52A0\u8F7D\u597D\r\n            let _file = Laya.loader.getRes(jsonPath1);\r\n            this._json1 = _file.data.demoList;\r\n            this.initTitleList( this._json1, this.titleList1, true );\r\n            if( !start2D3D )\r\n                this.select2D(this.group);\r\n        });\r\n\r\n        const jsonPath2: string = \"resources/json/3d.json\";\r\n        Laya.loader.load(jsonPath2).then((res) => {\r\n            //\u83B7\u53D6\u6A21\u62DFlist\u6570\u636E\u7684json\u6587\u4EF6\uFF0C\u6587\u4EF6\u8981\u63D0\u524D\u52A0\u8F7D\u597D\r\n            let _file = Laya.loader.getRes(jsonPath2);\r\n            this._json2 = _file.data.demoList;\r\n            this.initTitleList( this._json2, this.titleList2, false );\r\n            if( start2D3D )\r\n                this.select3D(this.group);\r\n        });\r\n\r\n        Laya.stage.on(Laya.Event.RESIZE, this, this.onResize);\r\n\r\n        this.btn1.on(Laya.Event.CLICK, this, this.select2DFromButton);\r\n        this.btn2.on(Laya.Event.CLICK, this, this.select3DFromButton);\r\n        \r\n\r\n        \r\n        this.onResize();\r\n\r\n        this.codeButton.on(Laya.Event.CLICK, null, ()=>{\r\n\r\n            let type = this._cur2D3D==true?\"2D\":\"3D\";\r\n            let _json = null;\r\n            let index = 0;\r\n            let _contentSelectedIndexArr = null;\r\n            if( this._cur2D3D)\r\n            {\r\n                _json = this._json1;\r\n                index = this.index_2d;\r\n                _contentSelectedIndexArr = this._contentSelectedIndexArr1;\r\n            }\r\n            else\r\n            {\r\n                _json = this._json2;\r\n                index = this.index_3d;\r\n                _contentSelectedIndexArr = this._contentSelectedIndexArr2;\r\n            }\r\n            \r\n            (window as any).$.ajax( \"script/\"+ type +\"/\"+ _json[index].content[_contentSelectedIndexArr[index]].scene +\".ts\",\r\n                {\r\n                    dataType: \"text\",\r\n                    success: (code :any)=>{\r\n                        (window as any).$('#codeLayer').css('display','block'); \r\n                        (window as any).$('#fade').css('display','block');\r\n                        (window as any).editor.setValue(code);\r\n                        (window as any).editor.resize();\r\n                        (window as any).editor.moveCursorTo(0);\r\n                    },\r\n                    error: function()\r\n                    {\r\n                        console.log(arguments);\r\n                    }\r\n                });\r\n        });\r\n\r\n        this.qrcodeButton.on(Laya.Event.CLICK, null, ()=>{\r\n\r\n            (window as any).$('#qrcodeLayer').css('display','block'); \r\n\r\n            let url = Laya.Browser.window.location.href + \"?category=\"+(this._cur2D3D==true?\"2D\":\"3D\")+\"&group=\"+this.titleIndex+\"&name=\"+this.contentIndex;\r\n            console.log(url);\r\n            (window as any).$('#qrcodeTable').empty();\r\n            (window as any).$('#qrcodeTable').qrcode({\r\n                render  : \"table\",\r\n                text    : url\r\n            }); \r\n            (window as any).$('#fade').css('display','block');\r\n        });\r\n        \r\n    }\r\n\r\n    initTitleList( _json:any, list: Laya.List , d2d3 : boolean):void{\r\n\r\n        \r\n        if ( _json && _json.length > 0) {\r\n\r\n            let data: Array<any> = [];\r\n            for (let i: number = 0; i < _json.length; i++) {\r\n\r\n                //\u521D\u59CB\u5316\u6BCF\u4E2A\u5206\u7C7B\u7684\u9009\u62E9\u4E3A0\r\n                if( d2d3 ) \r\n                {\r\n                    this._contentSelectedIndexArr1[i] = 0;\r\n                    if( this.category == \"2D\" && this.group == i)\r\n                        this._contentSelectedIndexArr1[i] = this.contentName;\r\n                }                    \r\n                else\r\n                {\r\n                    this._contentSelectedIndexArr2[i] = 0;\r\n                    if( this.category == \"3D\" && this.group == i)\r\n                        this._contentSelectedIndexArr2[i] = this.contentName;\r\n                }\r\n                    \r\n                \r\n                data[i] = {};\r\n                data[i].title = { \"text\": _json[i].title };\r\n\r\n                data[i].num = { \"text\": _json[i].content.length};   \r\n            }\r\n\r\n            list.array = data;\r\n            list.repeatY = data.length;    \r\n            if( d2d3 )            \r\n                this._totalTitleHeight1 = this._titleCellSize * data.length;\r\n            else\r\n                this._totalTitleHeight2 = this._titleCellSize * data.length;\r\n\r\n            //\u4E0D\u8981\u6EDA\u52A8\u6761\u76AE\u80A4\r\n            list.vScrollBarSkin = \"\";\r\n        }\r\n    }\r\n\r\n    select2D( index:number = 0 ):void {\r\n\r\n        if( this._cur2D3D )\r\n            return;\r\n        \r\n        Index.rt = new Laya.RenderTexture(Index.pageWidth*2, Index.pageHeight*2, Laya.RenderTargetFormat.R16G16B16A16, Laya.RenderTargetFormat.DEPTHSTENCIL_24_8, false , 4 );     \r\n        Index.curPage.texture = new Laya.Texture(Index.rt);\r\n\r\n        Laya.Resource.destroyUnusedResources();\r\n        Laya.Scene.gc();\r\n\r\n        Laya.Stat.hide();\r\n        this.panel1.visible = true;\r\n        this.panel2.visible = false;\r\n        this._cur2D3D = true;\r\n        this.btn1.selected = true;\r\n        this.btn2.selected = false;\r\n        if( index == 0 )\r\n        {\r\n            this.showContentList(this.index_2d);\r\n        }            \r\n        else\r\n        {\r\n            this.index_2d = index;\r\n            this.titleIndex = index;\r\n            this.showContentList( index );\r\n        }\r\n            \r\n    }    \r\n\r\n    select2DFromButton():void {\r\n        this.select2D();\r\n    }\r\n\r\n    select3D( index:number = 0 ):void {\r\n        if( !this._cur2D3D )\r\n            return;\r\n            \r\n        this.showStat();\r\n        this.panel1.visible = false;\r\n        this.panel2.visible = true;\r\n        this._cur2D3D = false;\r\n        this.btn1.selected = false;\r\n        this.btn2.selected = true;\r\n        if( index == 0 )\r\n        {            \r\n            this.showContentList(this.index_3d);\r\n        }  \r\n        else\r\n        {\r\n            this.index_3d = index;\r\n            this.titleIndex = index;\r\n            this.showContentList( index );\r\n        }\r\n            \r\n    }  \r\n\r\n    select3DFromButton():void {\r\n        this.select3D();\r\n    }\r\n\r\n    showContentList(index: number):void {\r\n\r\n        let titleList = null;\r\n        let contentList = null;\r\n        let titleListBg = null;\r\n        let contentListBgHeight = 0;\r\n        let _totalTitleHeight = 0;\r\n        let _contentSelectedIndexArr = null;\r\n        let _json = null;\r\n        let show = false;\r\n        if( this._cur2D3D)\r\n        {\r\n            titleList = this.titleList1;\r\n            contentList = this.contentList1;\r\n            titleListBg = this.titleListBg1;\r\n            // contentListBg = this.contentListBg1;\r\n            _totalTitleHeight = this._totalTitleHeight1;\r\n            _contentSelectedIndexArr = this._contentSelectedIndexArr1;\r\n            _json = this._json1;\r\n            show = this.show_2d;\r\n        }\r\n        else\r\n        {\r\n            titleList = this.titleList2;\r\n            contentList = this.contentList2;\r\n            titleListBg = this.titleListBg2;\r\n            // contentListBg = this.contentListBg2;\r\n            _totalTitleHeight = this._totalTitleHeight2;\r\n            _contentSelectedIndexArr = this._contentSelectedIndexArr2;\r\n            _json = this._json2;\r\n            show = this.show_3d;\r\n        }\r\n            \r\n        let content = _json[index].content;\r\n\r\n        if ( content && content.length > 0 ) {\r\n            let data: Array<any> = [];\r\n            let len = content.length;\r\n            if( !show )\r\n                len = 0;\r\n            for (let i: number = 0; i < len; i++) {\r\n\r\n                data[i] = {};\r\n                \r\n                if( i == _contentSelectedIndexArr[index] )\r\n                {\r\n                    data[i].img = { \"visible\": true };\r\n                    data[i].name = { \"text\": content[i].name, \"color\": \"#ffffff\"};                    \r\n                }                    \r\n                else\r\n                {                    \r\n                    data[i].img = { \"visible\": false };\r\n                    data[i].name = { \"text\": content[i].name, \"color\": \"#717171\"};\r\n                }\r\n\r\n            }\r\n\r\n            contentList.array = data;\r\n            contentList.repeatY = data.length;\r\n            contentList.height = this._contentCellSize * data.length;\r\n\r\n            if( !show )\r\n            {\r\n                contentListBgHeight = contentList.height;\r\n                contentList.y = this._titleCellSize * (index+1);\r\n                contentList.y;\r\n            }\r\n            else\r\n            {\r\n                contentListBgHeight = contentList.height + 30;\r\n                contentList.y = this._titleCellSize * (index+1);\r\n                contentList.y += 15;\r\n            }\r\n\r\n            //\u4E0D\u8981\u6EDA\u52A8\u6761\u76AE\u80A4\r\n            contentList.vScrollBarSkin = \"\";\r\n\r\n            //titleList\u7684\u6574\u4F53\u9AD8\u5EA6\uFF0C\u7528\u6765\u8BA9panel\u53EF\u4EE5\u6ED1\u52A8\r\n            titleList.height = _totalTitleHeight + contentListBgHeight;\r\n            titleListBg.height = titleList.height + 10;\r\n        }\r\n\r\n        if( show )\r\n            this.showContent(_contentSelectedIndexArr[index]);\r\n\r\n        if( !show )\r\n            index = -1;\r\n        //\u79FB\u52A8 TitleList \u7684\u6BCF\u4E2Acell\u7684 y\r\n        for (let i: number = 0; i < _json.length; i++) {\r\n            let box = titleList.getCell(i);\r\n            if( i > index )\r\n            {\r\n                box.y = this._titleCellSize * i + contentListBgHeight;\r\n            }\r\n            else\r\n            {\r\n                box.y = this._titleCellSize * i;\r\n            }\r\n\r\n            //\u6539\u53D8\u7BAD\u5934\u7684\u65B9\u5411\r\n            let clip_arrow = (box.getChildByName(\"arrow\") as Laya.Clip);\r\n            i == index ? clip_arrow.index = 1: clip_arrow.index = 0;\r\n            let clip_select = (box.getChildByName(\"select\") as Laya.Clip);\r\n            i == index ? clip_select.index = 1: clip_select.index = 0;\r\n            let select_bg = (box.getChildByName(\"bg\") as Laya.Box);\r\n            i == index ? select_bg.visible = true: select_bg.visible = false;\r\n            let title = (box.getChildByName(\"title\") as Laya.Label);\r\n            i == index ? title.color = \"#2395db\": title.color = \"#000000\";\r\n        }        \r\n    }\r\n\r\n    showContent(index: number):void {\r\n\r\n        let contentList = null;\r\n        let _json = null;\r\n        let _contentSelectedIndexArr = null;\r\n        let type = \"\";\r\n        let _index = 0;\r\n        if( this._cur2D3D )\r\n        {\r\n            contentList = this.contentList1;\r\n            _contentSelectedIndexArr = this._contentSelectedIndexArr1;\r\n            _json = this._json1;\r\n            type = \"2D\";\r\n            _index = this.index_2d;\r\n        }\r\n        else\r\n        {\r\n            contentList = this.contentList2;\r\n            _contentSelectedIndexArr = this._contentSelectedIndexArr2;\r\n            _json = this._json2;\r\n            _index = this.index_3d;\r\n            type = \"3D\";\r\n        }\r\n\r\n        _contentSelectedIndexArr[_index] = index;\r\n        contentList.refresh();\r\n\r\n        let title = _json[_index].title; \r\n        let content = _json[_index].content[index]; \r\n\r\n        this.name.text = title + \"--\" + content.name;\r\n        this.desc.text = content.desc;\r\n        this.nameLine.width = this.getStrLength( this.name.text , this.name.fontSize);\r\n\r\n        if( this.curSceneURl == \"resources/scene/3D/Camera/CameraMSAADemo.ls\" )\r\n        {\r\n            Index.curPage.texture = new Laya.Texture(Index.rt);\r\n        }\r\n        \r\n        Laya.Scene.close(this.curSceneURl);\r\n        Laya.Scene.destroy(this.curSceneURl);\r\n        this.page.destroyChildren();\r\n\r\n        \r\n        let path = \"resources/scene/\"+type+\"/\"+content.scene+\".ls\";\r\n        console.log(\"open \"+content.scene);\r\n\r\n        if( Laya.Browser._isMiniGame && content.minigame != undefined && !content.minigame )\r\n            path = \"resources/scene/Error.ls\";\r\n\r\n        Laya.Scene.open(path, false).then( ( scene )=>{\r\n\r\n            this.curSceneURl = path;\r\n            this.curScene2D = scene;\r\n\r\n\r\n            this.page.addChild( scene );\r\n            if( this.curScene2D )\r\n            {\r\n                this.curScene2D.scale( this.page.width/Index.pageWidth , this.page.height/Index.pageHeight );\r\n            }\r\n            \r\n        } );\r\n    }\r\n\r\n    /** \u5217\u8868\u5355\u5143\u7684\u6E32\u67D3\u5904\u7406 */\r\n    onContentListRender(item: Laya.Box, index: number): void {\r\n\r\n        let titleList = null;\r\n        let _contentSelectedIndexArr = null;\r\n        let _index : number = 0;\r\n        if( this._cur2D3D )\r\n        {\r\n            titleList = this.titleList1;\r\n            _contentSelectedIndexArr = this._contentSelectedIndexArr1;\r\n            _index = this.index_2d;\r\n        }\r\n        else\r\n        {\r\n            titleList = this.titleList2;\r\n            _contentSelectedIndexArr = this._contentSelectedIndexArr2;\r\n            _index = this.index_3d;\r\n        }\r\n\r\n        //\u5982\u679C\u5F53\u524D\u7D22\u5F15\u4E0D\u5728\u6570\u636E\u6E90\u53EF\u7D22\u5F15\u8303\u56F4\uFF0C\u5219\u8DF3\u51FA\r\n        if (index > titleList.array.length || index < 0) return;\r\n        let img = item.getChildByName(\"img\") as Laya.Image;\r\n        let name = item.getChildByName(\"name\") as Laya.Label;\r\n        if( index == _contentSelectedIndexArr[_index] )\r\n        {\r\n            img.visible = true;\r\n            img.width = (name.x - img.x) * 2 + this.getStrLength( name.text , name.fontSize );\r\n            name.color = \"#ffffff\";                    \r\n        }                    \r\n        else\r\n        {      \r\n            img.visible = false;\r\n            name.color = \"#000000\";                            \r\n        }        \r\n    }\r\n\r\n    /** \u7ED1\u5B9Alist\u7684\u9F20\u6807\u70B9\u51FB\u4E8B\u4EF6 */\r\n    onTitleMouseHandler1(e: Laya.Event, index: number): void {\r\n        if (e.type != Laya.Event.CLICK) \r\n            return;\r\n        if( index == this.index_2d && this.show_2d )\r\n            this.show_2d = false;\r\n        else\r\n        {\r\n            this.index_2d = index;\r\n            this.show_2d = true;\r\n        }\r\n            \r\n        this.titleIndex = index;\r\n        this.showContentList( index );\r\n\r\n    }\r\n\r\n    /** \u7ED1\u5B9Alist\u7684\u9F20\u6807\u70B9\u51FB\u4E8B\u4EF6 */\r\n    onTitleMouseHandler2(e: Laya.Event, index: number): void {\r\n        if (e.type != Laya.Event.CLICK) \r\n            return;\r\n        if( index == this.index_3d && this.show_3d )\r\n            this.show_3d = false;\r\n        else\r\n        {\r\n            this.index_3d = index;\r\n            this.show_3d = true;\r\n        }\r\n       \r\n        this.titleIndex = index;\r\n        this.showContentList( index );\r\n\r\n    }\r\n\r\n    /** \u7ED1\u5B9Alist\u7684\u9F20\u6807\u70B9\u51FB\u4E8B\u4EF6 */\r\n    onContentMouseHandler1(e: Laya.Event, index: number): void {\r\n\r\n        if (e.type != Laya.Event.CLICK) \r\n            return;\r\n        this._contentSelectedIndexArr1[this.index_2d] = index;\r\n        this.contentIndex = index;\r\n        this.showContentList( this.index_2d );\r\n    }\r\n\r\n    /** \u7ED1\u5B9Alist\u7684\u9F20\u6807\u70B9\u51FB\u4E8B\u4EF6 */\r\n    onContentMouseHandler2(e: Laya.Event, index: number): void {\r\n        if (e.type != Laya.Event.CLICK) \r\n            return;\r\n        this._contentSelectedIndexArr2[this.index_3d] = index;\r\n        this.contentIndex = index;\r\n        this.showContentList( this.index_3d );\r\n    }\r\n\r\n    getStrLength(str:string, fontSize: number): number{\r\n\r\n        var width = 0;\r\n        for (var i = 0; i < str.length; i++) {\r\n            if (str.charCodeAt(i) > 127 || str.charCodeAt(i) == 94) {\r\n                width += fontSize;\r\n            } else {\r\n                width += (fontSize/2 + 2);\r\n            }\r\n        }\r\n        return width+2;\r\n    }\r\n\r\n    setMousePointer(): void{\r\n        //\u9F20\u6807\u53D8\u6210\u5C0F\u624B\r\n        this.btn1.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.btn1.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n        this.btn2.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.btn2.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n        this.codeButton.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.codeButton.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n        this.qrcodeButton.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.qrcodeButton.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n        this.titleList1.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.titleList1.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n        this.titleList2.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.titleList2.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n        this.contentList1.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.contentList1.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n        this.contentList2.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.contentList2.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n    }\r\n\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * Loading.ls\n */\nexport class MainBase extends Laya.Scene {\n    public loadingBar!: Laya.ProgressBar;\n}\n\n", "Laya.LayaEnv.beforeInit = function(config: Laya.IStageConfig) {\r\n    //\u8FD9\u4E2A\u65B9\u6CD5\u4F1A\u5728Laya.init\u524D\u8C03\u7528\r\n    console.log(\"before init from Main\");\r\n    //\u8FD9\u91CC\u53EF\u4EE5\u5BF9config\u4EE5\u53CALaya.Config\u3001Laya.Config3D\u8FDB\u884C\u81EA\u5B9A\u4E49\u7684\u4FEE\u6539\r\n    Laya.Config.preserveDrawingBuffer =true;\r\n    Laya.Config.isAlpha =true; \r\n}\r\n\r\nimport { MainBase } from \"./Main.generated\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('rTzxCCGgSpCehmpAEyfXIg')\r\nexport class Main extends MainBase {\r\n\r\n    // \u8FDB\u5165\u7B2C\u4E00\u4E2Aloading\u540E\uFF0C\u540E\u671F\u9884\u5148\u52A0\u8F7D\u7684\u573A\u666F\r\n    private loadingIndex = 0;\r\n    private loadingOtherScenesPath : Array<any>= [\r\n\r\n        //3D \u573A\u666F \r\n        { url: \"resources/res/threeDimen/scene/CourtyardScene/Courtyard.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/Light/MultiLight.ls\", type: Laya.Loader.HIERARCHY },\r\n\r\n        { url: \"resources/scene/3D/PostProcess/PostProcessDoF.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/PostProcess/PostProcessAO.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/PostProcess/PostProcessBloom.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/PostProcess/PostProcess_Blur.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/PostProcess/PostProcess_Edge.ls\", type: Laya.Loader.HIERARCHY },   \r\n\r\n        { url: \"resources/scene/3D/Show/GunDemo.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/Show/DamagedHelmetModelShow.ls\", type: Laya.Loader.HIERARCHY },\r\n\r\n        { url: \"resources/scene/3D/Advance/ReflectionProbe.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/Advance/VideoPlayIn3DWorld.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/Advance/CommandBuffer_Outline.ls\", type: Laya.Loader.HIERARCHY },\r\n\r\n        { url: \"resources/res/threeDimen/LayaScene_separable-sss/Conventional/HeadBlinnphong.lh\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/res/threeDimen/texAnimation/Attack01/Attack01.lh\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/res/threeDimen/texAnimation/role/role.lh\", type: Laya.Loader.HIERARCHY }\r\n\r\n    ];\r\n\r\n    onAwake(): void {\r\n\r\n        \r\n        let resArr : Array<any>= [\r\n\r\n            //UI \u8D44\u6E90\r\n            { url: \"resources/image/button1.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/button2.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/clip_arrow.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/clip_num_bg.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/img_blue_line.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/img_btn_bg.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/img_frame.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/img_list_bg.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/img_selected_bg.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/img_white_bg.jpg\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/img_white_line.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/vscroll.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/vscroll$bar.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/vscroll$down.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/vscroll$up.png\",   type:Laya.Loader.IMAGE },\r\n\r\n            //2D \u8D44\u6E90\r\n            { url: \"resources/res/apes/monkey0.png\", type: Laya.Loader.IMAGE },\r\n            { url: \"resources/res/apes/monkey1.png\", type: Laya.Loader.IMAGE },\r\n            { url: \"resources/res/apes/monkey2.png\", type: Laya.Loader.IMAGE },\r\n            { url: \"resources/res/apes/monkey3.png\", type: Laya.Loader.IMAGE },\r\n            { url: \"resources/res/fighter/fighter.atlas\", type: Laya.Loader.ATLAS },\r\n            { url: \"resources/res/bg2.png\", type: Laya.Loader.IMAGE },\r\n\r\n            //Json \u8D44\u6E90\r\n            { url: \"resources/res/tiledMap/orthogonal-test-movelayer.json\", type: Laya.Loader.JSON },\r\n            { url: \"resources/res/tiledMap/isometric_grass_and_water.json\", type: Laya.Loader.JSON },\r\n            { url: \"resources/res/tiledMap/perspective_walls.json\", type: Laya.Loader.JSON },\r\n            { url: \"resources/res/tiledMap/desert.json\", type: Laya.Loader.JSON },\r\n\r\n            //3D \u8D44\u6E90       \r\n            { url: \"resources/res/threeDimen/skinModel/BoneLinkScene/PangZi.lh\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/staticModel/grid/plane.lh\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/particle/ETF_Burning_Ground.lh\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/particle/ETF_Eternal_Light.lh\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/skinModel/dude/dude.lh\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/trail/Cube.lh\", type: Laya.Loader.HIERARCHY },\r\n\r\n            // \u7EB9\u7406\u8D44\u6E90\r\n            { url: \"resources/scene/3D/Scene3D/GriendSkyAmbientDemo/GriendSkyAmbientDemo.ktx\", type: Laya.Loader.TEXTURE2D },\r\n            { url: \"resources/scene/3D/Material/PBRMaterialDemo/PBRMaterialDemo.ktx\", type: Laya.Loader.TEXTURE2D },\r\n            { url: \"resources/res/threeDimen/LayaScene_MaskModelTest/Conventional/Assets/Scenes/MaskModelTestGIReflection.ltcb\", type: Laya.Loader.TEXTURE2D },\r\n\r\n            // LoadGltfRosource\r\n            { url: \"resources/res/threeDimen/fbx/LayaMonkey.FBX\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/fbx/Danding.lh\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/fbx/Stand.FBX\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/fbx/Material.lmat\", type: Laya.Loader.MATERIAL },\r\n            { url: \"resources/res/threeDimen/fbx/LayaMonkey.lmat\", type: Laya.Loader.MATERIAL },\r\n\r\n            // LoadFbxRosource\r\n            { url: \"resources/res/threeDimen/gltf/AnimatedCube/AnimatedCube.lh\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/gltf/RiggedFigure/RiggedFigure.gltf\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/gltf/Duck/Duck.lh\", type: Laya.Loader.HIERARCHY },\r\n\r\n            // EnvironmentalReflection\r\n            { url: \"resources/res/threeDimen/staticModel/teapot/teapot-Teapot001.lm\", type: Laya.Loader.MESH },\r\n            { url: \"resources/res/threeDimen/skyBox/DawnDusk/Skybox.lmat\", type: Laya.Loader.MATERIAL }, \r\n            \r\n            // GarbageCollection\r\n            { url: \"resources/res/threeDimen/scene/LayaScene_dudeScene/Conventional/dudeSceneNoCamera.ls\", type: Laya.Loader.HIERARCHY }\r\n\r\n        ]; \r\n\r\n        console.time();\r\n        Laya.loader.load(\r\n            //\u5148\u52A0\u8F7D\u672C\u573A\u666F\u8981\u7528\u7684\r\n            [\"resources/image/ly.png\", \"resources/image/progress.png\", \"resources/image/progress$bar.png\"]\r\n        ).then(() => {\r\n            console.timeEnd();\r\n            console.log(\"\u5148\u52A0\u8F7D\u672C\u573A\u666F\u8981\u7528\u7684\u5B8C\u6210\");\r\n\r\n            //\u6539\u4E3A\u65B0\u7684\u65B9\u5F0F\uFF0C\u540C\u65F6\u53EF\u4EE5\u52A0\u8F7D2D,3D\u8D44\u6E90\r\n            Laya.loader.load(resArr, null, Laya.Handler.create(this, this.onLoading, null, false)).then(()=> {\r\n\r\n                this.onLoaded();                \r\n                \r\n            });\r\n            // \u4FA6\u542C\u52A0\u8F7D\u5931\u8D25\r\n            Laya.loader.on(Laya.Event.ERROR, this, this.onError);\r\n\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n   * \u5F53\u62A5\u9519\u65F6\u6253\u5370\u9519\u8BEF\r\n   * @param err \u62A5\u9519\u4FE1\u606F\r\n   */\r\n    onError(err: string): void {\r\n        console.log(\"\u52A0\u8F7D\u5931\u8D25: \" + err);\r\n    }\r\n\r\n    /**\r\n     * \u52A0\u8F7D\u65F6\u4FA6\u542C\r\n     */\r\n    onLoading(progress: number): void {\r\n        //\u63A5\u8FD1\u5B8C\u6210\u52A0\u8F7D\u65F6\uFF0C\u8BA9\u663E\u793A\u8FDB\u5EA6\u6BD4\u5B9E\u9645\u8FDB\u5EA6\u6162\u4E00\u70B9\uFF0C\u8FD9\u662F\u4E3A\u6253\u5F00\u573A\u666F\u65F6\u7684\u81EA\u52A8\u52A0\u8F7D\u9884\u7559\uFF0C\u5C24\u5176\u662F\u8981\u6253\u5F00\u7684\u573A\u666F\u8D44\u6E90\u591A\uFF0C\u5E76\u6CA1\u6709\u5B8C\u5168\u653E\u5230\u9884\u52A0\u8F7D\u4E2D\uFF0C\u8FD8\u9700\u8981\u518D\u81EA\u52A8\u52A0\u8F7D\u4E00\u90E8\u5206\u65F6\u3002\r\n        if (progress > 0.92) this.loadingBar.value = 0.95;\r\n        else\r\n        {\r\n            this.loadingBar.value = progress;\r\n            //console.log(\"\u52A0\u8F7D\u8FDB\u5EA6: \" + progress, this.loadingBar.value);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \u52A0\u8F7D\u5B8C\u6210\u540E\uFF0C\u5904\u7406\u903B\u8F91\r\n     */\r\n    onLoaded(): void {\r\n        this.loadingBar.value = 0.98;\r\n        console.log(\"\u52A0\u8F7D\u7ED3\u675F\", this.loadingBar.value);\r\n\r\n        if( !Laya.Browser._isMiniGame )\r\n        {\r\n            this.initDom();\r\n            this.initAce();\r\n        }\r\n\r\n        this.enterDemo();\r\n    }\r\n\r\n    /**\r\n     * \u521D\u59CB\u5316\u67E5\u770B\u6E90\u7801\u548C\u4E8C\u7EF4\u7801\u7528\u5230\u7684Dom\u8282\u70B9\r\n     */\r\n    initDom(): void {\r\n\r\n        let url = \"resources/image/img_code_close.png\";\r\n        \r\n        //\u67E5\u770B\u6E90\u7801\r\n        var codeLayer:any = Laya.Browser.document.createElement(\"div\");\r\n        codeLayer.id = \"codeLayer\";\r\n        codeLayer.style = \"display: none;position: absolute;top: 15%;left: 20%;width: 60%;height: 70%;background-color: #e4e4e4;z-index:1002;overflow: auto;\";\r\n        Laya.Browser.document.body.appendChild(codeLayer);\r\n\r\n        var span:any = Laya.Browser.document.createElement(\"span\");\r\n        span.style = \"position:absolute;text-align:center;color:#000000;width:100%;top:10;font-size:20px;\";\r\n        span.innerHTML = \"\u6E90\u7801&nbsp;&nbsp;\";\r\n        codeLayer.appendChild(span);\r\n\r\n        var img:any = Laya.Browser.document.createElement(\"img\");\r\n        img.style = \"position:absolute;right:15;top:10;cursor:pointer;\";\r\n        \r\n        img.src = Laya.URL.postFormatURL(Laya.URL.formatURL(url));\r\n        img.setAttribute(\"href\", \"javascript:void(0)\");\r\n        img.setAttribute(\"onclick\", \"document.getElementById(\\'codeLayer\\').style.display=\\'none\\';document.getElementById(\\'fade\\').style.display=\\'none\\'\");\r\n        codeLayer.appendChild(img);\r\n\r\n        var pre:any = Laya.Browser.document.createElement(\"pre\");\r\n        pre.id = \"code\";\r\n        pre.setAttribute(\"class\", \"ace_editor\");\r\n        pre.style = \"position:absolute;top:30px;width:99%;height:91%;border:2px solid #ccc;\";\r\n        codeLayer.appendChild(pre);\r\n\r\n        var textarea:any = Laya.Browser.document.createElement(\"textarea\");\r\n        textarea.id = \"codeContent\";\r\n        textarea.setAttribute(\"class\", \"ace_text-input\");\r\n        pre.appendChild(textarea);\r\n\r\n        //\u4E8C\u7EF4\u7801\r\n        var qrcodeLayer:any = Laya.Browser.document.createElement(\"div\");\r\n        qrcodeLayer.id = \"qrcodeLayer\";\r\n        qrcodeLayer.style = \"display: none;position: absolute;left: 0;right: 0;top: 0;bottom: 0;text-align:center;margin:auto;width: 316px; height: 346px;background-color: #e4e4e4; z-index:1002; overflow: false;\";\r\n        Laya.Browser.document.body.appendChild(qrcodeLayer);\r\n\r\n        var qrcodeSpan:any = Laya.Browser.document.createElement(\"span\");\r\n        qrcodeSpan.style = \"position:absolute;text-align:center;color:#000000;width:100%;top:10px;left:10px;font-size:20px;\";\r\n        qrcodeSpan.innerHTML = \"\u626B\u63CF\u4E8C\u7EF4\u7801&nbsp;&nbsp;\";\r\n        qrcodeLayer.appendChild(qrcodeSpan);\r\n\r\n        var qrcodeImg:any = Laya.Browser.document.createElement(\"img\");\r\n        qrcodeImg.style = \"position:absolute;right:15;top:10;cursor:pointer;\";\r\n        qrcodeImg.src = Laya.URL.postFormatURL(Laya.URL.formatURL(url));\r\n        qrcodeImg.setAttribute(\"href\", \"javascript:void(0)\");\r\n        qrcodeImg.setAttribute(\"onclick\", \"document.getElementById(\\'qrcodeLayer\\').style.display=\\'none\\';document.getElementById(\\'fade\\').style.display=\\'none\\'\");\r\n        qrcodeLayer.appendChild(qrcodeImg);\r\n\r\n        console.log(\"asd\");\r\n        var qrcode:any = Laya.Browser.document.createElement(\"div\");\r\n        qrcode.id = \"qrcode\";\r\n        qrcode.style = \"position:absolute;top:30px;padding: 30px 30px 30px 30px;\";\r\n        qrcodeLayer.appendChild(qrcode);\r\n\r\n        var qrcodeTable:any = Laya.Browser.document.createElement(\"div\");\r\n        qrcodeTable.id = \"qrcodeTable\";\r\n        qrcode.appendChild(qrcodeTable);\r\n\r\n        //\u6697\u8272\u5E95\u677F\r\n        var fade:any = Laya.Browser.document.createElement(\"div\");\r\n        fade.id = \"fade\";\r\n        fade.style = \"display: none;position: absolute;top: 0%;left: 0%; width: 100%; height: 100%; background-color: black; z-index:1001; -moz-opacity: 0.8; opacity:.80; filter: alpha(opacity=88);\";\r\n        Laya.Browser.document.body.appendChild(fade);//\u6DFB\u52A0\u5230\u9875\u9762\uFF1B\r\n    }\r\n            \r\n    /**\r\n     * \u521D\u59CB\u5316\u67E5\u770B\u6E90\u7801\u7684\u7B2C\u4E09\u65B9JS\u7C7B\u5E93\r\n     */\r\n    initAce(): void {\r\n\r\n        //\u52A0\u8F7Dace.js\r\n        var script1:any = Laya.Browser.document.createElement(\"script\");\r\n        script1.src = \"https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/ace.js\";\r\n        script1.onload = function():void{\r\n\r\n            //\u52A0\u8F7Dext-language_tools.js\r\n            var script2:any = Laya.Browser.document.createElement(\"script\");\r\n            script2.src = \"https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/ext-language_tools.js\";\r\n            script2.onload = function():void{\r\n\r\n                //\u8BB0\u8F7Dace\u7684\u521D\u59CB\u5316\u4EE3\u7801\uFF0C\u5728bin\u76EE\u5F55\u4E0B\u7684aceInit.js\uFF0C\u521D\u59CB\u5316\u4E4B\u524D\u5148\u521B\u5EFA\u597DDom\r\n                var script:any = Laya.Browser.document.createElement(\"script\");\r\n                script.src = Laya.URL.postFormatURL(Laya.URL.formatURL(\"js/aceInit.js\"));\r\n                script.onerror = function():void{\r\n                    //\u52A0\u8F7D\u9519\u8BEF\u51FD\u6570\r\n                    console.log(\"download \"+script.src+\" error\");\r\n                }\r\n                Laya.Browser.document.body.appendChild(script);\r\n\r\n            }\r\n            script2.onerror = function():void{\r\n                //\u52A0\u8F7D\u9519\u8BEF\u51FD\u6570\r\n                console.log(\"download \"+script2.src+\" error\");\r\n            }\r\n            Laya.Browser.document.body.appendChild(script2);\r\n\r\n        }\r\n        script1.onerror = function():void{\r\n            //\u52A0\u8F7D\u9519\u8BEF\u51FD\u6570\r\n            console.log(\"download \"+script1.src+\" error\");\r\n        }\r\n        Laya.Browser.document.body.appendChild(script1);\r\n    }\r\n\r\n    /**\r\n     * \u521D\u59CB\u5316\u67E5\u770B\u6E90\u7801\u7684\u7B2C\u4E09\u65B9JS\u7C7B\u5E93\r\n     */\r\n    enterDemo(): void {\r\n        //\u8DF3\u8F6C\u5230\u5165\u53E3\u573A\u666F\r\n        Laya.Scene.open(\"resources/scene/Index.ls\"); //\u4E0D\u8981\u4F7F\u7528Laya.Scene.open(\"./Scenes/Index.ls\");   \r\n        // Laya.timer.once( 3000, this, ()=>{\r\n        //     this.loadOtherScene(this.loadingIndex);\r\n        // } );    \r\n    }\r\n\r\n    /**\r\n     * \u9884\u5148\u52A0\u8F7D\u5176\u5B83\u573A\u666F\u8D44\u6E90\r\n     */\r\n    loadOtherScene(index: number): void{\r\n\r\n        if( index == this.loadingOtherScenesPath.length )\r\n            return;\r\n\r\n        Laya.loader.load(\r\n            this.loadingOtherScenesPath[index]\r\n        ).then(() => {\r\n            console.log(\"\u540E\u671F\u52A0\u8F7D\u5B8C \"+index+ \" \u573A\u666F\" );\r\n            this.loadingIndex ++;\r\n            this.loadOtherScene(this.loadingIndex);\r\n        });\r\n    }\r\n}", "import Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Vector3 = Laya.Vector3;\r\nimport Quaternion = Laya.Quaternion;\r\nimport InputManager = Laya.InputManager;\r\nimport Event = Laya.Event;\r\nimport BaseCamera = Laya.BaseCamera;\r\n/**\r\n * ...\r\n * @author\r\n */\r\nexport class CameraMoveScript extends Laya.Script {\r\n\r\n\t/** @private */\r\n\tprotected _tempVector3: Vector3 = new Vector3();\r\n\tprotected lastMouseX: number;\r\n\tprotected lastMouseY: number;\r\n\tprotected yawPitchRoll: Vector3 = new Vector3();\r\n\tprotected resultRotation: Quaternion = new Quaternion();\r\n\tprotected tempRotationZ: Quaternion = new Quaternion();\r\n\tprotected tempRotationX: Quaternion = new Quaternion();\r\n\tprotected tempRotationY: Quaternion = new Quaternion();\r\n\tprotected isMouseDown: boolean;\r\n\tprotected rotaionSpeed: number = 0.00006;\r\n\tprotected camera: BaseCamera;\r\n\tprotected scene: Scene3D;\r\n\r\n\tspeed: number = 0.0008;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tprotected _updateRotation(): void {\r\n\t\tif (Math.abs(this.yawPitchRoll.y) < 1.50) {\r\n\t\t\tQuaternion.createFromYawPitchRoll(this.yawPitchRoll.x, this.yawPitchRoll.y, this.yawPitchRoll.z, this.tempRotationZ);\r\n\t\t\tthis.tempRotationZ.cloneTo(this.camera.transform.localRotation);\r\n\t\t\tthis.camera.transform.localRotation = this.camera.transform.localRotation;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc\r\n\t */\r\n\tonAwake(): void {\r\n\t\tLaya.stage.on(Event.RIGHT_MOUSE_DOWN, this, this.mouseDown);\r\n\t\tLaya.stage.on(Event.RIGHT_MOUSE_UP, this, this.mouseUp);\r\n\t\tthis.camera = (<Camera>this.owner);\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc\r\n\t */\r\n\tonUpdate(): void {\r\n\t\tvar elapsedTime: number = Laya.timer.delta;\r\n\t\tif (!isNaN(this.lastMouseX) && !isNaN(this.lastMouseY) && this.isMouseDown) {\r\n\t\t\tvar scene = this.owner.scene;\r\n\t\t\tInputManager.hasKeyDown(87) && this.moveForward(-this.speed * elapsedTime);//W\r\n\t\t\tInputManager.hasKeyDown(83) && this.moveForward(this.speed * elapsedTime);//S\r\n\t\t\tInputManager.hasKeyDown(65) && this.moveRight(-this.speed * elapsedTime);//A\r\n\t\t\tInputManager.hasKeyDown(68) && this.moveRight(this.speed * elapsedTime);//D\r\n\t\t\tInputManager.hasKeyDown(81) && this.moveVertical(this.speed * elapsedTime);//Q\r\n\t\t\tInputManager.hasKeyDown(69) && this.moveVertical(-this.speed * elapsedTime);//E\r\n\r\n\t\t\tvar offsetX: number = Laya.stage.mouseX - this.lastMouseX;\r\n\t\t\tvar offsetY: number = Laya.stage.mouseY - this.lastMouseY;\r\n\r\n\t\t\tvar yprElem: Vector3 = this.yawPitchRoll;\r\n\t\t\typrElem.x -= offsetX * this.rotaionSpeed * elapsedTime;\r\n\t\t\typrElem.y -= offsetY * this.rotaionSpeed * elapsedTime;\r\n\t\t\tthis._updateRotation();\r\n\t\t}\r\n\t\tthis.lastMouseX = Laya.stage.mouseX;\r\n\t\tthis.lastMouseY = Laya.stage.mouseY;\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc\r\n\t */\r\n\tonDestroy(): void {\r\n\t\tLaya.stage.off(Event.RIGHT_MOUSE_DOWN, this, this.mouseDown);\r\n\t\tLaya.stage.off(Event.RIGHT_MOUSE_UP, this, this.mouseUp);\r\n\t}\r\n\r\n\tprotected mouseDown(e: Event): void {\r\n\t\tthis.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);\r\n\r\n\t\tthis.lastMouseX = Laya.stage.mouseX;\r\n\t\tthis.lastMouseY = Laya.stage.mouseY;\r\n\t\tthis.isMouseDown = true;\r\n\t}\r\n\r\n\tprotected mouseUp(e: Event): void {\r\n\t\tthis.isMouseDown = false;\r\n\t}\r\n\r\n\tprotected mouseOut(e: Event): void {\r\n\t\tthis.isMouseDown = false;\r\n\t}\r\n\r\n\t/**\r\n\t * \u5411\u524D\u79FB\u52A8\u3002\r\n\t * @param distance \u79FB\u52A8\u8DDD\u79BB\u3002\r\n\t */\r\n\tmoveForward(distance: number): void {\r\n\t\tthis._tempVector3.x = this._tempVector3.y = 0;\r\n\t\tthis._tempVector3.z = distance;\r\n\t\tthis.camera.transform.translate(this._tempVector3);\r\n\t}\r\n\r\n\t/**\r\n\t * \u5411\u53F3\u79FB\u52A8\u3002\r\n\t * @param distance \u79FB\u52A8\u8DDD\u79BB\u3002\r\n\t */\r\n\tmoveRight(distance: number): void {\r\n\t\tthis._tempVector3.y = this._tempVector3.z = 0;\r\n\t\tthis._tempVector3.x = distance;\r\n\t\tthis.camera.transform.translate(this._tempVector3);\r\n\t}\r\n\r\n\t/**\r\n\t * \u5411\u4E0A\u79FB\u52A8\u3002\r\n\t * @param distance \u79FB\u52A8\u8DDD\u79BB\u3002\r\n\t */\r\n\tmoveVertical(distance: number): void {\r\n\t\tthis._tempVector3.x = this._tempVector3.z = 0;\r\n\t\tthis._tempVector3.y = distance;\r\n\t\tthis.camera.transform.translate(this._tempVector3, false);\r\n\t}\r\n\r\n}\r\n\r\n\r\n", "import { CameraMoveScript } from \"./3D/common/CameraMoveScript\";\r\nimport Index from \"./Index\";\r\nimport Stat = Laya.Stat;\r\nimport Button = Laya.Button;\r\nimport Event = Laya.Event;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('-ZmmsnFvTKeOcW0JNlTkMQ')\r\nexport class BaseScript extends Laya.Script {\r\n\r\n    public box2D: Laya.Box;\r\n\r\n    public pageWidth: number;\r\n    public pageHeight: number;\r\n\r\n    private _button: Button;\r\n    private _buttonType: number;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        \r\n\r\n        this.pageWidth = Laya.stage.designHeight * Laya.Browser.clientWidth / Laya.Browser.clientHeight;\r\n        this.pageHeight = Laya.stage.designHeight;\r\n        if( Index.curPage )\r\n        {\r\n            this.pageWidth = Index.pageWidth;\r\n            this.pageHeight = Index.pageHeight;\r\n        }\r\n        // console.log(\"Browser.clientWidth:\"+Laya.Browser.clientWidth + \"  Laya.stage.designWidth:\"+Laya.stage.designWidth);\r\n        // console.log(\"Browser.clientHeight:\"+Laya.Browser.clientHeight + \"  Laya.stage.designHeight:\"+Laya.stage.designHeight);\r\n        // console.log(\">>\", \"[screenWidth:\" + this.pageWidth + \"] [screenHeight:\" + this.pageHeight + \"]\");\r\n    }\r\n\r\n    /**\r\n     * \u7EC4\u4EF6\u88AB\u6FC0\u6D3B\u540E\u6267\u884C\uFF0C\u6B64\u65F6\u6240\u6709\u8282\u70B9\u548C\u7EC4\u4EF6\u5747\u5DF2\u521B\u5EFA\u5B8C\u6BD5\uFF0C\u6B64\u65B9\u6CD5\u53EA\u6267\u884C\u4E00\u6B21\r\n     */\r\n    base(camera : Laya.Camera = null, moveCamera: boolean = true, spec: boolean = false): void {\r\n\r\n        \r\n        this.box2D = this.owner as Laya.Panel;\r\n        this.box2D.bgColor = \"#232628\";\r\n        if(Index && Index.curPage && camera )\r\n        {\r\n            if( moveCamera )\r\n            {                \r\n                camera.addComponent(CameraMoveScript);                \r\n            }                \r\n\r\n            if( !spec )\r\n            {\r\n                //\u628A3D\u6444\u50CF\u673A\u89C6\u56FE\u753B\u5230256\u5BBD\u9AD8\u7684\u7EB9\u7406\u4E0A\r\n                camera.msaa = true;\r\n                camera.renderTarget = Index.rt;\r\n            }\r\n\r\n        }\r\n        else if (camera )\r\n        {\r\n            if( moveCamera )\r\n            {                \r\n                camera.addComponent(CameraMoveScript);                \r\n            }   \r\n            Laya.Stat.show(0,0, [Stat.FPSStatUIParams, Stat.NodeStatUIParams, Stat.Sprite3DStatUIParams, Stat.DrawCall, Stat.TriangleFace, Stat.RenderNode, Stat.SkinRenderNode, Stat.ParticleRenderNode\r\n                , Stat.FrustumCulling, Stat.GPUMemory, Stat.TextureMemeory, Stat.RenderTextureMemory, Stat.BufferMemory, Stat.BufferMemory]);            \r\n        }\r\n\r\n    }\r\n\r\n    public setCameraDirectionLight( camera: Camera, directionLight: DirectionLight, fieldOfView : number = 60): void {\r\n\r\n\t\tcamera.transform.position = new Vector3(0, 2, 3);\r\n\t\tcamera.transform.rotationEuler = new Vector3(-30, 0, 0);\r\n\t\tcamera.useOcclusionCulling = false;\r\n\t\t//\u8BBE\u7F6E\u6444\u50CF\u673A\u89C6\u91CE\u8303\u56F4\uFF08\u89D2\u5EA6\uFF09\r\n\t\tcamera.fieldOfView = fieldOfView;\r\n\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u989C\u8272\r\n\t\tdirectionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\r\n    }\r\n\r\n    public addBottomButton( buttonNames: string[], caller: any, func: Function[] ): void {\r\n \r\n        this._buttonType = 0;\r\n        this._button = (<Button>this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", buttonNames[0])));\r\n        this._button.size(150, 40);\r\n        this._button.labelSize = 16;\r\n        this._button.sizeGrid = \"21,83,22,76\";\r\n        this._button.stateNum = 1;\r\n        this._button.labelColors = \"#ffffff\";\r\n        this._button.pos(this.pageWidth / 2 - this._button.width/2, this.pageHeight - 50);\r\n        this._button.on(Event.CLICK, this, ()=>{\r\n            this._buttonType++;\r\n            \r\n            // \u6309\u94AE2\u6B21\u5207\u6362\r\n            if( buttonNames.length == 2 ) {\r\n                this._buttonType %= 2;\r\n                switch (this._buttonType) {\r\n                    case 0:\r\n                        this._button.label = buttonNames[0];\r\n                        func[1].apply( caller );\r\n                        break;\r\n                    case 1:\r\n                        this._button.label = buttonNames[1];\r\n                        func[0].apply( caller );\r\n                        break;\r\n                }\r\n            }\r\n                \r\n            // \u6309\u94AE3\u6B21\u5207\u6362\r\n            else if( buttonNames.length == 3 ) {\r\n                this._buttonType %= 3;\r\n                switch (this._buttonType) {\r\n                    case 0:\r\n                        this._button.label = buttonNames[0];\r\n                        func[2].apply( caller );\r\n                        break;\r\n                    case 1:\r\n                        this._button.label = buttonNames[1];\r\n                        func[0].apply( caller );\r\n                        break;\r\n                    case 2:\r\n                        this._button.label = buttonNames[2];\r\n                        func[1].apply( caller );\r\n                        break;                        \r\n                }\r\n            }\r\n                \r\n        });\r\n\r\n        this._button.on(Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this._button.on(Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Handler = Laya.Handler;\r\nimport Tween = Laya.Tween;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('B2ErhHiHQESJEG4vwrDQqw')\r\nexport class BlendMode_Lighter extends BaseScript {\r\n\r\n\t@property({type: Laya.Sprite})\r\n\tbgSp: Laya.Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    \t// \u4E00\u53EA\u51E4\u51F0\u7684\u5206\u8FA8\u7387\u662F550 * 400\r\n\tprivate phoenixWidth: number = 750;\r\n\tprivate phoenixHeight: number = 450;\r\n\r\n\tprivate bgColorTweener: Tween = new Tween();\r\n\tprivate gradientInterval: number = 2000;\r\n\tprivate bgColorChannels: any = { 'r': 99, 'g': 0, 'b': 0xFF };\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.createPhoenixes();\r\n\r\n\t\t// \u52A8\u6001\u80CC\u666F\u6E32\u67D3\r\n\t\tthis.evalBgColor();\r\n\t\tLaya.timer.frameLoop(1, this, this.renderBg);\r\n\t}\r\n\r\n\tprivate createPhoenixes(): void {\r\n\t\tvar scaleFactor: number = Math.min(\r\n\t\t\tthis.pageWidth / (this.phoenixWidth * 2),\r\n\t\t\tthis.pageHeight / this.phoenixHeight);\r\n\r\n\t\t// \u52A0\u4E86\u6DF7\u5408\u6A21\u5F0F\u7684\u51E4\u51F0\r\n\t\tthis.blendedPhoenix = this.createAnimation();\r\n\t\tthis.blendedPhoenix.blendMode = \"lighter\";\r\n\t\tthis.blendedPhoenix.scale(scaleFactor, scaleFactor);\r\n\t\tthis.blendedPhoenix.y = (this.pageHeight - this.phoenixHeight * scaleFactor) / 2;\r\n\r\n\t\t// \u6B63\u5E38\u6A21\u5F0F\u7684\u51E4\u51F0\r\n\t\tthis.normalPhoenix = this.createAnimation();\r\n\t\tthis.normalPhoenix.scale(scaleFactor, scaleFactor);\r\n\t\tthis.normalPhoenix.x = this.phoenixWidth * scaleFactor;\r\n\t\tthis.normalPhoenix.y = (this.pageHeight - this.phoenixHeight * scaleFactor) / 2;\r\n\t}\r\n\r\n\tnormalPhoenix: Animation;\r\n\tblendedPhoenix: Animation;\r\n\tprivate createAnimation(): Animation {\r\n\t\tvar frames: any[] = [];\r\n\t\tfor (var i: number = 1; i <= 25; ++i) {\r\n\t\t\tframes.push(\"resources/res/phoenix/phoenix\" + this.preFixNumber(i, 4) + \".jpg\");\r\n\t\t}\r\n\r\n\t\tvar animation: Animation = new Animation();\r\n\t\tanimation.loadImages(frames);\r\n\t\tthis.box2D.addChild(animation);\r\n\r\n\t\tvar clips: any[] = animation.frames.concat();\r\n\t\t// \u53CD\u8F6C\u5E27\r\n\t\tclips = clips.reverse();\r\n\t\t// \u6DFB\u52A0\u5230\u5DF2\u6709\u5E27\u672B\u5C3E\r\n\t\tanimation.frames = animation.frames.concat(clips);\r\n\r\n\t\tanimation.play();\r\n\r\n\t\treturn animation;\r\n\t}\r\n\t\r\n\tprivate preFixNumber(num: number, strLen: number): string {\r\n\t\treturn (\"0000000000\" + num).slice(-strLen);\r\n\t}\r\n\r\n\tprivate evalBgColor(): void {\r\n\t\tvar color: number = Math.random() * 0xFFFFFF;\r\n\t\tvar channels: any[] = this.getColorChannals(color);\r\n\t\tthis.bgColorTweener.to(this.bgColorChannels, { \"r\": channels[0], \"g\": channels[1], \"b\": channels[2] }, this.gradientInterval, null, Handler.create(this, this.onTweenComplete));\r\n\t}\r\n\r\n\tprivate getColorChannals(color: number): any[] {\r\n\t\tvar result: any[] = [];\r\n\t\tresult.push(color >> 16);\r\n\t\tresult.push(color >> 8 & 0xFF);\r\n\t\tresult.push(color & 0xFF);\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate onTweenComplete(): void {\r\n\t\tthis.evalBgColor();\r\n\t}\r\n\r\n\tprivate renderBg(): void {\r\n\t\tthis.bgSp.graphics.clear();\r\n\t\tthis.bgSp.graphics.drawRect(\r\n        \tthis.blendedPhoenix.x,\r\n\t\t\tthis.blendedPhoenix.y,\r\n        \tthis.phoenixWidth,\r\n\t\t\tthis.phoenixHeight,\r\n\t\t\tthis.getHexColorString()\r\n\t\t);\r\n        \r\n\t}\r\n\r\n\tprivate getHexColorString(): string {\r\n\t\tthis.bgColorChannels.r = Math.floor(this.bgColorChannels.r);\r\n\t\t// \u7EFF\u8272\u901A\u9053\u4F7F\u75280\r\n\t\tthis.bgColorChannels.g = 0;\r\n\t\t//obj.g = Math.floor(obj.g);\r\n\t\tthis.bgColorChannels.b = Math.floor(this.bgColorChannels.b);\r\n\r\n\t\tvar r: string = this.bgColorChannels.r.toString(16);\r\n\t\tr = r.length == 2 ? r : \"0\" + r;\r\n\t\tvar g: string = this.bgColorChannels.g.toString(16);\r\n\t\tg = g.length == 2 ? g : \"0\" + g;\r\n\t\tvar b: string = this.bgColorChannels.b.toString(16);\r\n\t\tb = b.length == 2 ? b : \"0\" + b;\r\n\t\treturn \"#\" + r + g + b;\r\n\t}\r\n\r\n    /**\r\n     * \u624B\u52A8\u8C03\u7528\u8282\u70B9\u9500\u6BC1\u65F6\u6267\u884C\r\n     */\r\n\tonDestroy(): void {\r\n\t\tif (this.blendedPhoenix == null)\r\n\t\t\treturn;\r\n\t\tif (this.normalPhoenix == null)\r\n\t\t\treturn;\r\n\t\tthis.bgColorTweener.clear();\r\n\t\tthis.normalPhoenix.stop();\r\n\t\tthis.blendedPhoenix.stop();\r\n\t\tLaya.timer.clear(this, this.renderBg);\r\n\t\tthis.box2D.graphics.clear();\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Browser = Laya.Browser;\r\nimport RotationInfo = Laya.RotationInfo;\r\nimport Handler = Laya.Handler;\r\nimport Text = Laya.Text;\r\nimport Gyroscope = Laya.Gyroscope;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('vW0TOgNgTi29IFye-FByfQ')\r\nexport class InputDevice_Compasss extends BaseScript {\r\n\r\n\tprivate compassImgPath: string = \"resources/res/inputDevice/kd.png\";\r\n\tprivate compassImg: Sprite;\r\n\tprivate degreesText: Text;\r\n\tprivate directionIndicator: Sprite;\r\n\tprivate firstTime: boolean = true;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tLaya.loader.load(this.compassImgPath).then( ()=>{\r\n            this.init();\r\n        } );\r\n\t}\r\n\r\n\tprivate init(): void {\r\n\t\t// \u521B\u5EFA\u7F57\u76D8\r\n\t\tthis.createCompass();\r\n\t\t// \u521B\u5EFA\u65B9\u4F4D\u6307\u793A\u5668\r\n\t\tthis.createDirectionIndicator();\r\n\t\t// \u753B\u51FA\u5176\u4ED6UI\r\n\t\tthis.drawUI();\r\n\t\t// \u521B\u5EFA\u663E\u793A\u89D2\u5EA6\u7684\u6587\u672C\r\n\t\tthis.createDegreesText();\r\n\r\n\t\tGyroscope.instance.on(Event.CHANGE, this, this.onOrientationChange);\r\n\t}\r\n\r\n\tprivate createCompass(): void {\r\n\t\tthis.compassImg = new Sprite();\r\n\t\tthis.box2D.addChild(this.compassImg);\r\n\t\tthis.compassImg.loadImage(this.compassImgPath);\r\n\r\n\t\tthis.compassImg.pivot(this.compassImg.width / 2, this.compassImg.height / 2);\r\n\t\tthis.compassImg.pos(this.pageWidth / 2, 400);\r\n\t}\r\n\r\n\tprivate drawUI(): void {\r\n\t\tvar canvas: Sprite = new Sprite();\r\n\t\tthis.box2D.addChild(canvas);\r\n\r\n\t\tcanvas.graphics.drawLine(this.compassImg.x, 50, this.compassImg.x, 182, \"#FFFFFF\", 3);\r\n\r\n\t\tcanvas.graphics.drawLine(-140 + this.compassImg.x, this.compassImg.y, 140 + this.compassImg.x, this.compassImg.y, \"#AAAAAA\", 1);\r\n\t\tcanvas.graphics.drawLine(this.compassImg.x, -140 + this.compassImg.y, this.compassImg.x, 140 + this.compassImg.y, \"#AAAAAA\", 1);\r\n\t}\r\n\r\n\tprivate createDegreesText(): void {\r\n\t\tthis.degreesText = new Text();\r\n\t\tthis.box2D.addChild(this.degreesText);\r\n\r\n\t\tthis.degreesText.align = \"center\";\r\n\t\tthis.degreesText.size(this.pageWidth, 100);\r\n\t\tthis.degreesText.pos(0, this.compassImg.y + 400);\r\n\t\tthis.degreesText.fontSize = 100;\r\n\t\tthis.degreesText.color = \"#FFFFFF\";\r\n\t}\r\n\r\n\t// \u65B9\u4F4D\u6307\u793A\u5668\u6307\u5411\u5F53\u524D\u6240\u671D\u65B9\u4F4D\u3002\r\n\tprivate createDirectionIndicator(): void {\r\n\t\tthis.directionIndicator = new Sprite();\r\n\t\tthis.box2D.addChild(this.directionIndicator);\r\n\r\n\t\tthis.directionIndicator.alpha = 0.8;\r\n\r\n\t\tthis.directionIndicator.graphics.drawCircle(0, 0, 70, \"#343434\");\r\n\t\tthis.directionIndicator.graphics.drawLine(-40, 0, 40, 0, \"#FFFFFF\", 3);\r\n\t\tthis.directionIndicator.graphics.drawLine(0, -40, 0, 40, \"#FFFFFF\", 3);\r\n\r\n\t\tthis.directionIndicator.x = this.compassImg.x;\r\n\t\tthis.directionIndicator.y = this.compassImg.y;\r\n\t}\r\n\r\n\tprivate onOrientationChange(absolute: boolean, info: RotationInfo): void {\r\n\t\tif (info.alpha === null) {\r\n\t\t\talert(\"\u5F53\u524D\u8BBE\u5907\u4E0D\u652F\u6301\u9640\u87BA\u4EEA\u3002\");\r\n\t\t}\r\n\t\telse if (this.firstTime && !absolute && !Browser.onIOS) {\r\n\t\t\tthis.firstTime = false;\r\n\t\t\talert(\"\u5728\u5F53\u524D\u8BBE\u5907\u4E2D\u65E0\u6CD5\u83B7\u53D6\u5730\u7403\u5750\u6807\u7CFB\uFF0C\u4F7F\u7528\u8BBE\u5907\u5750\u6807\u7CFB\uFF0C\u4F60\u53EF\u4EE5\u7EE7\u7EED\u89C2\u8D4F\uFF0C\u4F46\u662F\u63D0\u4F9B\u7684\u65B9\u4F4D\u5E76\u975E\u6B63\u786E\u65B9\u4F4D\u3002\");\r\n\t\t}\r\n\r\n\t\t// \u66F4\u65B0\u89D2\u5EA6\u663E\u793A\r\n\t\tthis.degreesText.text = 360 - Math.floor(info.alpha) + \"\u00B0\";\r\n\t\tthis.compassImg.rotation = info.alpha;\r\n\r\n\t\t// \u66F4\u65B0\u65B9\u4F4D\u6307\u793A\u5668\r\n\t\tthis.directionIndicator.x = -1 * Math.floor(info.gamma) / 90 * 70 + this.compassImg.x;\r\n\t\tthis.directionIndicator.y = -1 * Math.floor(info.beta) / 90 * 70 + this.compassImg.y;\r\n\t}\r\n}\r\n\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport AccelerationInfo = Laya.AccelerationInfo;\r\nimport Accelerator = Laya.Accelerator;\r\nimport Tween = Laya.Tween;\r\nimport Point = Laya.Point;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('BupG4utVTDKNK2-oW8jPnA')\r\nexport class InputDevice_GluttonousSnake extends BaseScript {\r\n\r\n\tprivate seg: Segment;\r\n\tprivate segments: any[] = [];\r\n\tprivate foods: any[] = [];\r\n\r\n\tprivate initialSegmentsAmount: number = 5;\r\n\tprivate vx: number = 0\r\n\tprivate vy: number = 0;\r\n\tprivate targetPosition: Point;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\t// \u521D\u59CB\u5316\u86C7\r\n\t\tthis.initSnake();\r\n\t\t// \u76D1\u89C6\u52A0\u901F\u5668\u72B6\u6001\r\n\t\tAccelerator.instance.on(Event.CHANGE, this, this.monitorAccelerator);\r\n\t\t// \u6E38\u620F\u5FAA\u73AF\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\t\t// \u98DF\u7269\u751F\u4EA7\r\n\t\tLaya.timer.loop(3000, this, this.produceFood);\r\n\t\t// \u6E38\u620F\u5F00\u59CB\u65F6\u6709\u4E00\u4E2A\u98DF\u7269\r\n\t\tthis.produceFood();\r\n\t}\r\n\r\n\tprivate initSnake(): void {\r\n\t\tfor (var i: number = 0; i < this.initialSegmentsAmount; i++) {\r\n\t\t\tthis.addSegment();\r\n\r\n\t\t\t// \u86C7\u5934\u90E8\u8BBE\u7F6E\r\n\t\t\tif (i == 0) {\r\n\t\t\t\tvar header: Segment = this.segments[0];\r\n\r\n\t\t\t\t// \u521D\u59CB\u5316\u4F4D\u7F6E\r\n\t\t\t\theader.rotation = 180;\r\n\t\t\t\tthis.targetPosition = new Point();\r\n\t\t\t\tthis.targetPosition.x = this.pageWidth / 2;\r\n\t\t\t\tthis.targetPosition.y = this.pageHeight / 2;\r\n\r\n\t\t\t\theader.pos(this.targetPosition.x + header.width, this.targetPosition.y);\r\n\r\n\t\t\t\t// \u86C7\u773C\u775B\u7ED8\u5236\r\n\t\t\t\theader.graphics.drawCircle(header.width, 5, 3, \"#000000\");\r\n\t\t\t\theader.graphics.drawCircle(header.width, -5, 3, \"#000000\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate monitorAccelerator(acceleration: AccelerationInfo, accelerationIncludingGravity: AccelerationInfo, rotationRate: any, interval: number): void {\r\n\t\tthis.vx = accelerationIncludingGravity.x;\r\n\t\tthis.vy = accelerationIncludingGravity.y;\r\n\t}\r\n\r\n\tprivate addSegment(): void {\r\n\t\tvar seg: Segment = new Segment(40, 30);\r\n\t\tthis.box2D.addChildAt(seg, 0);\r\n\r\n\t\t// \u86C7\u5C3E\u4E0E\u4E0A\u4E00\u8282\u8EAB\u4F53\u5BF9\u9F50\r\n\t\tif (this.segments.length > 0) {\r\n\t\t\tvar prevSeg: Segment = this.segments[this.segments.length - 1];\r\n\t\t\tseg.rotation = prevSeg.rotation;\r\n\t\t\tvar point: Point = seg.getPinPosition();\r\n\t\t\tseg.x = prevSeg.x - point.x;\r\n\t\t\tseg.y = prevSeg.y - point.y;\r\n\t\t}\r\n\r\n\t\tthis.segments.push(seg);\r\n\t}\r\n\r\n\tprivate animate(): void {\r\n\t\tvar seg: Segment = this.segments[0];\r\n\r\n\t\t// \u66F4\u65B0\u86C7\u7684\u4F4D\u7F6E\r\n\t\tthis.targetPosition.x += this.vx;\r\n\t\tthis.targetPosition.y += this.vy;\r\n\r\n\t\t// \u9650\u5236\u86C7\u7684\u79FB\u52A8\u8303\u56F4\r\n\t\tthis.limitMoveRange();\r\n\t\t// \u68C0\u6D4B\u89C5\u98DF\r\n\t\tthis.checkEatFood();\r\n\r\n\t\t// \u66F4\u65B0\u6240\u6709\u5173\u8282\u4F4D\u7F6E\r\n\t\tvar targetX: number = this.targetPosition.x;\r\n\t\tvar targetY: number = this.targetPosition.y;\r\n\r\n\t\tfor (var i: number = 0, len: number = this.segments.length; i < len; i++) {\r\n\t\t\tseg = this.segments[i];\r\n\r\n\t\t\tvar dx: number = targetX - seg.x;\r\n\t\t\tvar dy: number = targetY - seg.y;\r\n\r\n\t\t\tvar radian: number = Math.atan2(dy, dx);\r\n\t\t\tseg.rotation = radian * 180 / Math.PI;\r\n\r\n\t\t\tvar pinPosition: Point = seg.getPinPosition();\r\n\t\t\tvar w: number = pinPosition.x - seg.x;\r\n\t\t\tvar h: number = pinPosition.y - seg.y;\r\n\r\n\t\t\tseg.x = targetX - w;\r\n\t\t\tseg.y = targetY - h;\r\n\r\n\t\t\ttargetX = seg.x;\r\n\t\t\ttargetY = seg.y;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate limitMoveRange(): void {\r\n\t\tif (this.targetPosition.x < 0)\r\n\t\t\tthis.targetPosition.x = 0;\r\n\t\telse if (this.targetPosition.x > this.pageWidth)\r\n\t\t\tthis.targetPosition.x = this.pageWidth;\r\n\t\tif (this.targetPosition.y < 0)\r\n\t\t\tthis.targetPosition.y = 0;\r\n\t\telse if (this.targetPosition.y > this.pageHeight)\r\n\t\t\tthis.targetPosition.y = this.pageHeight;\r\n\t}\r\n\r\n\tprivate checkEatFood(): void {\r\n\t\tvar food: Sprite;\r\n\t\tfor (var i: number = this.foods.length - 1; i >= 0; i--) {\r\n\t\t\tfood = this.foods[i];\r\n\t\t\tif (food.hitTestPoint(this.targetPosition.x, this.targetPosition.y)) {\r\n\t\t\t\tthis.addSegment();\r\n\t\t\t\tLaya.stage.removeChild(food);\r\n\t\t\t\tthis.foods.splice(i, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate produceFood(): void {\r\n\t\t// \u6700\u591A\u4E94\u4E2A\u98DF\u7269\u540C\u5C4F\r\n\t\tif (this.foods.length == 5)\r\n\t\t\treturn;\r\n\r\n\t\tvar food: Sprite = new Sprite();\r\n\t\tthis.box2D.addChild(food);\r\n\t\tthis.foods.push(food);\r\n\r\n\t\tconst foodSize: number = 40;\r\n\t\tfood.size(foodSize, foodSize);\r\n\t\tfood.graphics.drawRect(0, 0, foodSize, foodSize, \"#00BFFF\");\r\n\r\n\t\tfood.x = Math.random() * this.pageWidth;\r\n\t\tfood.y = Math.random() * this.pageHeight;\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nclass Segment extends Sprite {\r\n\tconstructor(width: number, height: number) {\r\n\t\tsuper();\r\n\t\tthis.size(width, height);\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init(): void {\r\n\t\tthis.graphics.drawRect(-this.height / 2, -this.height / 2, this.width + this.height, this.height, \"#FF7F50\");\r\n\t}\r\n\r\n\t// \u83B7\u53D6\u5173\u8282\u53E6\u4E00\u5934\u4F4D\u7F6E\r\n\tgetPinPosition(): Point {\r\n\t\tvar radian: number = this.rotation * Math.PI / 180;\r\n\t\tvar tx: number = this.x + Math.cos(radian) * this.width;\r\n\t\tvar ty: number = this.y + Math.sin(radian) * this.width;\r\n\r\n\t\treturn new Point(tx, ty);\r\n\t}\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Text = Laya.Text;\r\nimport Geolocation = Laya.Geolocation;\r\nimport Handler = Laya.Handler;\r\nimport Browser = Laya.Browser;\r\nimport GeolocationInfo = Laya.GeolocationInfo;\r\nimport SpriteUtils = Laya.SpriteUtils;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('jsLDvnZkSD2buGhEui5utA')\r\nexport class InputDevice_Map extends BaseScript {\r\n\t// \u767E\u5EA6\u5730\u56FE\r\n\tprivate map: any;\r\n\tprivate marker: any;\r\n\tprivate BMap: any = Browser.window.BMap;\r\n\tprivate convertor: any;\r\n\r\n\t// Div\r\n\tprivate mapDiv: any;\r\n\r\n\tprivate infoText: Text;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        this.convertor = new this.BMap.Convertor();\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createDom();\r\n\t\tthis.initMap();\r\n\t\tthis.createInfoText();\r\n\r\n\t\tvar successHandler: Handler = new Handler(this, this.updatePosition);\r\n\t\tvar errorHandler: Handler = new Handler(this, this.onError);\r\n\r\n\t\t// \u4F7F\u7528\u9AD8\u7CBE\u5EA6\u4F4D\u7F6E\r\n\t\tGeolocation.enableHighAccuracy = true;\r\n\t\tGeolocation.watchPosition(successHandler, errorHandler);\r\n\r\n\t\t// \u7ED1\u5B9A\u4F5C\u7528\u57DF\r\n\t\tthis.convertToBaiduCoord = this.convertToBaiduCoord.bind(this);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tBrowser.removeElement(this.mapDiv);\r\n\t}\r\n    \r\n\r\n\tprivate createDom(): void {\r\n\t\tthis.mapDiv = Browser.createElement(\"div\");\r\n\t\tvar style: any = this.mapDiv.style;\r\n\t\tstyle.position = \"absolute\";\r\n\t\tstyle.top = \"50px\";\r\n\t\tstyle.left = \"0px\";\r\n\t\tstyle.width = Browser.width / Browser.pixelRatio + \"px\";\r\n\t\tstyle.height = (Browser.height) / Browser.pixelRatio + \"px\";\r\n\r\n\t\tBrowser.document.body.appendChild(this.mapDiv);\r\n\r\n\t\tif( Index.curPage )\r\n\t\t\tSpriteUtils.fitDOMElementInArea(this.mapDiv, this.box2D, Index.pagePos.x, Index.pagePos.y + 50, this.pageWidth, this.pageHeight - 50);\r\n\t}\r\n\r\n\tprivate initMap(): void {\r\n\t\t// \u521D\u59CB\u5316\u5730\u56FE\r\n\t\tthis.map = new this.BMap.Map(this.mapDiv);\r\n\r\n\t\t// \u7981\u7528\u90E8\u5206\u4EA4\u4E92\r\n\t\t//map.disableDragging();\r\n\t\tthis.map.disableKeyboard();\r\n\t\tthis.map.disableScrollWheelZoom();\r\n\t\tthis.map.disableDoubleClickZoom();\r\n\t\tthis.map.disablePinchToZoom();\r\n\t\t// \u521D\u59CB\u5730\u70B9\u5317\u4EAC\uFF0C\u7F29\u653E\u7CFB\u657015\r\n\t\tthis.map.centerAndZoom(new this.BMap.Point(116.32715863448607, 39.990912172420714), 15);\r\n\r\n\t\t// \u521B\u5EFA\u6807\u6CE8\u7269\r\n\t\tthis.marker = new this.BMap.Marker(new this.BMap.Point(0, 0));\r\n\t\tthis.map.addOverlay(this.marker);\r\n\t\tvar label: any = new this.BMap.Label(\"\u5F53\u524D\u4F4D\u7F6E\", { \"offset\": new this.BMap.Size(-15, 30) });\r\n\t\tthis.marker.setLabel(label);\r\n\t}\r\n\r\n\tprivate createInfoText(): void {\r\n\t\tthis.infoText = new Text();\r\n\t\tthis.owner.addChild(this.infoText);\r\n\t\tthis.infoText.fontSize = 20;\r\n\t\tthis.infoText.color = \"#FFFFFF\";\r\n        this.infoText.text = \"\u7B49\u5F85\u521D\u59CB\u5316\u6570\u636E\";\r\n\t\tthis.infoText.size(this.pageWidth, this.pageHeight);\r\n\t}\r\n\r\n\t// \u66F4\u65B0\u8BBE\u5907\u4F4D\u7F6E\r\n\tprivate updatePosition(p: GeolocationInfo): void {\r\n\t\t// \u8F6C\u6362\u4E3A\u767E\u5EA6\u5730\u56FE\u5750\u6807\r\n\t\tvar point: any = new this.BMap.Point(p.longitude, p.latitude);\r\n\t\t// \u628A\u539F\u59CB\u5750\u6807\u8F6C\u6362\u4E3A\u767E\u5EA6\u5750\u6807\uFF0C\u90E8\u5206\u8BBE\u5907\u53EF\u80FD\u83B7\u53D6\u5230\u7684\u662F\u8C37\u6B4C\u5750\u6807\uFF0C\u8FD9\u65F6\u7B2C\u4E09\u4E2A\u53C2\u6570\u6539\u4E3A3\u624D\u662F\u6B63\u786E\u7684\u3002\r\n\t\tthis.convertor.translate([point], 1, 5, this.convertToBaiduCoord);\r\n\r\n\t\t// \u66F4\u65B0\u5F53\u524D\u83B7\u53D6\u5230\u7684\u5730\u7406\u4FE1\u606F\r\n\t\tthis.infoText.text =\r\n\t\t\t\"\u7ECF\u5EA6\uFF1A\" + p.longitude +\r\n\t\t\t\"\\t\u7EAC\u5EA6\uFF1A\" + p.latitude +\r\n\t\t\t\"\\t\u7CBE\u5EA6\uFF1A\" + p.accuracy +\r\n\r\n\t\t\t\"\\n\u6D77\u62D4\uFF1A\" + p.altitude +\r\n\t\t\t\"\\t\u6D77\u62D4\u7CBE\u5EA6\uFF1A\" + p.altitudeAccuracy +\r\n\r\n\t\t\t\"\\n\u5934\uFF1A\" + p.heading +\r\n\t\t\t\"\\n\u901F\u5EA6\uFF1A\" + p.speed +\r\n\t\t\t\"\\n\u65F6\u95F4\u6233\uFF1A\" + p.timestamp;\r\n\t}\r\n\r\n\t// \u5C06\u539F\u59CB\u5750\u6807\u8F6C\u6362\u4E3A\u767E\u5EA6\u5750\u6807\r\n\tprivate convertToBaiduCoord(data: any): void {\r\n\t\tif (data.status == 0) {\r\n\t\t\tvar position: any = data.points[0];\r\n\t\t\t// \u8BBE\u7F6E\u6807\u6CE8\u7269\u4F4D\u7F6E\r\n\t\t\tthis.marker.setPosition(position);\r\n\r\n\t\t\tthis.map.panTo(position);\r\n\t\t\tthis.map.setZoom(17);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onError(e: any): void {\r\n\t\tif (e.code == Geolocation.TIMEOUT)\r\n\t\t\tconsole.log(\"\u83B7\u53D6\u4F4D\u7F6E\u8D85\u65F6\");\r\n\t\telse if (e.code == Geolocation.POSITION_UNAVAILABLE)\r\n\t\t\tconsole.log(\"\u4F4D\u7F6E\u4E0D\u53EF\u7528\");\r\n\t\telse if (e.code == Geolocation.PERMISSION_DENIED)\r\n\t\t\tconsole.log(\"\u65E0\u6743\u9650\");\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Shake = Laya.Shake;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('DRgv9cgHSC-TpHHFIGJN5w')\r\nexport class InputDevice_Shake extends BaseScript {\r\n\r\n    private picW: number = 824;\r\n\tprivate picH: number = 484;\r\n\tprivate console: Text;\r\n\r\n\tprivate shakeCount: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.showShakePic();\r\n\t\tthis.showConsoleText();\r\n\t\tthis.startShake();\r\n\t}\r\n\r\n\tprivate showShakePic(): void {\r\n\t\tvar shakePic: Sprite = new Sprite();\r\n\t\tshakePic.loadImage(\"resources/res/inputDevice/shake.png\");\r\n\t\tthis.box2D.addChild(shakePic);\r\n\t}\r\n\r\n\tprivate showConsoleText(): void {\r\n\t\tthis.console = new Text();\r\n\t\tthis.box2D.addChild(this.console);\r\n\r\n\t\tthis.console.y = this.picH + 10;\r\n\t\tthis.console.width = this.pageWidth;\r\n\t\tthis.console.height = this.pageHeight - this.console.y;\r\n\t\tthis.console.color = \"#FFFFFF\";\r\n\t\tthis.console.fontSize = 50;\r\n\t\tthis.console.align = \"center\";\r\n\t\tthis.console.valign = 'middle';\r\n\t\tthis.console.leading = 10;\r\n\t}\r\n\r\n\tprivate startShake(): void {\r\n\t\tShake.instance.start(5, 500);\r\n\t\tShake.instance.on(Event.CHANGE, this, this.onShake);\r\n\r\n\t\tthis.console.text = '\u5F00\u59CB\u63A5\u6536\u8BBE\u5907\u6447\u52A8\\n';\r\n\t}\r\n\r\n\tprivate onShake(): void {\r\n\t\tthis.shakeCount++;\r\n\r\n\t\tthis.console.text += \"\u8BBE\u5907\u6447\u6643\u4E86\" + this.shakeCount + \"\u6B21\\n\";\r\n\r\n\t\tif (this.shakeCount >= 3) {\r\n\t\t\tShake.instance.stop();\r\n\r\n\t\t\tthis.console.text += \"\u505C\u6B62\u63A5\u6536\u8BBE\u5907\u6447\u52A8\";\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ySDM7k5cRu-UjZOG0tCUlw')\r\nexport class Loader_ClearTextureRes extends BaseScript {\r\n\r\n\tprivate spBg: Sprite;\r\n\tprivate aniFly: Animation;\r\n\tprivate btn: Sprite;\r\n\tprivate txt: Text;\r\n\tprivate isDestroyed: boolean = false;\r\n\tprivate PathBg: string = \"resources/res/bg2.png\";\r\n\tprivate PathFly: string = \"resources/res/fighter/fighter.atlas\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.init();\r\n\t}\r\n\r\n\t/**\r\n\t * \u521D\u59CB\u5316\u573A\u666F\r\n\t */\r\n\tprivate init(): void {\r\n\t\t//\u521B\u5EFA\u80CC\u666F\r\n\t\tthis.spBg = Sprite.fromImage(this.PathBg);\r\n\t\tthis.box2D.addChild(this.spBg);\r\n\r\n\t\t//\u521B\u5EFA\u52A8\u753B\r\n\t\tthis.aniFly = new Animation();\r\n\t\tthis.aniFly.loadAtlas(this.PathFly);\r\n\t\tthis.aniFly.play();\r\n\t\tthis.aniFly.pos(250, 100);\r\n\t\tthis.box2D.addChild(this.aniFly);\r\n\r\n\t\t//\u521B\u5EFA\u6309\u94AE\r\n\t\tthis.btn = new Sprite().size(205, 55);\r\n\t\tthis.btn.graphics.drawRect(0, 0, this.btn.width, this.btn.height, \"#057AFB\");\r\n\t\tthis.txt = new Text();\r\n\t\tthis.txt.text = \"\u9500\u6BC1\";\r\n\t\tthis.txt.pos(75, 15);\r\n\t\tthis.txt.fontSize = 25;\r\n\t\tthis.txt.color = \"#FF0000\";\r\n\t\tthis.btn.addChild(this.txt);\r\n\t\tthis.btn.pos(20, 160);\r\n\t\tthis.btn.mouseEnabled = true;\r\n\t\tthis.btn.name = \"btnBg\";\r\n\t\tthis.owner.addChild(this.btn);\r\n\r\n\t\t//\u6DFB\u52A0\u4FA6\u542C\r\n\t\tthis.btn.on(Event.MOUSE_UP, this, this.onMouseUp1);\r\n\t}\r\n\r\n\t/**\r\n\t * \u9F20\u6807\u4E8B\u4EF6\u54CD\u5E94\u51FD\u6570\r\n\t */\r\n\tonMouseUp1(evt: Event): void {\r\n\t\tif (this.isDestroyed) {\r\n\t\t\t//\u901A\u8FC7\u8BBE\u7F6E visible=true \uFF0C\u6765\u89E6\u53D1\u6E32\u67D3\uFF0C\u7136\u540E\u5F15\u64CE\u4F1A\u81EA\u52A8\u6062\u590D\u8D44\u6E90\r\n\t\t\tthis.spBg.visible = true;\r\n\t\t\tthis.aniFly.visible = true;\r\n\r\n\t\t\tthis.isDestroyed = false;\r\n\t\t\tthis.txt.text = \"\u9500\u6BC1\";\r\n\t\t} else {\r\n\t\t\t//\u901A\u8FC7\u8BBE\u7F6E visible=false \uFF0C\u6765\u505C\u6B62\u6E32\u67D3\u5BF9\u8C61\r\n\t\t\tthis.spBg.visible = false;\r\n\t\t\tthis.aniFly.visible = false;\r\n\r\n\t\t\t//\u9500\u6BC1 Texture \u4F7F\u7528\u7684\u56FE\u7247\u8D44\u6E90\r\n\t\t\tLaya.loader.clearTextureRes(this.PathBg);\r\n\t\t\tLaya.loader.clearTextureRes(this.PathFly);\r\n\r\n\t\t\tthis.isDestroyed = true;\r\n\t\t\tthis.txt.text = \"\u6062\u590D\";\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('UKV2NPdBTDe_NqDM6dCdoA')\r\nexport class Loader_MultipleType extends BaseScript {\r\n\r\n    private ROBOT_DATA_PATH: string = \"resources/res/skeleton/robot/robot.bin\";\r\n\tprivate ROBOT_TEXTURE_PATH: string = \"resources/res/skeleton/robot/texture.png\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tvar assets: any[] = [];\r\n\t\tassets.push({ \"url\": this.ROBOT_DATA_PATH, \"type\": Loader.BUFFER });\r\n\t\tassets.push({ \"url\": this.ROBOT_TEXTURE_PATH, \"type\": Loader.IMAGE });\r\n\r\n\t\tLaya.loader.load(assets).then( ()=>{\r\n            this.onAssetsLoaded();\r\n        } );\r\n\t}\r\n\r\n\tprivate onAssetsLoaded(e: any = null): void {\r\n\t\tvar robotData: any = Loader.getRes(this.ROBOT_DATA_PATH);\r\n\t\tvar robotTexture: any = Loader.getRes(this.ROBOT_TEXTURE_PATH);\r\n\t\t// \u4F7F\u7528\u8D44\u6E90\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('uURjddYsQcmalDk0_hxOaA')\r\nexport class Loader_ProgressAndErrorHandle extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t// \u65E0\u52A0\u8F7D\u5931\u8D25\u91CD\u8BD5\r\n\t\tLaya.loader.retryNum = 0;\r\n\r\n\t\tvar urls: any[] = [\"do not exist\", \"resources/res/fighter/fighter.png\", \"resources/res/legend/map.jpg\"];\r\n\t\tLaya.loader.load(urls, Loader.IMAGE, this.onLoading).then( ()=>{\r\n            this.onAssetLoaded();\r\n        } );\r\n\r\n\t\t// \u4FA6\u542C\u52A0\u8F7D\u5931\u8D25\r\n\t\tLaya.loader.on(Event.ERROR, this, this.onError);\r\n\t}\r\n\r\n\tprivate onAssetLoaded(): void {\r\n\t\t// \u4F7F\u7528texture\r\n\t\tconsole.log(\"\u52A0\u8F7D\u7ED3\u675F\");\r\n\t}\r\n\r\n\t// \u52A0\u8F7D\u8FDB\u5EA6\u4FA6\u542C\u5668\r\n\tprivate onLoading(progress: number): void {\r\n\t\tconsole.log(\"\u52A0\u8F7D\u8FDB\u5EA6: \" + progress);\r\n\t}\r\n\r\n\tprivate onError(err: string): void {\r\n\t\tconsole.log(\"\u52A0\u8F7D\u5931\u8D25: \" + err);\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Handler = Laya.Handler;\r\nimport Texture = Laya.Texture;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('nhMTIVdTSvK64hL7pQxgvg')\r\nexport class Loader_Sequence extends BaseScript {\r\n\r\n\tprivate numLoaded: number = 0;\r\n\tprivate resAmount: number = 3;\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t// \u6309\u5E8F\u5217\u52A0\u8F7D monkey2.png - monkey1.png - monkey0.png\r\n\t\t// \u4E0D\u5F00\u542F\u7F13\u5B58\r\n\t\t// \u5173\u95ED\u5E76\u53D1\u52A0\u8F7D\r\n\t\tLaya.loader.maxLoader = 1;\r\n\t\tLaya.loader.load(\"resources/res/apes/monkey2.png\", Handler.create(this, this.onAssetLoaded), null, null, 0, false);\r\n\t\tLaya.loader.load(\"resources/res/apes/monkey1.png\", Handler.create(this, this.onAssetLoaded), null, null, 1, false);\r\n\t\tLaya.loader.load(\"resources/res/apes/monkey0.png\", Handler.create(this, this.onAssetLoaded), null, null, 2, false);\r\n\t}\r\n\r\n\tprivate onAssetLoaded(texture: Texture): void {\r\n\t\t//console.log(texture.source);\r\n\r\n\t\t// \u6062\u590D\u9ED8\u8BA4\u5E76\u53D1\u52A0\u8F7D\u4E2A\u6570\u3002\r\n\t\tif (++this.numLoaded == 3) {\r\n\t\t\tLaya.loader.maxLoader = 5;\r\n\t\t\tconsole.log(\"All done.\");\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Texture = Laya.Texture;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('lbNwREZHTumSBzb50wQ7KA')\r\nexport class Loader_SingleType extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\t// \u52A0\u8F7D\u4E00\u5F20png\u7C7B\u578B\u8D44\u6E90\r\n\t\tLaya.loader.load(\"resources/res/apes/monkey0.png\").then( (texture)=>{\r\n            this.onAssetLoaded1(texture);\r\n        } );\r\n\t\t// \u52A0\u8F7D\u591A\u5F20png\u7C7B\u578B\u8D44\u6E90\r\n\t\tLaya.loader.load(\r\n\t\t\t[\"resources/res/apes/monkey0.png\", \"resources/res/apes/monkey1.png\", \"resources/res/apes/monkey2.png\"]).then( ()=>{\r\n\t\t\t\tthis.onAssetLoaded2();\r\n\t\t\t} );\r\n\t}\r\n\r\n\tprivate onAssetLoaded1(texture: Texture): void {\r\n\t\t// \u4F7F\u7528texture\r\n\t}\r\n\r\n\tprivate onAssetLoaded2(): void {\r\n\t\tvar pic1: Texture = Loader.getRes(\"resources/res/apes/monkey0.png\");\r\n\t\tvar pic2: Texture = Loader.getRes(\"resources/res/apes/monkey1.png\");\r\n\t\tvar pic3: Texture = Loader.getRes(\"resources/res/apes/monkey2.png\");\r\n\t\t// \u4F7F\u7528\u8D44\u6E90\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport SpriteUtils = Laya.SpriteUtils;\r\nimport Render = Laya.Render;\r\nimport Browser = Laya.Browser;\r\nimport Text = Laya.Text;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('HHgiFTpAT12GadkF8cH98Q')\r\nexport class DOM_Form extends BaseScript {\r\n\r\n\tprivate form: Sprite;\r\n\tprivate rowHeight: number = 30;\r\n\tprivate rowSpacing: number = 10;\r\n\tprivate emailInput : any;\r\n\tprivate birthdayInput : any;\r\n\tprivate passwordInput : any;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        this.box2D.bgColor = \"#FFFFFF\";\r\n\t\t\r\n\t\tthis.form = new Sprite();\r\n\t\tthis.form.size(250, 120);\r\n\t\tthis.form.pos((this.pageWidth - this.form.width) / 2, (this.pageHeight - this.form.height) / 2);\r\n\t\tthis.owner.addChild(this.form);\r\n\r\n\t\tvar rowHeightDelta = this.rowSpacing + this.rowHeight;\r\n\r\n\t\t// \u663E\u793A\u5DE6\u4FA7\u6807\u7B7E\r\n\t\tthis.showLabel(\"\u90AE\u7BB1\", 0, rowHeightDelta * 0);\r\n\t\tthis.showLabel(\"\u51FA\u751F\u65E5\u671F\", 0, rowHeightDelta * 1);\r\n\t\tthis.showLabel(\"\u5BC6\u7801\", 0, rowHeightDelta * 2);\r\n\r\n\t\t// \u663E\u793A\u53F3\u4FA7\u8F93\u5165\u6846\r\n\t\tthis.emailInput = this.createInputElement();\r\n\t\tthis.birthdayInput = this.createInputElement();\r\n\t\tthis.passwordInput = this.createInputElement();\r\n\r\n\t\tthis.birthdayInput.type = \"date\";\r\n\t\tthis.passwordInput.type = \"password\";\r\n\r\n\t\tvar dom: any;\r\n\t\tlet all = [this.emailInput, this.birthdayInput, this.passwordInput];\r\n\t\tfor (var i = 0; i < all.length; i++) {\r\n\t\t\tdom = all[i];\r\n\t\t\tif( Index.curPage )\r\n\t\t\t\tSpriteUtils.fitDOMElementInArea(dom, this.form, Index.pagePos.x+100, Index.pagePos.y+i * (this.rowSpacing + this.rowHeight), 150, this.rowHeight);\r\n\t\t\telse\r\n\t\t\t\tSpriteUtils.fitDOMElementInArea(dom, this.form, 100, i * (this.rowSpacing + this.rowHeight), 150, this.rowHeight);\t\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tBrowser.removeElement(this.emailInput);\r\n\t\tBrowser.removeElement(this.birthdayInput);\r\n\t\tBrowser.removeElement(this.passwordInput);\r\n\t}\r\n\r\n\tprivate showLabel(label: string, x: number, y: number): void {\r\n\t\tvar t: Text = new Text();\r\n\t\tt.height = this.rowHeight;\r\n\t\tt.valign = \"middle\";\r\n\t\tt.fontSize = 15;\r\n\t\tt.font = \"SimHei\";\r\n\t\tt.text = label;\r\n\t\tt.pos(x, y);\r\n\t\tthis.form.addChild(t);\r\n\t}\r\n\r\n\tprivate createInputElement(): any {\r\n\t\tvar input: any = Browser.createElement(\"input\");\r\n\t\tinput.style.zIndex = Render.canvas.zIndex + 1;\r\n\t\tinput.style.width = \"100px\";\r\n\t\tBrowser.document.body.appendChild(input);\r\n\t\treturn input;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport SpriteUtils = Laya.SpriteUtils;\r\nimport Render = Laya.Render;\r\nimport Browser = Laya.Browser;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('GF_Fe9v3QAi8fRHm_2vYUg')\r\nexport class DOM_Video extends BaseScript {\r\n\r\n\tprivate video : any;\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\t// \u521B\u5EFAVideo\u5143\u7D20\r\n\t\tvar videoElement: any = Browser.createElement(\"video\");\r\n\t\tBrowser.document.body.appendChild(videoElement);\r\n\t\tthis.video = videoElement;\r\n\r\n\t\t// \u8BBE\u7F6EVideo\u5143\u7D20\u5730\u6837\u5F0F\u548C\u5C5E\u6027\r\n\t\tvideoElement.style.zInddex = Render.canvas.style.zIndex + 1;\r\n\t\tvideoElement.src = Laya.URL.postFormatURL(Laya.URL.formatURL(\"resources/res/av/mov_bbb.mp4\")); // \u5904\u7406\u9884\u89C8\u548C\u53D1\u5E03\u7684\u8D44\u6E90\u5730\u5740\r\n\t\tvideoElement.controls = true;\r\n\t\t// \u963B\u6B62IOS\u89C6\u9891\u5168\u5C4F\r\n\t\tvideoElement.setAttribute(\"webkit-playsinline\", true);\r\n\t\tvideoElement.setAttribute(\"playsinline\", true);\r\n\r\n\t\t// \u8BBE\u7F6E\u753B\u5E03\u4E0A\u7684\u5BF9\u9F50\u53C2\u7167\u7269\r\n\t\tvar reference: Sprite = new Sprite();\r\n\t\tthis.owner.addChild(reference);\r\n\t\treference.pos((this.pageWidth - 600)/2, (this.pageHeight - 400)/2);\r\n\t\treference.size(600, 400);\r\n\t\treference.graphics.drawRect(0, 0, reference.width, reference.height, \"#000000\");\r\n\r\n\t\t// \u6BCF\u6B21\u5C3A\u5BF8\u53D8\u66F4\u65F6\uFF0C\u90FD\u4F1A\u8C03\u7528Utils.fitDOMElementInArea\u8BBE\u7F6EVideo\u7684\u4F4D\u7F6E\uFF0C\u5BF9\u9F50\u7684\u4F4D\u7F6E\u548Crefence\u91CD\u5408\r\n\t\tif( Index.curPage )\r\n\t\t\tSpriteUtils.fitDOMElementInArea(videoElement, reference, Index.pagePos.x, Index.pagePos.y, reference.width, reference.height);\r\n\t\telse\r\n\t\t\tSpriteUtils.fitDOMElementInArea(videoElement, reference, 0, 0, reference.width, reference.height);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tBrowser.removeElement(this.video);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\nimport HttpRequest = Laya.HttpRequest;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ShfP7QX5T3uea49IvTW3SA')\r\nexport class Network_GET extends BaseScript {\r\n\tprivate hr: HttpRequest;\r\n\tprivate logger: Text;\r\n\r\n\tprivate text: Laya.Label = new Laya.Label();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.connect();\r\n\t\tthis.showLogger();\r\n\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n\t\tthis.text.text = \"\u8BF7\u67E5\u770B\u6E90\u7801\u548C\u8C03\u8BD5\u4FE1\u606F\uFF0C\u4E86\u89E3\u5982\u4F55\u4F7F\u7528\";\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.font = \"Impact\";\r\n\t\tthis.text.fontSize = 25;\r\n\t\tthis.text.width = 800;\r\n\t\tthis.text.anchorX = 0.5;\r\n\t\tthis.text.align = \"center\"; \r\n\t\tthis.text.x = this.pageWidth / 2;\r\n\t\tthis.text.y = 50;\r\n\t\tthis.owner.addChild(this.text);\t\t\r\n\t}\r\n\r\n\tprivate connect(): void {\r\n\t\tthis.hr = new HttpRequest();\r\n\t\tthis.hr.once(Event.PROGRESS, this, this.onHttpRequestProgress);\r\n\t\tthis.hr.once(Event.COMPLETE, this, this.onHttpRequestComplete);\r\n\t\tthis.hr.once(Event.ERROR, this, this.onHttpRequestError);\r\n\t\tthis.hr.send('https://xkxz.zhonghao.huo.inner.layabox.com/', null, 'get', 'text');\r\n\t}\r\n\r\n\tprivate showLogger(): void {\r\n\t\tthis.logger = new Text();\r\n\r\n\t\tthis.logger.fontSize = 30;\r\n\t\tthis.logger.color = \"#FFFFFF\";\r\n\t\tthis.logger.align = 'center';\r\n\t\tthis.logger.valign = 'middle';\r\n\r\n\t\tthis.logger.size(this.pageWidth, this.pageHeight);\r\n\t\tthis.logger.text = \"\u7B49\u5F85\u54CD\u5E94...\\n\";\r\n\t\tthis.box2D.addChild(this.logger);\t\t\r\n\t}\r\n\r\n\tprivate onHttpRequestError(e: any = null): void {\r\n\t\tconsole.log(e);\r\n\t}\r\n\r\n\tprivate onHttpRequestProgress(e: any = null): void {\r\n\t\tconsole.log(e)\r\n\t}\r\n\r\n\tprivate onHttpRequestComplete(e: any = null): void {\r\n\t\tthis.logger.text += \"\u6536\u5230\u6570\u636E\uFF1A\" + this.hr.data;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\nimport HttpRequest = Laya.HttpRequest;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('WiEkGSE0RB2WUtuX7pzFdQ')\r\nexport class Network_POST extends BaseScript {\r\n\tprivate hr: HttpRequest;\r\n\tprivate logger: Text;\r\n\r\n\tprivate text: Laya.Label = new Laya.Label();\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.connect();\r\n\t\tthis.showLogger();\r\n\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n\t\tthis.text.text = \"\u8BF7\u67E5\u770B\u6E90\u7801\u548C\u8C03\u8BD5\u4FE1\u606F\uFF0C\u4E86\u89E3\u5982\u4F55\u4F7F\u7528\";\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.font = \"Impact\";\r\n\t\tthis.text.fontSize = 25;\r\n\t\tthis.text.width = 800;\r\n\t\tthis.text.anchorX = 0.5;\r\n\t\tthis.text.align = \"center\"; \r\n\t\tthis.text.x = this.pageWidth / 2;\r\n\t\tthis.text.y = 50;\r\n\t\tthis.owner.addChild(this.text);\t\t\t\r\n\t}\r\n\r\n\tprivate connect(): void {\r\n\t\tthis.hr = new HttpRequest();\r\n\t\tthis.hr.once(Event.PROGRESS, this, this.onHttpRequestProgress);\r\n\t\tthis.hr.once(Event.COMPLETE, this, this.onHttpRequestComplete);\r\n\t\tthis.hr.once(Event.ERROR, this, this.onHttpRequestError);\r\n\t\tthis.hr.send('https://xkxz.zhonghao.huo.inner.layabox.com/', 'name=myname&psword=xxx', 'post', 'text');\r\n\t}\r\n\r\n\tprivate showLogger(): void {\r\n\t\tthis.logger = new Text();\r\n\r\n\t\tthis.logger.fontSize = 30;\r\n\t\tthis.logger.color = \"#FFFFFF\";\r\n\t\tthis.logger.align = 'center';\r\n\t\tthis.logger.valign = 'middle';\r\n\r\n\t\tthis.logger.size(this.pageWidth, this.pageHeight);\r\n\t\tthis.logger.text = \"\u7B49\u5F85\u54CD\u5E94...\\n\";\r\n\t\tthis.box2D.addChild(this.logger);\r\n\t}\r\n\r\n\tprivate onHttpRequestError(e: any = null): void {\r\n\t\tconsole.log(e);\r\n\t}\r\n\r\n\tprivate onHttpRequestProgress(e: any = null): void {\r\n\t\tconsole.log(e)\r\n\t}\r\n\r\n\tprivate onHttpRequestComplete(e: any = null): void {\r\n\t\tthis.logger.text += \"\u6536\u5230\u6570\u636E\uFF1A\" + this.hr.data;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('mFgKwzVzQ--Uhcf1BnFdGw')\r\nexport class Network_ProtocolBuffer extends BaseScript {\r\n\r\n\tprivate ProtoBuf: any = (window as any).protobuf;\r\n\r\n\tprivate text: Laya.Label = new Laya.Label();\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tvar resPath: string = \"resources/res/protobuf/awesome.proto\";\r\n\t\tthis.ProtoBuf.load(resPath, this.onAssetsLoaded);\r\n\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n\t\tthis.text.text = \"\u8BF7\u67E5\u770B\u6E90\u7801\u548C\u8C03\u8BD5\u4FE1\u606F\uFF0C\u4E86\u89E3\u5982\u4F55\u4F7F\u7528\";\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.font = \"Impact\";\r\n\t\tthis.text.fontSize = 25;\r\n\t\tthis.text.width = 800;\r\n\t\tthis.text.anchorX = 0.5;\r\n\t\tthis.text.align = \"center\"; \r\n\t\tthis.text.x = this.pageWidth / 2;\r\n\t\tthis.text.y = 50;\r\n\t\tthis.owner.addChild(this.text);\t\t\t\r\n\t}\r\n\r\n\tprivate onAssetsLoaded(err: any, root: any): void {\r\n\t\tif (err)\r\n\t\t\tthrow err;\r\n\r\n\t\tvar AwesomeMessage: any = root.lookupType(\"awesomepackage.AwesomeMessage\");\r\n\r\n\t\tconsole.log(AwesomeMessage);\r\n\t\tvar payload: any = { awesomeField: \"AwesomeString\" };\r\n\t\tconsole.log(payload);\r\n\t\tvar errMsg: any = AwesomeMessage.verify(payload);\r\n\r\n\t\tif (errMsg)\r\n\t\t\tthrow Error(errMsg);\r\n\r\n\t\tvar message: any = AwesomeMessage.create(payload);\r\n\t\tconsole.log(message);\r\n\t\tvar buffer: any = AwesomeMessage.encode(message).finish();\r\n\r\n\t\t//var message:* = AwesomeMessage.decode(buffer);\r\n\t\t//var message:* = AwesomeMessage.decode(buffer);\r\n\t\tconsole.log(message);\r\n\t\tconsole.log(buffer);\r\n\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Byte = Laya.Byte;\r\nimport Event = Laya.Event;\r\nimport Socket = Laya.Socket;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ui5qvJY2Que7sewAd6WNwQ')\r\nexport class NetWork_Socket extends BaseScript {\r\n\r\n    private socket: Socket;\r\n\tprivate output: Byte;\r\n\r\n\tprivate text: Laya.Label = new Laya.Label();\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.connect();\r\n\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n\t\tthis.text.text = \"\u8BF7\u67E5\u770B\u6E90\u7801\u548C\u8C03\u8BD5\u4FE1\u606F\uFF0C\u4E86\u89E3\u5982\u4F55\u4F7F\u7528\";\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.font = \"Impact\";\r\n\t\tthis.text.fontSize = 25;\r\n\t\tthis.text.width = 800;\r\n\t\tthis.text.anchorX = 0.5;\r\n\t\tthis.text.align = \"center\"; \r\n\t\tthis.text.x = this.pageWidth / 2;\r\n\t\tthis.text.y = 50;\r\n\t\tthis.owner.addChild(this.text);\t\t\t\r\n\t}\r\n\r\n\tprivate connect(): void {\r\n\t\tthis.socket = new Socket();\r\n\t\t//socket.connect(\"echo.websocket.org\", 80);\r\n\t\tthis.socket.connectByUrl(\"wss://echo.websocket.org:80\");\r\n\r\n\t\tthis.output = this.socket.output;\r\n\r\n\t\tthis.socket.on(Event.OPEN, this, this.onSocketOpen);\r\n\t\tthis.socket.on(Event.CLOSE, this, this.onSocketClose);\r\n\t\tthis.socket.on(Event.MESSAGE, this, this.onMessageReveived);\r\n\t\tthis.socket.on(Event.ERROR, this, this.onConnectError);\r\n\t}\r\n\r\n\tprivate onSocketOpen(e: any = null): void {\r\n\t\tconsole.log(\"Connected\");\r\n\r\n\t\t// \u53D1\u9001\u5B57\u7B26\u4E32\r\n\t\tthis.socket.send(\"demonstrate <sendString>\");\r\n\r\n\t\t// \u4F7F\u7528output.writeByte\u53D1\u9001\r\n\t\tvar message: string = \"demonstrate <output.writeByte>\";\r\n\t\tfor (var i: number = 0; i < message.length; ++i) {\r\n\t\t\tthis.output.writeByte(message.charCodeAt(i));\r\n\t\t}\r\n\t\tthis.socket.flush();\r\n\t}\r\n\r\n\tprivate onSocketClose(e: any = null): void {\r\n\t\tconsole.log(\"Socket closed\");\r\n\t}\r\n\r\n\tprivate onMessageReveived(message: any = null): void {\r\n\t\tconsole.log(\"Message from server:\");\r\n\t\tif (typeof (message) == 'string') {\r\n\t\t\tconsole.log(message);\r\n\t\t}\r\n\t\telse if (message instanceof ArrayBuffer) {\r\n\t\t\tconsole.log(new Byte(message).readUTFBytes());\r\n\t\t}\r\n\t\tthis.socket.input.clear();\r\n\t}\r\n\r\n\tprivate onConnectError(e: Event = null): void {\r\n\t\tconsole.log(\"error\");\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Utils = Laya.Utils;\r\nimport XML = Laya.XML;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0NqqJQL9RTSCV7cTQuWvkw')\r\nexport class Network_XML extends BaseScript {\r\n\r\n\r\n\tprivate text: Laya.Label = new Laya.Label();\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n\t\tthis.text.text = \"\u8BF7\u67E5\u770B\u6E90\u7801\u548C\u8C03\u8BD5\u4FE1\u606F\uFF0C\u4E86\u89E3\u5982\u4F55\u4F7F\u7528\";\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.font = \"Impact\";\r\n\t\tthis.text.fontSize = 25;\r\n\t\tthis.text.width = 800;\r\n\t\tthis.text.anchorX = 0.5;\r\n\t\tthis.text.align = \"center\"; \r\n\t\tthis.text.x = this.pageWidth / 2;\r\n\t\tthis.text.y = 50;\r\n\t\tthis.owner.addChild(this.text);\t\t\t\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tvar xmlValueContainsError: string = \"<root><item>item a</item><item>item b</item>somethis...</root1>\";\r\n\t\tvar xmlValue: string = \"<root><item>item a</item><item>item b</item>somethings...</root>\";\r\n\r\n\t\tthis.proessXML(xmlValueContainsError);\r\n\t\tconsole.log(\"\\n\");\r\n\t\tthis.proessXML(xmlValue);\r\n\t}\r\n\r\n\t// \u4F7F\u7528xml\r\n\tprivate proessXML(source: string): void {\r\n\t\ttry {\r\n\t\t\tvar xml: XML = new XML(source);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.printDirectChildren(xml);\r\n\t}\r\n\r\n\t// \u6253\u5370\u76F4\u63A5\u5B50\u7EA7\r\n\tprivate printDirectChildren(xml: XML): void {\r\n\t\tvar nodes: any[] = xml.elements();\r\n\t\tfor (var i: number = 0; i < nodes.length; i++) {\r\n\t\t\tvar node: XML = nodes[i];\r\n\r\n\t\t\tconsole.log(\"\u8282\u70B9\u540D\u79F0: \" + node.name);\r\n\r\n\r\n\t\t\tconsole.log(\"\\n\");\r\n\t\t}\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport BlurFilter = Laya.BlurFilter;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('Wi2fYkt0S4eiLYLs1l-laA')\r\nexport class Filters_Blur extends BaseScript {\r\n\r\n\tprivate apePath: string = \"resources/res/apes/monkey2.png\";\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tLaya.loader.load(this.apePath).then( ()=>{\r\n            this.createApe();\r\n        } );\r\n\t}\r\n\r\n\tprivate createApe(_e: any = null): void {\r\n\t\tvar ape: Sprite = new Sprite();\r\n\t\tape.loadImage(this.apePath);\r\n\r\n\t\tape.x = (this.pageWidth - ape.width) / 2;\r\n\t\tape.y = (this.pageHeight - ape.height) / 2;\r\n\r\n\t\tthis.box2D.addChild(ape);\r\n\r\n\t\tthis.applayFilter(ape);\r\n\t}\r\n\r\n\tprivate applayFilter(ape: Sprite): void {\r\n\t\tvar blurFilter: BlurFilter = new BlurFilter();\r\n\t\tblurFilter.strength = 5;\r\n\t\tape.filters = [blurFilter];\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Texture = Laya.Texture;\r\nimport Sprite = Laya.Sprite;\r\nimport ColorFilter = Laya.ColorFilter;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('oZH-8C9FTuaxcKlebggGcw')\r\nexport class Filters_Color extends BaseScript {\r\n\r\n\tprivate ApePath: string = \"resources/res/apes/monkey2.png\";\r\n\r\n\tprivate apeTexture: Texture;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tLaya.loader.load(this.ApePath).then( ()=>{\r\n            this.setup();\r\n        } );\r\n\t}\r\n\r\n\tprivate setup(e: any = null): void {\r\n\t\tthis.normalizeApe();\r\n\t\tthis.makeRedApe();\r\n\t\tthis.grayingApe();\r\n\t}\r\n\r\n\tprivate normalizeApe(): void {\r\n\t\tvar originalApe: Sprite = this.createApe();\r\n\r\n\t\tthis.apeTexture = Laya.loader.getRes(this.ApePath);\r\n\t\toriginalApe.x = (this.pageWidth - this.apeTexture.width) / 2 - this.apeTexture.width;\r\n\t\toriginalApe.y = (this.pageHeight - this.apeTexture.height) / 2;\r\n\t}\r\n\r\n\tprivate makeRedApe(): void {\r\n\t\t//\u7531 20 \u4E2A\u9879\u76EE\uFF08\u6392\u5217\u6210 4 x 5 \u77E9\u9635\uFF09\u7EC4\u6210\u7684\u6570\u7EC4\uFF0C\u7EA2\u8272\r\n\t\tvar redMat: any[] =\r\n\t\t\t[1, 0, 0, 0, 0, //R\r\n\t\t\t\t0, 0, 0, 0, 0, //G\r\n\t\t\t\t0, 0, 0, 0, 0, //B\r\n\t\t\t\t0, 0, 0, 1, 0];\r\n\r\n\t\t//\u521B\u5EFA\u4E00\u4E2A\u989C\u8272\u6EE4\u955C\u5BF9\u8C61,\u7EA2\u8272\r\n\t\tvar redFilter: ColorFilter = new ColorFilter(redMat);\r\n\r\n\t\t// \u8D64\u5316\u7329\u7329\r\n\t\tvar redApe: Sprite = this.createApe();\r\n\t\tredApe.filters = [redFilter];\r\n\r\n\t\tredApe.x = (this.pageWidth - this.apeTexture.width) / 2 ;\r\n\t\tredApe.y = (this.pageHeight - this.apeTexture.height) / 2;\r\n\t}\r\n\r\n\tprivate grayingApe(): void {\r\n\t\t//\u7531 20 \u4E2A\u9879\u76EE\uFF08\u6392\u5217\u6210 4 x 5 \u77E9\u9635\uFF09\u7EC4\u6210\u7684\u6570\u7EC4\uFF0C\u7070\u56FE\r\n\t\tvar grayscaleMat: any[] = [0.3086, 0.6094, 0.0820, 0, 0,\r\n\t\t\t0.3086, 0.6094, 0.0820, 0, 0,\r\n\t\t\t0.3086, 0.6094, 0.0820, 0, 0,\r\n\t\t\t0, 0, 0, 1, 0];\r\n\r\n\t\t//\u521B\u5EFA\u4E00\u4E2A\u989C\u8272\u6EE4\u955C\u5BF9\u8C61\uFF0C\u7070\u56FE\r\n\t\tvar grayscaleFilter: ColorFilter = new ColorFilter(grayscaleMat);\r\n\r\n\t\t// \u7070\u5EA6\u7329\u7329\r\n\t\tvar grayApe: Sprite = this.createApe();\r\n\t\tgrayApe.filters = [grayscaleFilter];\r\n\r\n\t\tgrayApe.x = (this.pageWidth - this.apeTexture.width) / 2 + this.apeTexture.width;\r\n\t\tgrayApe.y = (this.pageHeight - this.apeTexture.height) / 2;\r\n\t}\r\n\r\n\tprivate createApe(): Sprite {\r\n\t\tvar ape: Sprite = new Sprite();\r\n\t\tape.loadImage(\"resources/res/apes/monkey2.png\");\r\n\t\tthis.box2D.addChild(ape);\r\n\r\n\t\treturn ape;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Texture = Laya.Texture;\r\nimport Sprite = Laya.Sprite;\r\nimport GlowFilter = Laya.GlowFilter;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('MkWuN1tPQXiQHUsigAu4Sg')\r\nexport class Filters_Glow extends BaseScript {\r\n\r\n\tprivate apePath: string = \"resources/res/apes/monkey2.png\";\r\n\r\n\tprivate ape: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(this.apePath).then( (tex: Texture)=>{\r\n            this.setup(tex);\r\n        } );\r\n\t}\r\n\r\n\tprivate setup(tex: Texture): void {\r\n\t\tthis.createApe();\r\n\t\tthis.applayFilter();\r\n\t}\r\n\r\n\tprivate createApe(): void {\r\n\t\tthis.ape = new Sprite();\r\n\t\tthis.ape.loadImage(this.apePath);\r\n\r\n\t\tvar texture: Texture = Laya.loader.getRes(this.apePath);\r\n\t\tthis.ape.x = (this.pageWidth - texture.width) / 2;\r\n\t\tthis.ape.y = (this.pageHeight - texture.height) / 2;\r\n\r\n\t\tthis.box2D.addChild(this.ape);\r\n\t}\r\n\r\n\tprivate applayFilter(): void {\r\n\t\t//\u521B\u5EFA\u4E00\u4E2A\u53D1\u5149\u6EE4\u955C\r\n\t\tvar glowFilter: GlowFilter = new GlowFilter(\"#ffff00\", 10, 0, 0);\r\n\t\t//\u8BBE\u7F6E\u6EE4\u955C\u96C6\u5408\u4E3A\u53D1\u5149\u6EE4\u955C\r\n\t\tthis.ape.filters = [glowFilter];\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('xJNxuzqlTmKb19za3jbEcQ')\r\nexport class PerformanceTest_Cartoon extends BaseScript {\r\n\r\n\tprivate colAmount: number = 100;\r\n\tprivate extraSpace: number = 50;\r\n\tprivate moveSpeed: number = 2;\r\n\tprivate rotateSpeed: number = 2;\r\n\r\n\tprivate characterGroup: any[];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tLaya.loader.load(\"resources/res/cartoonCharacters/cartoonCharactors.json\", Loader.ATLAS).then( ()=>{\r\n            this.createCharacters();\r\n        } );\r\n\t}\r\n\r\n\tprivate createCharacters(e: any = null): void {\r\n\t\tthis.characterGroup = [];\r\n\r\n\t\tfor (var i: number = 0; i < this.colAmount; ++i) {\r\n\t\t\tvar tx: number = (this.pageWidth + this.extraSpace * 2) / this.colAmount * i - this.extraSpace;\r\n\t\t\tvar tr: number = 360 / this.colAmount * i;\r\n\t\t\tvar startY: number = (this.pageHeight - 500) / 2;\r\n\r\n\t\t\tthis.createCharacter(\"cartoonCharactors/1.png\", 46, 50, tr).pos(tx, 50 + startY);\r\n\t\t\tthis.createCharacter(\"cartoonCharactors/2.png\", 34, 50, tr).pos(tx, 150 + startY);\r\n\t\t\tthis.createCharacter(\"cartoonCharactors/3.png\", 42, 50, tr).pos(tx, 250 + startY);\r\n\t\t\tthis.createCharacter(\"cartoonCharactors/4.png\", 48, 50, tr).pos(tx, 350 + startY);\r\n\t\t\tthis.createCharacter(\"cartoonCharactors/5.png\", 36, 50, tr).pos(tx, 450 + startY);\r\n\t\t}\r\n\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\t}\r\n\r\n\tprivate createCharacter(skin: string, pivotX: number, pivotY: number, rotation: number): Sprite {\r\n\t\tvar charactor: Sprite = new Sprite();\r\n\t\tcharactor.loadImage(skin);\r\n\t\tcharactor.rotation = rotation;\r\n\t\tcharactor.pivot(pivotX, pivotY);\r\n\t\tthis.box2D.addChild(charactor);\r\n\t\tthis.characterGroup.push(charactor);\r\n\r\n\t\treturn charactor;\r\n\t}\r\n\r\n\tprivate animate(): void {\r\n\t\tfor (var i: number = this.characterGroup.length - 1; i >= 0; --i) {\r\n\t\t\tthis.animateCharactor(this.characterGroup[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate animateCharactor(charactor: Sprite): void {\r\n\t\tcharactor.x += this.moveSpeed;\r\n\t\tcharactor.rotation += this.rotateSpeed;\r\n\r\n\t\tif (charactor.x > this.pageWidth + this.extraSpace) {\r\n\t\t\tcharactor.x = -this.extraSpace;\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.animate);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Sprite = Laya.Sprite;\r\nimport Stat = Laya.Stat;\r\nimport Text = Laya.Text;\r\nimport Image = Laya.Image;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('3oxOQpf9QKSjYaaq8dXndg')\r\nexport class PerformanceTest_Cartoon2 extends BaseScript {\r\n\r\n    private amount: number = 500;\r\n\r\n\tprivate character1: any[] = [\"resources/res/cartoon2/yd-6_01.png\",\r\n\t\t\"resources/res/cartoon2/yd-6_02.png\",\r\n\t\t\"resources/res/cartoon2/yd-6_03.png\",\r\n\t\t\"resources/res/cartoon2/yd-6_04.png\",\r\n\t\t\"resources/res/cartoon2/yd-6_05.png\",\r\n\t\t\"resources/res/cartoon2/yd-6_06.png\",\r\n\t\t\"resources/res/cartoon2/yd-6_07.png\",\r\n\t\t\"resources/res/cartoon2/yd-6_08.png\"];\r\n\tprivate character2: any[] = [\"resources/res/cartoon2/yd-3_01.png\",\r\n\t\t\"resources/res/cartoon2/yd-3_02.png\",\r\n\t\t\"resources/res/cartoon2/yd-3_03.png\",\r\n\t\t\"resources/res/cartoon2/yd-3_04.png\",\r\n\t\t\"resources/res/cartoon2/yd-3_05.png\",\r\n\t\t\"resources/res/cartoon2/yd-3_06.png\",\r\n\t\t\"resources/res/cartoon2/yd-3_07.png\",\r\n\t\t\"resources/res/cartoon2/yd-3_08.png\"];\r\n\tprivate character3: any[] = [\"resources/res/cartoon2/yd-2_01.png\",\r\n\t\t\"resources/res/cartoon2/yd-2_02.png\",\r\n\t\t\"resources/res/cartoon2/yd-2_03.png\",\r\n\t\t\"resources/res/cartoon2/yd-2_04.png\",\r\n\t\t\"resources/res/cartoon2/yd-2_05.png\",\r\n\t\t\"resources/res/cartoon2/yd-2_06.png\",\r\n\t\t\"resources/res/cartoon2/yd-2_07.png\",\r\n\t\t\"resources/res/cartoon2/yd-2_08.png\"];\r\n\tprivate character4: any[] = [\"resources/res/cartoon2/wyd-1_01.png\",\r\n\t\t\"resources/res/cartoon2/wyd-1_02.png\",\r\n\t\t\"resources/res/cartoon2/wyd-1_03.png\",\r\n\t\t\"resources/res/cartoon2/wyd-1_04.png\",\r\n\t\t\"resources/res/cartoon2/wyd-1_05.png\",\r\n\t\t\"resources/res/cartoon2/wyd-1_06.png\",\r\n\t\t\"resources/res/cartoon2/wyd-1_07.png\",\r\n\t\t\"resources/res/cartoon2/wyd-1_08.png\"];\r\n\r\n\tprivate characterSkins: any[] = [this.character1, this.character2, this.character3, this.character4];\r\n\r\n\tprivate characters: any[] = [];\r\n\tprivate text: Text;\r\n\tprivate image:Image;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        Stat.enable();\r\n\t\t\r\n\t\tthis.image = new Image();\r\n\t\tthis.image.skin = \"resources/res/cartoon2/background.jpg\";\r\n\t\tthis.box2D.addChild(this.image);\r\n\r\n\t\tthis.createCharacters();\r\n\r\n\t\tthis.text = new Text();\r\n\t\tthis.text.zOrder = 10000;\r\n\t\tthis.text.fontSize = 60;\r\n\t\tthis.text.color = \"#ff0000\"\r\n\t\tthis.box2D.addChild(this.text);\r\n\r\n\t\tLaya.timer.frameLoop(1, this, this.gameLoop);\r\n\t}\r\n\r\n\tprivate createCharacters(): void {\r\n\t\tvar char: Character;\r\n\t\tvar charSkin: any[];\r\n\t\tfor (var i: number = 0; i < this.amount; i++) {\r\n\t\t\tcharSkin = this.characterSkins[Math.floor(Math.random() * this.characterSkins.length)];\r\n\t\t\tchar = new Character(charSkin,this.pageWidth);\r\n\r\n\t\t\tchar.x = Math.random() * (this.pageWidth + Character.WIDTH * 2);\r\n\t\t\tchar.y = Math.random() * (this.pageHeight - Character.HEIGHT);\r\n\t\t\tchar.zOrder = char.y;\r\n\r\n\t\t\tchar.setSpeed(Math.floor(Math.random() * 2 + 3));\r\n\t\t\tchar.setName(i.toString());\r\n\r\n\t\t\tthis.box2D.addChild(char);\r\n\t\t\tthis.characters.push(char);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate gameLoop(): void {\r\n\t\tfor (var i: number = this.characters.length - 1; i >= 0; i--) {\r\n\t\t\tthis.characters[i].update();\r\n\t\t}\r\n\t\tif (Laya.timer.currFrame % 60 === 0) {\r\n\t\t\tthis.text.text = Stat.FPS.toString();\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.gameLoop);\r\n\t}\r\n}\r\n\r\nclass Character extends Sprite {\r\n\tstatic WIDTH: number = 110;\r\n\tstatic HEIGHT: number = 110;\r\n\r\n\tprivate speed: number = 5;\r\n    private pageWidth: number = 0;\r\n\r\n\tprivate bloodBar: Sprite;\r\n\tprivate animation: Animation;\r\n\tprivate nameLabel: Text;\r\n\r\n\tconstructor(images: any[], pageWidth: number) {\r\n\t\tsuper();\r\n        this.pageWidth = pageWidth;\r\n\t\tthis.createAnimation(images);\r\n\t\tthis.createBloodBar();\r\n\t\tthis.createNameLabel();\r\n\t}\r\n\r\n\tprivate createAnimation(images: any[]): void {\r\n\t\tthis.animation = new Animation();\r\n\t\tthis.animation.loadImages(images);\r\n\t\tthis.animation.interval = 70;\r\n\t\tthis.animation.play(0);\r\n\t\tthis.addChild(this.animation);\r\n\t}\r\n\r\n\tprivate createBloodBar(): void {\r\n\t\tthis.bloodBar = new Sprite();\r\n\t\tthis.bloodBar.loadImage(\"resources/res/cartoon2/blood_1_r.png\");\r\n\t\tthis.bloodBar.x = 20;\r\n\t\tthis.addChild(this.bloodBar);\r\n\t}\r\n\r\n\tprivate createNameLabel(): void {\r\n\t\tthis.nameLabel = new Text();\r\n\t\tthis.nameLabel.color = \"#FFFFFF\";\r\n\t\tthis.nameLabel.text = \"Default\";\r\n\t\tthis.nameLabel.fontSize = 13;\r\n\t\tthis.nameLabel.width = Character.WIDTH;\r\n\t\tthis.nameLabel.align = \"center\";\r\n\t\tthis.addChild(this.nameLabel);\r\n\t}\r\n\r\n\tsetSpeed(value: number): void {\r\n\t\tthis.speed = value;\r\n\t}\r\n\r\n\tsetName(value: string): void {\r\n\t\tthis.nameLabel.text = value;\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tthis.x += this.speed;\r\n\t\tif (this.x >= this.pageWidth + Character.WIDTH)\r\n\t\t\tthis.x = -Character.WIDTH;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Rectangle = Laya.Rectangle;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('YZOmilzWQb-0ngIhi9VbYA')\r\nexport class PerformanceTest_Maggots extends BaseScript {\r\n\r\n\tprivate texturePath: string = \"resources/res/tinyMaggot.png\";\r\n\r\n\tprivate padding: number = 100;\r\n\tprivate maggotAmount: number = 5000;\r\n\r\n\tprivate tick: number = 0;\r\n\tprivate maggots: any[] = [];\r\n\tprivate wrapBounds: Rectangle;\r\n\tprivate maggotTexture: any;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.wrapBounds = new Rectangle(-this.padding, -this.padding, this.pageWidth + this.padding * 2, this.pageHeight + this.padding * 2);\r\n\r\n\t\tLaya.loader.load(this.texturePath).then( ()=>{\r\n            this.onTextureLoaded();\r\n        } );\r\n\t}\r\n\r\n\tprivate onTextureLoaded(e: any = null): void {\r\n\t\tthis.maggotTexture = Laya.loader.getRes(this.texturePath);\r\n\t\tthis.initMaggots();\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\t}\r\n\r\n\tprivate initMaggots(): void {\r\n\t\tvar maggotContainer: Sprite;\r\n\t\tfor (var i: number = 0; i < this.maggotAmount; i++) {\r\n\t\t\tif (i % 16000 == 0)\r\n\t\t\t\tmaggotContainer = this.createNewContainer();\r\n\r\n\t\t\tvar maggot: Maggot = this.newMaggot();\r\n\t\t\tmaggotContainer.addChild(maggot);\r\n\t\t\tthis.maggots.push(maggot);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate createNewContainer(): Sprite {\r\n\t\tvar container: Sprite = new Sprite();\r\n\t\tcontainer.size(this.pageWidth, this.pageHeight);\r\n\t\t// \u6B64\u5904cacheAsBitmap\u4E3B\u8981\u662F\u4E3A\u4E86\u521B\u5EFA\u65B0\u753B\u5E03\r\n\t\t// \u89E3\u9664IBQuadrangle\u6570\u91CF\u9650\u5236\r\n\t\t// \u5728\u663E\u793A\u866B\u5B50\u6570\u91CF\u8D85\u8FC716383\u65F6\u9700\u8981\u6253\u5F00\u4E0B\u9762\u4E00\u884C\r\n\t\t// container.cacheAsBitmap = true;\r\n\t\tthis.box2D.addChild(container);\r\n\t\treturn container;\r\n\t}\r\n\r\n\tprivate newMaggot(): Maggot {\r\n\t\tvar maggot: Maggot = new Maggot();\r\n\t\tmaggot.graphics.drawTexture(this.maggotTexture, 0, 0);\r\n\r\n\t\tmaggot.pivot(16.5, 35);\r\n\r\n\t\tvar rndScale: number = 0.8 + Math.random() * 0.3;\r\n\t\tmaggot.scale(rndScale, rndScale);\r\n\t\tmaggot.rotation = 0.1;\r\n\t\tmaggot.x = Math.random() * this.pageWidth;\r\n\t\tmaggot.y = Math.random() * this.pageHeight;\r\n\r\n\t\tmaggot.direction = Math.random() * Math.PI;\r\n\t\tmaggot.turningSpeed = Math.random() - 0.8;\r\n\t\tmaggot.speed = (2 + Math.random() * 2) * 0.2;\r\n\t\tmaggot.offset = Math.random() * 100;\r\n\r\n\t\treturn maggot;\r\n\t}\r\n\r\n\tprivate animate(): void {\r\n\t\tvar maggot: any;\r\n\t\tvar wb: Rectangle = this.wrapBounds;\r\n\t\tvar angleUnit: number = 180 / Math.PI;\r\n\t\tvar dir: any, x: number = 0.0, y: number = 0.0;\r\n\t\tfor (var i: number = 0; i < this.maggotAmount; i++) {\r\n\t\t\tmaggot = this.maggots[i];\r\n\r\n\t\t\tmaggot.scaleY = 0.90 + Math.sin(this.tick + maggot.offset) * 0.1;\r\n\r\n\t\t\tmaggot.direction += maggot.turningSpeed * 0.01;\r\n\t\t\tdir = maggot.direction;\r\n\t\t\tx = maggot.x;\r\n\t\t\ty = maggot.y;\r\n\r\n\t\t\tx += Math.sin(dir) * (maggot.speed * maggot.scaleY);\r\n\t\t\ty += Math.cos(dir) * (maggot.speed * maggot.scaleY);\r\n\r\n\t\t\tmaggot.rotation = (-dir + Math.PI) * angleUnit;\r\n\r\n\t\t\tif (x < wb.x)\r\n\t\t\t\tx += wb.width;\r\n\t\t\telse if (x > wb.x + wb.width)\r\n\t\t\t\tx -= wb.width;\r\n\t\t\tif (y < wb.y)\r\n\t\t\t\ty += wb.height;\r\n\t\t\telse if (y > wb.y + wb.height)\r\n\t\t\t\ty -= wb.height;\r\n\r\n\t\t\tmaggot.pos(x, y);\r\n\t\t}\r\n\r\n\t\tthis.tick += 0.1;\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.animate);\r\n\t}\r\n}\r\n\r\nclass Maggot extends Sprite {\r\n\tdirection: number;\r\n\tturningSpeed: number;\r\n\tspeed: number;\r\n\toffset: number;\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Skeleton = Laya.Skeleton;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('KTGA3tgVQJ-eNH-3SDGR5Q')\r\nexport class PerformanceTest_Skeleton extends BaseScript {\r\n\r\n    private mArmature: Skeleton;\r\n    private fileName: string = \"Dragon\";\r\n\r\n    private rowCount: number = 10;\r\n    private colCount: number = 10;\r\n    private xOff: number = 50;\r\n    private yOff: number = 100;\r\n    private mSpacingX: number;\r\n    private mSpacingY: number;\r\n\r\n    private mAnimationArray: any[] = [];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n        this.mSpacingX = this.pageWidth / this.colCount;\r\n\t\tthis.mSpacingY = this.pageHeight / this.rowCount;\r\n        Laya.loader.load(\"resources/res/skeleton/\" + this.fileName + \"/\" + this.fileName + \".sk\").then((templet: Templet) => {\r\n            for (var i: number = 0; i < this.rowCount; i++) {\r\n                for (var j: number = 0; j < this.colCount; j++) {\r\n                    this.mArmature = templet.buildArmature(1);\r\n                    this.mArmature.x = this.xOff + j * this.mSpacingX;\r\n                    this.mArmature.y = this.yOff + i * this.mSpacingY;\r\n                    this.mAnimationArray.push(this.mArmature);\r\n                    this.mArmature.play(0, true);\r\n                    this.mArmature.scale(0.2,0.2);\r\n                    this.box2D.addChild(this.mArmature);\r\n                }\r\n            }\r\n            this.box2D.on(Event.CLICK, this, this.toggleAction);\r\n        });\r\n    }\r\n\r\n    onDestroy(): void {\r\n        this.box2D.off(Event.CLICK, this, this.toggleAction);\r\n    }\r\n\r\n    private mActionIndex: number = 0;\r\n\r\n    toggleAction(e: any = null): void {\r\n        this.mActionIndex++;\r\n        var tAnimNum: number = this.mArmature.getAnimNum();\r\n        if (this.mActionIndex >= tAnimNum) {\r\n            this.mActionIndex = 0;\r\n        }\r\n        for (var i: number = 0, n: number = this.mAnimationArray.length; i < n; i++) {\r\n            this.mAnimationArray[i].play(this.mActionIndex, true);\r\n        }\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport BoxCollider = Laya.BoxCollider;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport RigidBody = Laya.RigidBody;\r\nimport ChainCollider = Laya.ChainCollider;\r\nimport PolygonCollider = Laya.PolygonCollider;\r\nimport Physics = Laya.Physics;\r\nimport CircleCollider = Laya.CircleCollider;\r\nimport RevoluteJoint = Laya.RevoluteJoint;\r\nimport Label = Laya.Label;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('R8CdMpUmQuaCg-HI-WWxYw')\r\nexport class Physics_Bridge extends BaseScript {\r\n\r\n    private ecount = 30;\r\n    private label: Label;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        Laya.Config.isAntialias = true;\r\n        Laya.Physics.enable();\r\n        Laya.PhysicsDebugDraw.enable();\r\n\r\n        this.createBridge();\r\n        this.eventListener();\r\n    }\r\n\r\n    createBridge() {\r\n        const startPosX = 250, startPosY = 350;\r\n\r\n        let ground = new Sprite();\r\n        this.box2D.addChild(ground);\r\n        let groundBody: RigidBody = new RigidBody();\r\n        groundBody.type = \"static\";\r\n        ground.addComponentInstance(groundBody);\r\n        let chainCollider: ChainCollider = ground.addComponent(ChainCollider);\r\n        chainCollider.points = \"0,450,1024,450\";\r\n\r\n        let point1 = new Sprite();\r\n        this.box2D.addChild(point1);\r\n        point1.pos(startPosX, startPosY);\r\n        let pointRB1 = new RigidBody();\r\n        pointRB1.type = \"static\";\r\n        point1.addComponentInstance(pointRB1);\r\n        let preBody = pointRB1;\r\n\r\n        // bridge\r\n        let width = 20, height = 2.5;\r\n        for (let i = 0; i < this.ecount; i++) {\r\n            let sp = new Sprite();\r\n            this.box2D.addChild(sp);\r\n            sp.pos(startPosX + i * width, startPosY);\r\n            let rb: RigidBody = sp.addComponent(RigidBody);\r\n            let bc: BoxCollider = sp.addComponent(BoxCollider);\r\n            bc.width = width;\r\n            bc.height = height;\r\n            bc.density = 20;\r\n            bc.friction = 0.2;\r\n            bc.y = -height / 2;\r\n            let rj = new RevoluteJoint();\r\n            rj.otherBody = preBody;\r\n            sp.addComponentInstance(rj);\r\n            preBody = rb;\r\n        }\r\n        let point2 = new Sprite();\r\n        this.box2D.addChild(point2);\r\n        point2.pos(startPosX + this.ecount * width, startPosY);\r\n        let pointRB2 = new RigidBody();\r\n        pointRB2.type = \"static\";\r\n        point2.addComponentInstance(pointRB2);\r\n\r\n        let rj = new RevoluteJoint();\r\n        rj.otherBody = preBody;\r\n        point2.addComponentInstance(rj);\r\n\r\n        for (let i = 0; i < 2; i++) {\r\n            let sp = new Sprite();\r\n            this.box2D.addChild(sp);\r\n            sp.pos(350 + 100 * i, 300);\r\n            let rb: RigidBody = sp.addComponent(RigidBody);\r\n            rb.bullet = true;\r\n            let pc: PolygonCollider = sp.addComponent(PolygonCollider);\r\n            pc.points = \"-10,0,10,0,0,30\";\r\n            pc.density = 1.0;\r\n        }\r\n\r\n        for (let i = 0; i < 2; i++) {\r\n            let sp = new Sprite();\r\n            this.box2D.addChild(sp);\r\n            sp.pos(400 + 150 * i, 350);\r\n            let rb: RigidBody = sp.addComponent(RigidBody);\r\n            rb.bullet = true;\r\n            let pc: CircleCollider = sp.addComponent(CircleCollider);\r\n            pc.radius = 10;\r\n        }\r\n    }\r\n\r\n    eventListener() {\r\n        // \u5355\u51FB\u4EA7\u751F\u65B0\u7684\u5C0F\u7403\u521A\u4F53\r\n        this.box2D.on(Event.CLICK, this, (e:Laya.Event) => {\r\n            let \r\n                targetX = (300 + Math.random() * 400) / Physics.PIXEL_RATIO, // [300, 700)\r\n                targetY = 500 / Physics.PIXEL_RATIO;\r\n            let newBall = new Sprite();\r\n            this.box2D.addChild(newBall);\r\n            let circleBody: RigidBody = newBall.addComponent(RigidBody);\r\n            circleBody.bullet = true;\r\n            let circleCollider: CircleCollider = newBall.addComponent(CircleCollider);\r\n            circleCollider.radius = 5;\r\n            circleCollider.x = e.target.mouseX;\r\n            circleCollider.y = e.target.mouseY;\r\n            let circlePosx = circleCollider.x / Physics.PIXEL_RATIO;\r\n            let circlePosy = circleCollider.y / Physics.PIXEL_RATIO;\r\n            let velocityX = targetX - circlePosx;\r\n            let velocityY = targetY - circlePosy;\r\n            circleBody.linearVelocity = {\"x\": velocityX * 3, \"y\": velocityY * 3};\r\n            Laya.timer.frameOnce(120, this, function() {\r\n                newBall.destroy();\r\n            });\r\n        });\r\n\r\n        let label: Label = this.label = this.box2D.addChild(new Label(\"\u5355\u51FB\u5C4F\u5E55\u4EA7\u751F\u65B0\u7684\u5C0F\u7403\u521A\u4F53\uFF0C\u51FB\u5411bridge\u7684\u968F\u673A\u4F4D\u7F6E\")) as Label;\r\n        label.top = 20;\r\n        label.right = 20;\r\n        label.fontSize = 16;\r\n        label.color = \"#e69999\";\r\n    }\r\n\r\n    onDestroy() {\r\n        this.box2D.offAll(Event.CLICK);\r\n        this.box2D.removeChild(this.label);\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport RigidBody = Laya.RigidBody;\r\nimport ChainCollider = Laya.ChainCollider;\r\nimport MouseJoint = Laya.MouseJoint;\r\nimport Physics = Laya.Physics;\r\nimport CircleCollider = Laya.CircleCollider;\r\nimport ColliderBase = Laya.ColliderBase;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('HQ5PB0pGTM-D9gfQjjanYw')\r\nexport class Physics_CollisionEvent extends BaseScript {\r\n\r\n    private count: number = 7;\r\n    private sensorCollider: CircleCollider;\r\n    private bodys: Array<any> = [];\r\n    private touching: Array<boolean> = [];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        Laya.Config.isAntialias = true;\r\n        Laya.Physics.enable();\r\n        Laya.PhysicsDebugDraw.enable();\r\n\r\n        this.createSensor();\r\n    }\r\n\r\n    createSensor() {\r\n\r\n        //\u5730\u9762\r\n        let ground = new Sprite();\r\n        this.owner.addChild(ground);\r\n        let groundBody: RigidBody = new RigidBody();\r\n        groundBody.type = \"static\";\r\n        ground.addComponentInstance(groundBody);\r\n        //\u5730\u9762\u78B0\u649E\u8303\u56F4\r\n        let chainCollider: ChainCollider = ground.addComponent(ChainCollider);\r\n        chainCollider.points = \"100,300,100,450,1024,450,1024,300\";\r\n\r\n        //\u4F20\u611F\u5668\r\n        let sensorCollider: CircleCollider = this.sensorCollider = ground.addComponent(CircleCollider);\r\n        sensorCollider.isSensor = true;\r\n        sensorCollider.radius = 100;\r\n        sensorCollider.x = 350;\r\n        sensorCollider.y = 200;\r\n\r\n        //\u5C0F\u7403\r\n        for (let i = 0, len = this.count; i < len; i++) {\r\n            let sp = new Sprite();\r\n            this.owner.addChild(sp);\r\n            sp.pos(350 + i * 50, 100).size(40, 40);\r\n            let rb: RigidBody = sp.addComponent(RigidBody);\r\n            this.bodys.push(rb);\r\n            this.touching[i] = false;\r\n            let body: any = rb.getBody();\r\n            if( body.GetUserData() )\r\n                body.SetUserData({'pointer': i});\r\n            else\r\n            {\r\n                console.log(\"GetUserData is null\");\r\n                body.pointer = i;\r\n            }\r\n                \r\n            let circleCollider: CircleCollider = sp.addComponent(CircleCollider);\r\n            circleCollider.radius = 20;\r\n            sp.addComponent(MouseJoint);\r\n        }\r\n\r\n        ground.on(Event.TRIGGER_ENTER, this, this.onTriggerEnter);\r\n        ground.on(Event.TRIGGER_EXIT, this, this.onTriggerExit);\r\n        Laya.physicsTimer.frameLoop(1, this, this.onTriggerStay);\r\n    }\r\n\r\n    onTriggerEnter(colliderB: ColliderBase, colliderA: ColliderBase, contact:any) {\r\n        if (colliderA === this.sensorCollider) {\r\n            let bodyB: RigidBody = colliderB.owner.getComponent(RigidBody);\r\n            if( bodyB.getBody().GetUserData() )\r\n            {\r\n                let index = bodyB.getBody().GetUserData().pointer;\r\n                this.touching[index] = true;\r\n            }\r\n            else\r\n            {\r\n                let index = bodyB.getBody().pointer;\r\n                this.touching[index] = true;                \r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    onTriggerStay() {\r\n        const box2d: any = (<any>window).box2d;\r\n        // \u904D\u5386\u6240\u6709\u521A\u4F53\r\n        let bodys = this.bodys, body: RigidBody;\r\n        for (let i = 0, len = this.count; i < len; i++) {\r\n            body = bodys[i];\r\n            if (!this.touching[i]) {\r\n                let body1: any = body.getBody();\r\n                if( body1.GetUserData() )\r\n                    body1.SetUserData({'pointer': i});                \r\n                continue;\r\n            }\r\n            let bodyA: RigidBody = this.sensorCollider.owner.getComponent(RigidBody);\r\n            let bodyB: RigidBody = body.owner.getComponent(RigidBody);\r\n            let bodyOriA = bodyA.getBody();\r\n            let bodyOriB = bodyB.getBody();\r\n            let position = bodyOriB.GetPosition();\r\n            // let center = bodyOriA.GetPosition();\r\n            let center = new box2d.b2Vec2((450 + 100) / Physics.PIXEL_RATIO, (300 + 100) / Physics.PIXEL_RATIO);\r\n            const d = box2d.b2Vec2.SubVV(center, position, new box2d.b2Vec2());\r\n            if (d.LengthSquared() < 1E-5) {\r\n                continue;\r\n            }\r\n            d.Normalize();\r\n            const F = new box2d.b2Vec2(d.x * 100, d.y * 100);\r\n            bodyB.applyForce(position, F);\r\n        }\r\n    }\r\n\r\n    onTriggerExit(colliderB: ColliderBase, colliderA: ColliderBase, contact:any) {\r\n        if (colliderA === this.sensorCollider) {\r\n            let bodyB: RigidBody = colliderB.owner.getComponent(RigidBody);\r\n            if( bodyB.getBody().GetUserData() )\r\n            {\r\n                let index = bodyB.getBody().GetUserData().pointer;\r\n                this.touching[index] = false;\r\n            }            \r\n            else\r\n            {\r\n                let index = bodyB.getBody().pointer;\r\n                this.touching[index] = false;                \r\n            }\r\n        }\r\n    }\r\n\r\n    onDestroy() {\r\n        Laya.physicsTimer.clearAll(this);\r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport BoxCollider = Laya.BoxCollider;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport RigidBody = Laya.RigidBody;\r\nimport ChainCollider = Laya.ChainCollider;\r\nimport MouseJoint = Laya.MouseJoint;\r\nimport PolygonCollider = Laya.PolygonCollider;\r\nimport CircleCollider = Laya.CircleCollider;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('aZzyL5s4RA2SeFvxqCy8eg')\r\nexport class Physics_CollisionFiltering extends BaseScript {\r\n\r\n    public static  k_smallGroup = 1;\r\n    public static  k_middleGroup = 0;\r\n    public static  k_largeGroup = -1;\r\n    public static  k_triangleCategory = 0x2;\r\n    public static  k_boxCategory = 0x4;\r\n    public static  k_circleCategory = 0x8;\r\n    public static  k_triangleMask = 0xF;\r\n    public static  k_boxMask = 0xF ^ Physics_CollisionFiltering.k_circleCategory;\r\n    public static  k_circleMask = Physics_CollisionFiltering.k_triangleCategory | Physics_CollisionFiltering.k_boxCategory | 0x01; // 0x01\u4E3Ahouse\u521A\u4F53\u9ED8\u8BA4\u7684category\uFF0C\u82E5\u4E0D\u8BBE\u7F6E\uFF0C\u5219\u4F1A\u7A7F\u900Fhouse\r\n    private curTarget: Sprite;\r\n    private preMovementX: number = 0;\r\n    private preMovementY: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        this.preMovementX = 0;\r\n        this.preMovementY = 0;\r\n        Laya.Config.isAntialias = true;\r\n        Laya.Physics.enable();\r\n        Laya.PhysicsDebugDraw.enable();\r\n\r\n        this.createHouse();\r\n        for (let i = 1; i <= 3; i++) {\r\n            this.createBox(300, 300, 20, 20, i);\r\n            this.createTriangle(500, 300, 20, i);\r\n            this.createCircle(700, 300, 10, i);\r\n        }\r\n    }\r\n\r\n    createHouse() {\r\n        let house=  new Sprite();\r\n        this.box2D.addChild(house);\r\n        let rigidbody: RigidBody = house.addComponent(RigidBody);\r\n        rigidbody.type = \"static\";\r\n        let chainCollider: ChainCollider = house.addComponent(ChainCollider);\r\n        chainCollider.loop = true;\r\n        chainCollider.points = \"450,0,0,200,0,450,1024,450,1024,200\";\r\n    }\r\n\r\n    createBox(posx:number, posy:number, width:number, height:number, ratio:number) {\r\n        let box = new Sprite();\r\n        box.on(Event.MOUSE_DOWN, this, this.mouseDown);\r\n        this.box2D.addChild(box);\r\n        box.pos(posx, posy).size(width * ratio, height * ratio);\r\n        let rigidbody: RigidBody = box.addComponent(RigidBody);\r\n        rigidbody.category = Physics_CollisionFiltering.k_boxCategory;\r\n        rigidbody.mask = Physics_CollisionFiltering.k_boxMask;\r\n        let boxCollider: BoxCollider = box.addComponent(BoxCollider);\r\n        boxCollider.width = width * ratio;\r\n        boxCollider.height = height * ratio;\r\n        this.addGroup(rigidbody, ratio);\r\n    }\r\n\r\n    createTriangle(posx:number, posy:number, side:number, ratio:number) {\r\n        let triangle = new Sprite();\r\n        triangle.on(Event.MOUSE_DOWN, this, this.mouseDown);\r\n        this.box2D.addChild(triangle);\r\n        triangle.pos(posx, posy).size(side * ratio, side * ratio);\r\n        let rigidbody: RigidBody = triangle.addComponent(RigidBody);\r\n        rigidbody.category = Physics_CollisionFiltering.k_triangleCategory;\r\n        rigidbody.mask = Physics_CollisionFiltering.k_triangleMask;\r\n        let polygonCollider: PolygonCollider = triangle.addComponent(PolygonCollider);\r\n        polygonCollider.points = `0,0,0,${side * ratio},${side * ratio},0`;\r\n        this.addGroup(rigidbody, ratio);\r\n    }\r\n\r\n    createCircle(posx:number, posy:number, radius:number, ratio:number) {\r\n        let circle = new Sprite();\r\n        circle.on(Event.MOUSE_DOWN, this, this.mouseDown);\r\n        this.box2D.addChild(circle);\r\n        circle.pos(posx, posy).size(radius * 2 * ratio, radius * 2 * ratio);\r\n        let rigidbody: RigidBody = circle.addComponent(RigidBody);\r\n        rigidbody.category = Physics_CollisionFiltering.k_circleCategory;\r\n        rigidbody.mask = Physics_CollisionFiltering.k_circleMask;\r\n        let circleCollider: CircleCollider = circle.addComponent(CircleCollider);\r\n        circleCollider.radius = radius * ratio;\r\n        this.addGroup(rigidbody, ratio);\r\n    }\r\n\r\n    addGroup(rigidbody:RigidBody, ratio:number) {\r\n        switch(ratio) {\r\n            case 1:\r\n                rigidbody.group = Physics_CollisionFiltering.k_smallGroup;\r\n                break;\r\n            case 2:\r\n                rigidbody.group = Physics_CollisionFiltering.k_middleGroup;\r\n                break;\r\n            case 3:\r\n                rigidbody.group = Physics_CollisionFiltering.k_largeGroup;\r\n                break;\r\n        }\r\n    }\r\n\r\n    mouseDown(e: Event) {\r\n        this.curTarget = e.target;\r\n        // \u65B9\u6848\u4E00\uFF0C\u4F7F\u7528 MouseJoint\r\n        let mouseJoint: MouseJoint = this.curTarget.addComponent(MouseJoint);\r\n        Laya.timer.callLater(mouseJoint, (<any>mouseJoint).onMouseDown);\r\n        this.box2D.on(Event.MOUSE_UP, this, this.destoryJoint);\r\n        this.box2D.on(Event.MOUSE_OUT, this, this.destoryJoint);\r\n        // \u65B9\u6848\u4E8C\uFF0C\u81EA\u5DF1\u5B9E\u73B0\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u66F4\u5927\u7A0B\u5EA6\u7684\u63A7\u5236\r\n        // this.box2D.on(Event.MOUSE_MOVE, this, this.mouseMove);\r\n        // this.box2D.on(Event.MOUSE_UP, this, this.mouseUp);\r\n        // this.box2D.on(Event.MOUSE_OUT, this, this.mouseUp);\r\n        // let rigidbody = this.curTarget.getComponent(RigidBody);\r\n        // rigidbody.type = \"kinematic\";\r\n    }\r\n\r\n    mouseMove(e: any) {\r\n        let movementX = e.nativeEvent.movementX;\r\n        let movementY = e.nativeEvent.movementY;\r\n        this.preMovementX = movementX;\r\n        this.preMovementY = movementY;\r\n        this.curTarget.pos(this.box2D.mouseX, this.box2D.mouseY);\r\n    }\r\n\r\n    mouseUp() {\r\n        this.box2D.off(Event.MOUSE_MOVE, this, this.mouseMove);\r\n        this.box2D.off(Event.MOUSE_UP, this, this.mouseUp);\r\n        this.box2D.off(Event.MOUSE_OUT, this, this.mouseUp);\r\n        let rigidbody: RigidBody = this.curTarget.getComponent(RigidBody);\r\n        rigidbody.type = \"dynamic\";\r\n        rigidbody.linearVelocity = [this.preMovementX, this.preMovementY];\r\n        this.curTarget = null;\r\n    }\r\n\r\n    destoryJoint() {\r\n        this.box2D.off(Event.MOUSE_UP, this, this.destoryJoint);\r\n        this.box2D.off(Event.MOUSE_OUT, this, this.destoryJoint);\r\n        let mouseJoint: MouseJoint = this.curTarget.getComponent(MouseJoint);\r\n        mouseJoint.destroy();\r\n        this.curTarget = null;\r\n    }\r\n\r\n    onDestroy() {\r\n        this.box2D.off(Event.MOUSE_MOVE, this, this.mouseMove);\r\n        this.box2D.off(Event.MOUSE_UP, this, this.mouseUp);\r\n        this.box2D.off(Event.MOUSE_OUT, this, this.mouseUp);\r\n        this.box2D.off(Event.MOUSE_UP, this, this.destoryJoint);\r\n        this.box2D.off(Event.MOUSE_OUT, this, this.destoryJoint);\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport BoxCollider = Laya.BoxCollider;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport RigidBody = Laya.RigidBody;\r\nimport ChainCollider = Laya.ChainCollider;\r\nimport RevoluteJoint = Laya.RevoluteJoint;\r\nimport Physics = Laya.Physics;\r\nimport CircleCollider = Laya.CircleCollider;\r\nimport PolygonCollider = Laya.PolygonCollider;\r\nimport DistanceJoint = Laya.DistanceJoint;\r\nimport Label = Laya.Label;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('az5-3_BMTYu7Om4I0ZPSyw')\r\nexport class Physics_Strandbeests extends BaseScript {\r\n\r\n    private scale = 2.5;\r\n    private pos: Array<number> = [500, 400];\r\n    private m_offset: Array<number> = [0, -80 * this.scale];\r\n    private pivot: Array<number> = [0, 8 * this.scale];\r\n    private wheel: Sprite;\r\n    private chassis: Sprite;\r\n    private motorJoint: RevoluteJoint;\r\n    private label: Label;\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        Laya.Config.isAntialias = true;\r\n        Laya.Physics.enable();\r\n        Laya.PhysicsDebugDraw.enable();\r\n\r\n        this.Construct();\r\n        this.eventListener();\r\n    }\r\n\r\n    Construct() {\r\n        // Ground\r\n        let ground = new Sprite();\r\n        this.box2D.addChild(ground);\r\n        let rigidbody: RigidBody = new RigidBody();\r\n        rigidbody.type = \"static\";\r\n        ground.addComponentInstance(rigidbody);\r\n        let chainCollider: ChainCollider = ground.addComponent(ChainCollider);\r\n        chainCollider.points = \"0,200,0,450,1024,450,1024,200\";\r\n\r\n        // Balls\r\n        for (let i = 1; i <= 32; i++) {\r\n            let small = new Sprite();\r\n            small.pos(i * 30 + 50, 450 - 5 * this.scale);\r\n            this.box2D.addChild(small);\r\n            let sBody: RigidBody = small.addComponent(RigidBody);\r\n            let sCollider: CircleCollider = small.addComponent(CircleCollider);\r\n            sCollider.radius = 2.5 * this.scale;\r\n        }\r\n\r\n        // Chassis\r\n        let chassis: Sprite = this.chassis = new Sprite();\r\n        chassis.pos(this.pos[0] + this.pivot[0] + this.m_offset[0], this.pos[1] + this.pivot[1] + this.m_offset[1]).size(50 * this.scale, 20 * this.scale);\r\n        this.box2D.addChild(chassis);\r\n        let chassisBody: RigidBody = chassis.addComponent(RigidBody);\r\n        chassisBody.group = -1;\r\n        let chassisCollider: BoxCollider = chassis.addComponent(BoxCollider);\r\n        chassisCollider.density = 1;\r\n        chassisCollider.width = 50 * this.scale;\r\n        chassisCollider.height = 20 * this.scale;\r\n        chassisCollider.x = -25 * this.scale;\r\n        chassisCollider.y = -10 * this.scale;\r\n\r\n        // Circle\r\n        let wheel = this.wheel = new Sprite();\r\n        wheel.pos(this.pos[0] + this.pivot[0] + this.m_offset[0], this.pos[1] + this.pivot[1] + this.m_offset[1]); //.size(32, 32);\r\n        this.box2D.addChild(wheel);\r\n        let wheelBody: RigidBody = wheel.addComponent(RigidBody);\r\n        wheelBody.group = -1;\r\n        let wheelCollider: CircleCollider = wheel.addComponent(CircleCollider);\r\n        wheelCollider.density = 1;\r\n        wheelCollider.radius = 16 * this.scale;\r\n        wheelCollider.x = -16 * this.scale;\r\n        wheelCollider.y = -16 * this.scale;\r\n\r\n        // \u8F6C\u52A8\u5173\u8282\r\n        let motorJoint: RevoluteJoint = this.motorJoint = new RevoluteJoint();\r\n        motorJoint.otherBody = wheelBody;\r\n        // motorJoint.anchor = this.pivot;\r\n        motorJoint.motorSpeed = 2.0;\r\n        motorJoint.maxMotorTorque = 400.0;\r\n        motorJoint.enableMotor = true;\r\n        chassis.addComponentInstance(motorJoint);\r\n\r\n        let wheelOriBody = wheelBody.getBody();\r\n        let wheelAnchor = [this.pivot[0], this.pivot[1] - 8 * this.scale];\r\n        this.createLeg(-1, wheelAnchor);\r\n        this.createLeg(1, wheelAnchor);\r\n        wheelOriBody.SetTransform(wheelOriBody.GetPosition(), 120.0 * Math.PI / 180.0);\r\n        this.createLeg(-1.0, wheelAnchor);\r\n        this.createLeg(1.0, wheelAnchor);\r\n        wheelOriBody.SetTransform(wheelOriBody.GetPosition(), -120.0 * Math.PI / 180.0);\r\n        this.createLeg(-1.0, wheelAnchor);\r\n        this.createLeg(1.0, wheelAnchor);\r\n    }\r\n\r\n    createLeg(s: number, wheelAnchor : any) {\r\n        const box2d: any = (<any>window).box2d;\r\n        const wheelBody: RigidBody = this.wheel.getComponent(RigidBody);\r\n        const chassisBody: RigidBody = this.chassis.getComponent(RigidBody);\r\n\r\n        const p1 = [54 * s * this.scale, -61 * -1 * this.scale];\r\n        const p2 = [72 * s * this.scale, -12 * -1 * this.scale];\r\n        const p3 = [43 * s * this.scale, -19 * -1 * this.scale];\r\n        const p4 = [31 * s * this.scale,  8  * -1 * this.scale];\r\n        const p5 = [60 * s * this.scale,  15 * -1 * this.scale];\r\n        const p6 = [25 * s * this.scale,  37 * -1 * this.scale];\r\n\r\n        let leg1 = new Sprite();\r\n        leg1.pos(this.pos[0] + this.m_offset[0], this.pos[1] + this.m_offset[1] + 16 * this.scale); // TODO \u8FD9\u91CC\u7684\u6570\u503C\u5F85\u4F18\u5316\r\n        this.box2D.addChild(leg1);\r\n        let legBody1: RigidBody = leg1.addComponent(RigidBody);\r\n        legBody1.angularDamping = 10;\r\n        legBody1.group = -1;\r\n        let legCollider1: PolygonCollider = leg1.addComponent(PolygonCollider);\r\n        legCollider1.density = 1;\r\n        let leg2 = new Sprite();\r\n        leg2.pos(this.pos[0] + this.m_offset[0] + p4[0], this.pos[1] + this.m_offset[1] + p4[1] + 16 * this.scale);\r\n        this.box2D.addChild(leg2);\r\n        let legBody2: RigidBody = leg2.addComponent(RigidBody);\r\n        legBody2.angularDamping = 10;\r\n        legBody2.group = -1;\r\n        let legCollider2: PolygonCollider = leg2.addComponent(PolygonCollider);\r\n        legCollider2.density = 1;\r\n\r\n        if (s > 0) {\r\n            legCollider1.points = p1.concat(p2).concat(p3).join(\",\");\r\n            legCollider2.points = [0, 0].concat(B2Math.SubVV(p5, p4)).concat(B2Math.SubVV(p6, p4)).join(\",\");\r\n        } else {\r\n            legCollider1.points = p1.concat(p3).concat(p2).join(\",\");\r\n            legCollider2.points = [0, 0].concat(B2Math.SubVV(p6, p4)).concat(B2Math.SubVV(p5, p4)).join(\",\");\r\n        }\r\n        \r\n        const dampingRatio: number = 0.5;\r\n        const frequencyHz: number = 10.0;\r\n        let distanceJoint1: DistanceJoint = new DistanceJoint();\r\n        distanceJoint1.otherBody = legBody2;\r\n        distanceJoint1.selfAnchor = p2;\r\n        distanceJoint1.otherAnchor = B2Math.SubVV(p5, p4);\r\n        distanceJoint1.frequency = frequencyHz;\r\n        distanceJoint1.damping = dampingRatio;\r\n        leg1.addComponentInstance(distanceJoint1);\r\n        distanceJoint1.maxLength = distanceJoint1.minLength = distanceJoint1.length || distanceJoint1.joint.GetLength() * Physics.PIXEL_RATIO;\r\n\r\n        let distanceJoint2: DistanceJoint = new DistanceJoint();\r\n        distanceJoint2.otherBody = legBody2;\r\n        distanceJoint2.selfAnchor = p3;\r\n        // distanceJoint2.otherAnchor = p4;\r\n        distanceJoint2.frequency = frequencyHz;\r\n        distanceJoint2.damping = dampingRatio;\r\n        leg1.addComponentInstance(distanceJoint2);\r\n        distanceJoint2.maxLength = distanceJoint2.minLength = distanceJoint2.length || distanceJoint2.joint.GetLength() * Physics.PIXEL_RATIO;;\r\n\r\n        let localAnchor = new box2d.b2Vec2();\r\n        wheelBody.getBody().GetLocalPoint({'x': (this.pos[0] + this.m_offset[0]) / Physics.PIXEL_RATIO, 'y': (this.pos[1] + this.m_offset[1]) / Physics.PIXEL_RATIO}, localAnchor);\r\n        let anchor = [-localAnchor.x * Physics.PIXEL_RATIO, -localAnchor.y * Physics.PIXEL_RATIO];\r\n\r\n        let distanceJoint3: DistanceJoint = new DistanceJoint();\r\n        distanceJoint3.otherBody = wheelBody;\r\n        distanceJoint3.selfAnchor = p3;\r\n        distanceJoint3.otherAnchor = anchor; // \u56E0\u4E3A\u6709\u65CB\u8F6C\uFF0ClocalAnchor\u5F88\u96BE\u8BA1\u7B97\uFF0C\u4F7F\u7528\u7EDD\u5BF9\u4F4D\u7F6E\u6362\u7B97\r\n        distanceJoint3.frequency = frequencyHz;\r\n        distanceJoint3.damping = dampingRatio;\r\n        leg1.addComponentInstance(distanceJoint3);\r\n        distanceJoint3.maxLength = distanceJoint3.minLength = distanceJoint3.length || distanceJoint3.joint.GetLength() * Physics.PIXEL_RATIO;;\r\n\r\n        let distanceJoint4: DistanceJoint = new DistanceJoint();\r\n        distanceJoint4.otherBody = wheelBody;\r\n        distanceJoint4.selfAnchor = B2Math.SubVV(p6, p4);\r\n        distanceJoint4.otherAnchor = anchor;\r\n        distanceJoint4.frequency = frequencyHz;\r\n        distanceJoint4.damping = dampingRatio;\r\n        leg2.addComponentInstance(distanceJoint4);\r\n        distanceJoint4.maxLength = distanceJoint4.minLength = distanceJoint4.length || distanceJoint4.joint.GetLength() * Physics.PIXEL_RATIO;;\r\n\r\n        let revoluteJoint: RevoluteJoint = new RevoluteJoint();\r\n        revoluteJoint.otherBody = legBody2;\r\n        revoluteJoint.anchor = B2Math.AddVV(p4, this.pivot);\r\n        this.chassis.addComponentInstance(revoluteJoint);\r\n    }\r\n\r\n    eventListener() {\r\n        // \u53CC\u51FB\u5C4F\u5E55\uFF0C\u4EFF\u751F\u673A\u5668\u4EBA\u5411\u76F8\u53CD\u65B9\u5411\u8FD0\u52A8\r\n        Laya.stage.on(Event.DOUBLE_CLICK, this, () => {\r\n            this.motorJoint.motorSpeed = -this.motorJoint.motorSpeed;\r\n        });\r\n\r\n        // \u5355\u51FB\u4EA7\u751F\u65B0\u7684\u5C0F\u7403\u521A\u4F53\r\n        Laya.stage.on(Event.CLICK, this, (e:Event) => {\r\n            const chassisBody = this.chassis.getComponent(RigidBody);\r\n            const chassisPos = chassisBody.getBody().GetPosition();\r\n            let newBall = new Sprite();\r\n            this.box2D.addChild(newBall);\r\n            let circleBody: RigidBody = newBall.addComponent(RigidBody);\r\n            let circleCollider: CircleCollider = newBall.addComponent(CircleCollider);\r\n            circleCollider.radius = 3 * this.scale;\r\n            circleCollider.x = e.target.mouseX;\r\n            circleCollider.y = e.target.mouseY;\r\n            let circlePosx = circleCollider.x / Physics.PIXEL_RATIO;\r\n            let circlePosy = circleCollider.y / Physics.PIXEL_RATIO;\r\n            let velocityX = chassisPos.x - circlePosx;\r\n            let velocityY = chassisPos.y - circlePosy;\r\n            circleBody.linearVelocity = {\"x\": velocityX * 5, \"y\": velocityY * 5};\r\n            Laya.timer.frameOnce(120, this, function() {\r\n                newBall.destroy();\r\n            });\r\n        });\r\n\r\n        let label: Label = this.label = this.box2D.addChild(new Label(\"\u53CC\u51FB\u5C4F\u5E55\uFF0C\u4EFF\u751F\u673A\u5668\u4EBA\u5411\u76F8\u53CD\u65B9\u5411\u8FD0\u52A8\\n\u5355\u51FB\u4EA7\u751F\u65B0\u7684\u5C0F\u7403\u521A\u4F53\")) as Label;\r\n        label.top = 20;\r\n        label.right = 20;\r\n        label.fontSize = 16;\r\n        label.color = \"#e69999\";\r\n    }\r\n\r\n    dispose() {\r\n        Laya.stage.offAll(Event.CLICK);\r\n        Laya.stage.offAll(Event.DOUBLE_CLICK);\r\n        this.box2D.removeChild(this.label);\r\n    }\r\n}\r\n\r\nclass B2Math {\r\n    static AddVV(a:any, b:any) {\r\n        return [a[0] + b[0], a[1] + b[1]];\r\n    }\r\n\r\n    static SubVV(a:any, b:any) {\r\n        return [a[0] - b[0], a[1] - b[1]];\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport BoxCollider = Laya.BoxCollider;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport RigidBody = Laya.RigidBody;\r\nimport RevoluteJoint = Laya.RevoluteJoint;\r\nimport Label = Laya.Label;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('8as1ej0pRP20ww2gzBlTbA')\r\nexport class Physics_Tumbler extends BaseScript {\r\n\r\n    private count = 0;\r\n    private box: Sprite;\r\n    private totalBox = 200;\r\n    private label: Label;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n        Laya.Config.isAntialias = true;\r\n        Laya.Physics.enable();\r\n        Laya.PhysicsDebugDraw.enable();\r\n        \r\n\t\tthis.createBox();\r\n        this.eventListener();\r\n\t}\r\n\r\n    createBox() {\r\n        const width = 300, height = 20;\r\n        const \r\n            posx = this.pageWidth / 2,\r\n            posy = this.pageHeight / 2;\r\n\r\n        let box = this.box = new Sprite();\r\n        box.size(width + height * 2, width + height * 2);\r\n        box.pivot(box.width / 2, box.height / 2);\r\n        box.pos(posx, posy);\r\n        this.box2D.addChild(box);\r\n        let boxBody: RigidBody = box.addComponent(RigidBody);\r\n        // boxBody.gravityScale = 0;\r\n        let box1Shape: BoxCollider = box.addComponent(BoxCollider);\r\n        let box2Shape: BoxCollider = box.addComponent(BoxCollider);\r\n        let box3Shape: BoxCollider = box.addComponent(BoxCollider);\r\n        let box4Shape: BoxCollider = box.addComponent(BoxCollider);\r\n        box1Shape.width = width + height * 2;\r\n        box1Shape.height = height;\r\n        box1Shape.x = 0;\r\n        box1Shape.y = 0;\r\n        box2Shape.width = width + height * 2;\r\n        box2Shape.height = height;\r\n        box2Shape.x = 0;\r\n        box2Shape.y = width + height;\r\n        box3Shape.width = height;\r\n        box3Shape.height = width + height * 2;\r\n        box3Shape.x = 0;\r\n        box3Shape.y = 0;\r\n        box4Shape.width = height;\r\n        box4Shape.height = width + height * 2;\r\n        box4Shape.x = width + height;\r\n        box4Shape.y = 0;\r\n\r\n        let revoluteJoint = new RevoluteJoint();\r\n        revoluteJoint.anchor = [box.width / 2, box.width / 2];\r\n        revoluteJoint.motorSpeed = 0.05 * Math.PI;\r\n        revoluteJoint.maxMotorTorque = 1e8;\r\n        revoluteJoint.enableMotor = true;\r\n        box.addComponentInstance(revoluteJoint);\r\n        Laya.timer.frameLoop(1, this, this.addMiniBox);\r\n    }\r\n\r\n    addMiniBox() {\r\n        let box = this.box;\r\n        if (this.count >= this.totalBox) {\r\n            return;\r\n        }\r\n        let sp = new Sprite();\r\n        this.box2D.addChild(sp);\r\n        sp.x = box.x;\r\n        sp.y=  box.y;\r\n        sp.addComponent(RigidBody);\r\n        let collider = sp.addComponent(BoxCollider);\r\n        collider.width = 5;\r\n        collider.height = 5;\r\n        this.count++;\r\n    }\r\n\r\n    eventListener() {\r\n        let label: Label = this.label = this.box2D.addChild(new Label(\"\u53CC\u51FB\u5C4F\u5E55\uFF0C\u5C06\u4F1A\u4EA7\u751F100\u4E2A\u65B0\u7684\u5C0F\u521A\u4F53\")) as Label;\r\n        label.top = 20;\r\n        label.right = 20;\r\n        label.fontSize = 16;\r\n        label.color = \"#e69999\";\r\n        Laya.stage.on(Event.DOUBLE_CLICK, this, this.handleMouse);\r\n        Laya.timer.frameLoop(1, this, this.addMiniBox);\r\n    }\r\n\r\n    handleMouse() { \r\n        console.log(\"handleMouse\");\r\n        this.totalBox += 100;  \r\n    } \r\n\r\n    onDestroy() {\r\n        Laya.stage.offAll(Event.DOUBLE_CLICK);\r\n        this.box2D.removeChild(this.label);\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Rectangle = Laya.Rectangle;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('uxpJifHLQPGt4AQ_i_RI9A')\r\nexport class Animation_Altas extends BaseScript {\r\n\r\n    private AniConfPath: string = \"resources/res/fighter/fighter.json\";\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        //\u52A0\u8F7D\u56FE\u96C6json\u6587\u4EF6\r\n\t\tLaya.loader.load(this.AniConfPath, Loader.ATLAS).then( ()=>{\r\n            this.createAnimation();\r\n        } );\r\n\t}\r\n\r\n    //\u901A\u8FC7Animation\u6765\u521B\u5EFA\u52A8\u753B\r\n\tprivate createAnimation(_e: any = null): void {\r\n\t\tvar ani: Animation = new Animation();\r\n\t\tani.loadAtlas(this.AniConfPath);\t\t\t// \u52A0\u8F7D\u56FE\u96C6\u52A8\u753B\r\n\t\tani.interval = 30;\t\t\t\t\t// \u8BBE\u7F6E\u64AD\u653E\u95F4\u9694\uFF08\u5355\u4F4D\uFF1A\u6BEB\u79D2\uFF09\r\n\t\tani.index = 1;\t\t\t\t\t\t// \u5F53\u524D\u64AD\u653E\u7D22\u5F15\r\n\t\tani.play();\t\t\t\t\t\t\t// \u64AD\u653E\u56FE\u96C6\u52A8\u753B\r\n\r\n\t\t// \u83B7\u53D6\u52A8\u753B\u7684\u8FB9\u754C\u4FE1\u606F\r\n\t\tvar bounds: Rectangle = ani.getGraphicBounds();\r\n\t\tani.pivot(bounds.width / 2, bounds.height / 2);\r\n\t\tani.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n\t\tthis.owner.addChild(ani);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport MovieClip = Laya.MovieClip;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('LWnzyfBBSXu5Ig4friIx_A')\r\nexport class Animation_SWF extends BaseScript {\r\n\r\n    private SWFPath: string = \"resources/res/swf/dragon.swf\";\r\n\r\n    private MCWidth: number = 318;\r\n    private MCHeight: number = 406;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        this.createMovieClip();\r\n    }\r\n\r\n    //\u521B\u5EFAMovieClip\u7EC4\u4EF6\u521B\u5EFA\u52A8\u753B\r\n    private createMovieClip(): void {\r\n        var mc: MovieClip = new MovieClip();\r\n        mc.load(this.SWFPath);\r\n\r\n        mc.x = (this.pageWidth - this.MCWidth) / 2;\r\n        mc.y = (this.pageHeight - this.MCHeight) / 2;\r\n\r\n        this.owner.addChild(mc);\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('kvn22L5jTKWGuy7Rtb5jxw')\r\nexport class PIXI_Example_1 extends BaseScript {\r\n\r\n    private starCount: number = 2500;\r\n\tprivate sx: number = 1.0 + (Math.random() / 20);\r\n\tprivate sy: number = 1.0 + (Math.random() / 20);\r\n\tprivate stars: any[] = [];\r\n\tprivate w: number = this.pageWidth;\r\n\tprivate h: number = this.pageHeight;\r\n\tprivate slideX: number = this.w / 2;\r\n\tprivate slideY: number = this.h / 2;\r\n\r\n\tprivate speedInfo: Text;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createText();\r\n\t\tthis.start();\r\n        this.box2D.on(Event.RESIZE, this, this.resize);\r\n\t}\r\n\r\n\tprivate start(): void {\r\n\t\tfor (var i: number = 0; i < this.starCount; i++) {\r\n\t\t\tvar tempBall: Sprite = new Sprite();\r\n\t\t\ttempBall.loadImage(\"resources/res/pixi/bubble_32x32.png\");\r\n\r\n\t\t\ttempBall.x = (Math.random() * this.w) - this.slideX;\r\n\t\t\ttempBall.y = (Math.random() * this.h) - this.slideY;\r\n\t\t\ttempBall.pivot(16, 16);\r\n\r\n\t\t\tthis.stars.push({ \"sprite\": tempBall, \"x\": tempBall.x, \"y\": tempBall.y });\r\n\r\n\t\t\tthis.box2D.addChild(tempBall);\r\n\t\t}\r\n\r\n\t\tthis.box2D.on(Laya.Event.CLICK, this, this.newWave);\r\n\t\tthis.speedInfo.text = 'SX: ' + this.sx + '\\nSY: ' + this.sy;\r\n\r\n\t\tthis.resize();\r\n\r\n\t\tLaya.timer.frameLoop(1, this, this.update);\r\n\t}\r\n\r\n\tprivate createText(): void {\r\n\t\tthis.speedInfo = new Text();\r\n\t\tthis.speedInfo.color = \"#FFFFFF\";\r\n\t\tthis.speedInfo.pos(this.w - 160, 20);\r\n\t\tthis.speedInfo.zOrder = 1;\r\n\t\tthis.box2D.addChild(this.speedInfo);\r\n\t}\r\n\r\n\tprivate newWave(): void {\r\n\t\tthis.sx = 1.0 + (Math.random() / 20);\r\n\t\tthis.sy = 1.0 + (Math.random() / 20);\r\n\t\tthis.speedInfo.text = 'SX: ' + this.sx + '\\nSY: ' + this.sy;\r\n\t}\r\n\r\n\tprivate resize(): void {\r\n\t\tthis.w = this.pageWidth;\r\n\t\tthis.h = this.pageHeight;\r\n\r\n\t\tthis.slideX = this.w / 2;\r\n\t\tthis.slideY = this.h / 2;\r\n\t}\r\n\r\n\tprivate update(): void {\r\n\t\tfor (var i: number = 0; i < this.starCount; i++) {\r\n\t\t\tthis.stars[i].sprite.x = this.stars[i].x + this.slideX;\r\n\t\t\tthis.stars[i].sprite.y = this.stars[i].y + this.slideY;\r\n\t\t\tthis.stars[i].x = this.stars[i].x * this.sx;\r\n\t\t\tthis.stars[i].y = this.stars[i].y * this.sy;\r\n\r\n\t\t\tif (this.stars[i].x > this.w) {\r\n\t\t\t\tthis.stars[i].x = this.stars[i].x - this.w;\r\n\t\t\t}\r\n\t\t\telse if (this.stars[i].x < -this.w) {\r\n\t\t\t\tthis.stars[i].x = this.stars[i].x + this.w;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.stars[i].y > this.h) {\r\n\t\t\t\tthis.stars[i].y = this.stars[i].y - this.h;\r\n\t\t\t}\r\n\t\t\telse if (this.stars[i].y < -this.h) {\r\n\t\t\t\tthis.stars[i].y = this.stars[i].y + this.h;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    \r\n    onDestroy(): void {\r\n\r\n\t\tthis.box2D.off(Laya.Event.CLICK, this, this.newWave);\r\n        Laya.timer.clear(this, this.update);\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('YPFgUrVMRhiHtIvB2_ssDw')\r\nexport class PIXI_Example_2 extends BaseScript {\r\n\r\n    private n: number = 2000;\r\n\tprivate d: number = 1;\r\n\tprivate current: number = 0;\r\n\tprivate objs: number = 17;\r\n\tprivate vx: number = 0;\r\n\tprivate vy: number = 0;\r\n\tprivate vz: number = 0;\r\n\tprivate points1: any[] = [];\r\n\tprivate points2: any[] = [];\r\n\tprivate points3: any[] = [];\r\n\tprivate tpoint1: any[] = [];\r\n\tprivate tpoint2: any[] = [];\r\n\tprivate tpoint3: any[] = [];\r\n\tprivate balls: any[] = [];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.box2D.on(Event.RESIZE, this, this.onResize);\r\n\r\n\t\tthis.makeObject(0);\r\n\r\n\t\tfor (var i: number = 0; i < this.n; i++) {\r\n\t\t\tthis.tpoint1[i] = this.points1[i];\r\n\t\t\tthis.tpoint2[i] = this.points2[i];\r\n\t\t\tthis.tpoint3[i] = this.points3[i];\r\n\r\n\t\t\tvar tempBall: Sprite = new Sprite();\r\n\t\t\ttempBall.loadImage(\"resources/res/pixi/pixel.png\");\r\n\t\t\ttempBall.pivot(3, 3);\r\n\t\t\ttempBall.alpha = 0.5;\r\n\t\t\tthis.balls[i] = tempBall;\r\n\r\n\t\t\tthis.box2D.addChild(tempBall);\r\n\t\t}\r\n\r\n\t\tthis.onResize();\r\n\r\n\t\tLaya.timer.loop(5000, this, this.nextObject);\r\n\t\tLaya.timer.frameLoop(1, this, this.update);\r\n\t}\r\n\r\n\tprivate nextObject(): void {\r\n\t\tthis.current++;\r\n\r\n\t\tif (this.current > this.objs) {\r\n\t\t\tthis.current = 0;\r\n\t\t}\r\n\r\n\t\tthis.makeObject(this.current);\r\n\t}\r\n\r\n\tprivate makeObject(t:number): void {\r\n\t\tvar xd: number;\r\n\t\tvar i: number;\r\n\r\n\t\tswitch (t) {\r\n\t\t\tcase 0:\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\tthis.points1[i] = -50 + Math.round(Math.random() * 100);\r\n\t\t\t\t\tthis.points2[i] = 0;\r\n\t\t\t\t\tthis.points3[i] = 0;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(t * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(xd) * 10) * (Math.sin(t * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(xd) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + (Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(t * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(xd) * 10) * (Math.sin(t * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 3:\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(xd) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(xd) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(xd) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 4:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(xd) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(xd) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 5:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(xd) * 10);\r\n\r\n\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 6:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 7:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.sin(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 8:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.sin(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(xd) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 9:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(xd) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 10:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(xd) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 11:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.sin(xd) * 10) * (Math.sin(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(xd) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 12:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(xd) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.sin(xd) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 13:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.sin(i * 360 / this.n) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 14:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.sin(xd) * 10) * (Math.cos(xd) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.sin(xd) * 10) * (Math.sin(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 15:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.sin(i * 360 / this.n) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 16:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.sin(i * 360 / this.n) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(xd) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 17:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(xd) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.sin(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate onResize(): void {\r\n\r\n\t}\r\n\r\n\tprivate update(): void {\r\n\t\tvar x3d: number, y3d: number, z3d: number, tx: number, ty: number, tz: number, ox: number;\r\n\r\n\t\tif (this.d < 200) {\r\n\t\t\tthis.d++;\r\n\t\t}\r\n\r\n\t\tthis.vx += 0.0075;\r\n\t\tthis.vy += 0.0075;\r\n\t\tthis.vz += 0.0075;\r\n\r\n\t\tfor (var i: number = 0; i < this.n; i++) {\r\n\t\t\tif (this.points1[i] > this.tpoint1[i]) {\r\n\t\t\t\tthis.tpoint1[i] = this.tpoint1[i] + 1;\r\n\t\t\t}\r\n\t\t\tif (this.points1[i] < this.tpoint1[i]) {\r\n\t\t\t\tthis.tpoint1[i] = this.tpoint1[i] - 1;\r\n\t\t\t}\r\n\t\t\tif (this.points2[i] > this.tpoint2[i]) {\r\n\t\t\t\tthis.tpoint2[i] = this.tpoint2[i] + 1;\r\n\t\t\t}\r\n\t\t\tif (this.points2[i] < this.tpoint2[i]) {\r\n\t\t\t\tthis.tpoint2[i] = this.tpoint2[i] - 1;\r\n\t\t\t}\r\n\t\t\tif (this.points3[i] > this.tpoint3[i]) {\r\n\t\t\t\tthis.tpoint3[i] = this.tpoint3[i] + 1;\r\n\t\t\t}\r\n\t\t\tif (this.points3[i] < this.tpoint3[i]) {\r\n\t\t\t\tthis.tpoint3[i] = this.tpoint3[i] - 1;\r\n\t\t\t}\r\n\r\n\t\t\tx3d = this.tpoint1[i];\r\n\t\t\ty3d = this.tpoint2[i];\r\n\t\t\tz3d = this.tpoint3[i];\r\n\r\n\t\t\tty = (y3d * Math.cos(this.vx)) - (z3d * Math.sin(this.vx));\r\n\t\t\ttz = (y3d * Math.sin(this.vx)) + (z3d * Math.cos(this.vx));\r\n\t\t\ttx = (x3d * Math.cos(this.vy)) - (tz * Math.sin(this.vy));\r\n\t\t\ttz = (x3d * Math.sin(this.vy)) + (tz * Math.cos(this.vy));\r\n\t\t\tox = tx;\r\n\t\t\ttx = (tx * Math.cos(this.vz)) - (ty * Math.sin(this.vz));\r\n\t\t\tty = (ox * Math.sin(this.vz)) + (ty * Math.cos(this.vz));\r\n\r\n\t\t\tthis.balls[i].x = (512 * tx) / (this.d - tz) + this.box2D.width / 2;\r\n\t\t\tthis.balls[i].y = (this.box2D.height / 2) - (512 * ty) / (this.d - tz);\r\n\t\t}\r\n\t}\r\n\r\n    onDestroy(): void {\r\n\r\n\t\tLaya.timer.clear(this, this.nextObject);\r\n        Laya.timer.clear(this, this.update);\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Graphics = Laya.Graphics;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('22qnXAvNRVOWom8cP2FC8w')\r\nexport class PIXI_Example_3 extends BaseScript {\r\n\r\n\tprivate colors: any[] = [\"#5D0776\", \"#EC8A49\", \"#AF3666\", \"#F6C84C\", \"#4C779A\"];\r\n\tprivate colorCount: number = 0;\r\n\tprivate isDown: boolean = false;\r\n\tprivate path: any[] = [];\r\n\tprivate color: string = this.colors[0];\r\n\tprivate liveGraphics: Graphics;\r\n\tprivate canvasGraphics: Graphics;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createCanvases();\r\n\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\r\n\t}\r\n\r\n\tprivate createCanvases(): void {\r\n\t\tvar graphicsCanvas: Sprite = new Sprite();\r\n\t\tthis.box2D.addChild(graphicsCanvas);\r\n\t\tvar liveGraphicsCanvas: Sprite = new Sprite();\r\n\t\tthis.box2D.addChild(liveGraphicsCanvas);\r\n\r\n\t\tthis.liveGraphics = liveGraphicsCanvas.graphics;\r\n\t\tthis.canvasGraphics = graphicsCanvas.graphics;\r\n\t}\r\n\r\n\tonMouseDown(e: any = null): void {\r\n\t\tthis.isDown = true;\r\n\t\tthis.color = this.colors[this.colorCount++ % this.colors.length];\r\n\t\tthis.path.length = 0;\r\n\t}\r\n\r\n\tonMouseMove(e: any = null): void {\r\n\t\tif (!this.isDown) return;\r\n\r\n\t\tthis.path.push(e.target.mouseX);\r\n\t\tthis.path.push(e.target.mouseY);\r\n\t}\r\n\r\n\tonMouseUp(e: any = null): void {\r\n\t\tthis.isDown = false;\r\n\t\tthis.canvasGraphics.drawPoly(0, 0, this.path.concat(), this.color);\r\n\t}\r\n\r\n\tprivate animate(): void {\r\n\t\tthis.liveGraphics.clear();\r\n\t\tthis.liveGraphics.drawPoly(0, 0, this.path, this.color);\r\n\t}\r\n\r\n    onDestroy(): void {\r\n\r\n\t\tLaya.timer.clear(this, this.animate);\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Point = Laya.Point;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('nBznGw8JT729qhJZytx5xg')\r\nexport class PIXI_Example_4 extends BaseScript {\r\n\r\n    private viewWidth: number = this.pageWidth;\r\n\tprivate viewHeight: number = this.pageHeight;\r\n\tprivate lasers: any[] = [];\r\n\tprivate tick: number = 0;\r\n\tprivate frequency: number = 80;\r\n\tprivate type: number = 0;\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\t}\r\n\r\n\tprivate animate(): void {\r\n\t\tif (this.tick > this.frequency) {\r\n\t\t\tthis.tick = 0;\r\n\t\t\t// iterate through the dudes and update the positions\r\n\t\t\tvar laser: Laser = new Laser();\r\n\t\t\tlaser.loadImage(\"resources/res/pixi/laser0\" + ((this.type % 5) + 1) + \".png\");\r\n\t\t\tthis.type++;\r\n\r\n\t\t\tlaser.life = 0;\r\n\r\n\t\t\tvar pos1: Point;\r\n\t\t\tvar pos2: Point;\r\n\t\t\tif (this.type % 2) {\r\n\t\t\t\tpos1 = new Point(-20, Math.random() * this.viewHeight);\r\n\t\t\t\tpos2 = new Point(this.viewWidth, Math.random() * this.viewHeight + 20);\r\n\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tpos1 = new Point(Math.random() * this.viewWidth, -20);\r\n\t\t\t\tpos2 = new Point(Math.random() * this.viewWidth, this.viewHeight + 20);\r\n\t\t\t}\r\n\r\n\t\t\tvar distX: number = pos1.x - pos2.x;\r\n\t\t\tvar distY: number = pos1.y - pos2.y;\r\n\r\n\t\t\tvar dist: number = Math.sqrt(distX * distX + distY * distY) + 40;\r\n\r\n\t\t\tlaser.scaleX = dist / 20;\r\n\t\t\tlaser.pos(pos1.x, pos1.y);\r\n\t\t\tlaser.pivotY = 43 / 2;\r\n\t\t\tlaser.blendMode = \"lighter\";\r\n\r\n\t\t\tlaser.rotation = (Math.atan2(distY, distX) + Math.PI) * 180 / Math.PI;\r\n\r\n\t\t\tthis.lasers.push(laser);\r\n\r\n\t\t\tthis.box2D.addChild(laser);\r\n\r\n\t\t\tthis.frequency *= 0.9;\r\n\t\t}\r\n\r\n\t\tfor (var i: number = 0; i < this.lasers.length; i++) {\r\n\t\t\tlaser = this.lasers[i];\r\n\t\t\tlaser.life++;\r\n\t\t\tif (laser.life > 60 * 0.3) {\r\n\t\t\t\tlaser.alpha *= 0.9;\r\n\t\t\t\tlaser.scaleY = laser.alpha;\r\n\t\t\t\tif (laser.alpha < 0.01) {\r\n\t\t\t\t\tthis.lasers.splice(i, 1);\r\n\t\t\t\t\tthis.box2D.removeChild(laser);\r\n\t\t\t\t\ti--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// increment the ticker\r\n\t\tthis.tick += 1;\r\n\t}\r\n\r\n    onDestroy(): void {\r\n\r\n\t\tLaya.timer.clear(this, this.animate);\r\n\t}\r\n}\r\n\r\nclass Laser extends Sprite {\r\n\tlife: number;\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Handler = Laya.Handler;\r\nimport SoundManager = Laya.SoundManager;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('QoTSrEWXRfqe3jQjacyuNQ')\r\nexport class Sound_SimpleDemo extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\t\r\n\t\tvar gap: number = 10;\r\n\r\n\t\t//\u521B\u5EFA\u4E00\u4E2ASprite\u5145\u5F53\u97F3\u6548\u64AD\u653E\u6309\u94AE\r\n\t\tvar soundButton: Sprite = this.createButton(\"\u64AD\u653E\u97F3\u6548\");\r\n\t\tsoundButton.x = (this.pageWidth - soundButton.width * 2 + gap) / 2;\r\n\t\tsoundButton.y = (this.pageHeight - soundButton.height) / 2;\r\n\t\tthis.box2D.addChild(soundButton);\r\n\r\n\t\t//\u521B\u5EFA\u4E00\u4E2ASprite\u5145\u5F53\u97F3\u4E50\u64AD\u653E\u6309\u94AE\r\n\t\tvar musicButton: Sprite = this.createButton(\"\u64AD\u653E\u97F3\u4E50\");\r\n\t\tmusicButton.x = soundButton.x + gap + soundButton.width;\r\n\t\tmusicButton.y = soundButton.y;\r\n\t\tthis.box2D.addChild(musicButton);\r\n\r\n\t\tsoundButton.on(Event.CLICK, this, this.onPlaySound);\r\n\t\tmusicButton.on(Event.CLICK, this, this.onPlayMusic);\r\n\t}\r\n\r\n\tprivate createButton(label: string): Sprite {\r\n\t\tvar w: number = 110;\r\n\t\tvar h: number = 40;\r\n\r\n\t\tvar button: Sprite = new Sprite();\r\n\t\tbutton.size(w, h);\r\n\t\tbutton.graphics.drawRect(0, 0, w, h, \"#FF7F50\");\r\n\t\tbutton.graphics.fillText(label, w / 2, 8, \"25px SimHei\", \"#FFFFFF\", \"center\");\r\n\t\tthis.box2D.addChild(button);\r\n\t\treturn button;\r\n\t}\r\n\r\n\tprivate onPlayMusic(e: Event = null): void {\r\n\t\tconsole.log(\"\u64AD\u653E\u97F3\u4E50\");\r\n\t\tSoundManager.playMusic(\"resources/res/sounds/bgm.mp3\", 1, new Handler(this, this.onComplete));\r\n\t}\r\n\r\n\tprivate onPlaySound(e: Event = null): void {\r\n\t\tconsole.log(\"\u64AD\u653E\u97F3\u6548\");\r\n\t\tSoundManager.playSound(\"resources/res/sounds/btn.mp3\", 1, new Handler(this, this.onComplete));\r\n\t}\r\n\r\n\tprivate onComplete(): void {\r\n\t\tconsole.log(\"\u64AD\u653E\u5B8C\u6210\");\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tSoundManager.stopAllSound();\r\n\t\tSoundManager.stopMusic();\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Handler = Laya.Handler;\r\nimport Rectangle = Laya.Rectangle;\r\nimport TiledMap = Laya.TiledMap;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ZHCDBaLRQ4qv2Sz7XyA3DA')\r\nexport class TiledMap_AnimationTile extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    private tiledMap: TiledMap;\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createMap();\r\n\t}\r\n\r\n\tprivate createMap(): void {\r\n\t\tthis.tiledMap = new TiledMap();\r\n\t\tthis.tiledMap.createMap(\"resources/res/tiledMap/orthogonal-test-movelayer.json\", new Rectangle(0, 0, this.pageWidth, this.pageHeight), Handler.create(this, this.onLoaded));\r\n\r\n\t}\r\n\r\n\tprivate onLoaded(): void {\r\n\t\tthis.tiledMap.mapSprite().removeSelf();\r\n        let map = this.tiledMap.mapSprite();\r\n\t\tthis.box2D.addChild(map);\r\n\t}\r\n\r\n\tdispose(): void {\r\n\t\tif (this.tiledMap) {\r\n\t\t\tthis.tiledMap.mapSprite().removeChildren();\r\n\t\t\tthis.tiledMap.destroy();\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Rectangle = Laya.Rectangle;\r\nimport Point = Laya.Point;\r\nimport Handler = Laya.Handler;\r\nimport MapLayer = Laya.MapLayer;\r\nimport TiledMap = Laya.TiledMap;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('NtqJe9SxQwueRg1GQOYHGg')\r\nexport class TiledMap_IsometricWorld extends BaseScript {\r\n\r\n\tprivate tiledMap: TiledMap;\r\n\tprivate layer: MapLayer;\r\n\tprivate sprite: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createMap();\r\n\r\n\t\tthis.box2D.on(\"click\", this, this.onStageClick);\r\n\t}\r\n\r\n\tprivate createMap(): void {\r\n\t\tthis.tiledMap = new TiledMap();\r\n\t\tthis.tiledMap.createMap(\"resources/res/tiledMap/isometric_grass_and_water.json\", new Rectangle(0, 0, Index.pageWidth, Index.pageHeight), Handler.create(this, this.mapLoaded), null, new Point(1600, 800));\r\n\t}\r\n\r\n\tprivate onStageClick(e: any = null): void {\r\n\t\tvar p: Point = new Point(0, 0);\r\n\t\tif (this.layer) {\r\n\t\t\tthis.layer.getTilePositionByScreenPos(e.target.mouseX, e.target.mouseY, p);\r\n\t\t\tthis.layer.getScreenPositionByTilePos(Math.floor(p.x), Math.floor(p.y), p);\r\n\t\t\tthis.sprite.pos(p.x, p.y);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate mapLoaded(e: any = null): void {\r\n\t\tthis.layer = this.tiledMap.getLayerByIndex(0);\r\n\r\n\t\tvar radiusX: number = 32;\r\n\t\tvar radiusY: number = Math.tan(180 / Math.PI * 30) * radiusX;\r\n\t\tvar color: string = \"#FF7F50\";\r\n\r\n\t\tthis.sprite = new Sprite();\r\n\t\tthis.sprite.graphics.drawLine(0, 0, -radiusX, radiusY, color);\r\n\t\tthis.sprite.graphics.drawLine(0, 0, radiusX, radiusY, color);\r\n\t\tthis.sprite.graphics.drawLine(-radiusX, radiusY, 0, radiusY * 2, color);\r\n\t\tthis.sprite.graphics.drawLine(radiusX, radiusY, 0, radiusY * 2, color);\r\n\t\tthis.box2D.addChild(this.sprite);\r\n\t\tthis.sprite.zOrder = 99999;\r\n\t\tthis.tiledMap.mapSprite().removeSelf();\r\n        let map = this.tiledMap.mapSprite();\r\n        map.x -= (1600-this.pageWidth)/2;\r\n\t\tthis.box2D.addChild(map);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tthis.box2D.off(\"click\", this, this.onStageClick);\r\n\t\tif (this.tiledMap) {\r\n\t\t\tthis.tiledMap.mapSprite().removeChildren();\r\n\t\t\tthis.tiledMap.destroy();\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Rectangle = Laya.Rectangle;\r\nimport Handler = Laya.Handler;\r\nimport TiledMap = Laya.TiledMap;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('oyTXtZrbSzSRcBOetvb1Bg')\r\nexport class TiledMap_PerspectiveWall extends BaseScript {\r\n\r\n\tprivate tiledMap: TiledMap;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createMap();\r\n\t}\r\n\r\n\tprivate createMap(): void {\r\n\t\tthis.tiledMap = new TiledMap();\r\n\t\tthis.tiledMap.createMap(\"resources/res/tiledMap/perspective_walls.json\", new Rectangle(0, 0, this.pageWidth, this.pageHeight), Handler.create(this, this.onLoaded));\r\n\t}\r\n\r\n\tprivate onLoaded(): void {\r\n\t\tthis.tiledMap.mapSprite().removeSelf();\r\n\t\tthis.box2D.addChild(this.tiledMap.mapSprite());\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.tiledMap) {\r\n\t\t\tthis.tiledMap.mapSprite().removeChildren();\r\n\t\t\tthis.tiledMap.destroy();\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Rectangle = Laya.Rectangle;\r\nimport Handler = Laya.Handler;\r\nimport TiledMap = Laya.TiledMap;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('BekL8oCUQE6S708TsR9iuA')\r\nexport class TiledMap_SimpleDemo extends BaseScript {\r\n\r\n    private tiledMap: TiledMap;\r\n\tprivate mLastMouseX: number = 0;\r\n\tprivate mLastMouseY: number = 0;\r\n\r\n\tprivate mX: number = 0;\r\n\tprivate mY: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\t\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createMap();\r\n\r\n\t\tthis.box2D.on(Event.MOUSE_DOWN, this, this.mouseDown);\r\n\t\tthis.box2D.on(Event.MOUSE_UP, this, this.mouseUp);\r\n\t}\r\n\r\n\t//\u521B\u5EFA\u5730\u56FE\r\n\tprivate createMap(): void {\r\n\t\t//\u521B\u5EFA\u5730\u56FE\u5BF9\u8C61\r\n\t\tthis.tiledMap = new TiledMap();\r\n\r\n\t\tthis.mX = this.mY = 0;\r\n\t\t//\u521B\u5EFA\u5730\u56FE\uFF0C\u9002\u5F53\u7684\u65F6\u5019\u8C03\u7528destroy\u9500\u6BC1\u5730\u56FE\r\n\t\tthis.tiledMap.createMap(\"resources/res/tiledMap/desert.json\", new Rectangle(0, 0, this.pageWidth, this.pageHeight), new Handler(this, this.completeHandler));\r\n\t}\r\n\r\n\tprivate onLoaded(): void {\r\n\t\tthis.tiledMap.mapSprite().removeSelf();\r\n\t\tthis.box2D.addChild(this.tiledMap.mapSprite());\r\n\t}\r\n\r\n\t/**\r\n\t * \u5730\u56FE\u52A0\u8F7D\u5B8C\u6210\u7684\u56DE\u8C03\r\n\t */\r\n\tprivate completeHandler(e: any = null): void {\r\n\t\tthis.box2D.on(Event.RESIZE, this, this.resize);\r\n\t\tthis.resize();\r\n\t\tthis.onLoaded();\r\n\t}\r\n\r\n\t//\u9F20\u6807\u6309\u4E0B\u62D6\u52A8\u5730\u56FE\r\n\tprivate mouseDown(e: any = null): void {\r\n\t\tthis.mLastMouseX = e.target.mouseX;\r\n\t\tthis.mLastMouseY = e.target.mouseY;\r\n\t\tthis.box2D.on(Event.MOUSE_MOVE, this, this.mouseMove);\r\n\t}\r\n\r\n\tprivate mouseMove(e: any = null): void {\r\n\t\t//\u79FB\u52A8\u5730\u56FE\u89C6\u53E3\r\n\t\tthis.tiledMap.moveViewPort(this.mX - (e.target.mouseX - this.mLastMouseX), this.mY - (e.target.mouseY - this.mLastMouseY));\r\n\t}\r\n\r\n\tprivate mouseUp(e: any = null): void {\r\n\t\tthis.mX = this.mX - (e.target.mouseX - this.mLastMouseX);\r\n\t\tthis.mY = this.mY - (e.target.mouseY - this.mLastMouseY);\r\n\t\tthis.box2D.off(Event.MOUSE_MOVE, this, this.mouseMove);\r\n\t}\r\n\r\n\t// \u7A97\u53E3\u5927\u5C0F\u6539\u53D8\uFF0C\u628A\u5730\u56FE\u7684\u89C6\u53E3\u533A\u57DF\u91CD\u8BBE\u4E0B\r\n\tprivate resize(e: any = null): void {\r\n\t\t//\u6539\u53D8\u5730\u56FE\u89C6\u53E3\u5927\u5C0F\r\n\t\tthis.tiledMap.changeViewPort(this.mX, this.mY, this.pageWidth, this.pageHeight);\r\n\t}\r\n\r\n\tdispose(): void {\r\n\t\tthis.box2D.off(Event.MOUSE_DOWN, this, this.mouseDown);\r\n\t\tthis.box2D.off(Event.MOUSE_UP, this, this.mouseUp);\r\n\t\tthis.box2D.off(Event.RESIZE, this, this.resize);\r\n\t\tthis.box2D.off(Event.MOUSE_MOVE, this, this.mouseMove);\r\n\t\tif (this.tiledMap) {\r\n\t\t\tthis.tiledMap.destroy();\r\n\t\t}\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Skeleton = Laya.Skeleton;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('WeTg5SfoSn-mdUSSxUw1iQ')\r\nexport class Skeleton_ChangeSkin extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\tprivate mStartX: number = 400;\r\n\tprivate mStartY: number = 400;\r\n\tprivate mCurrIndex: number = 0;\r\n\tprivate mArmature: Skeleton;\r\n\tprivate mCurrSkinIndex: number = 0;\r\n\tprivate mSkinList: any[] = [\"goblin\", \"goblingirl\"];\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(\"resources/res/spine/spineRes2/goblins.sk\").then((templet: Templet) => {\r\n\t\t\t//\u521B\u5EFA\u6A21\u5F0F\u4E3A1\uFF0C\u53EF\u4EE5\u542F\u7528\u6362\u88C5\r\n\t\t\tthis.mArmature = templet.buildArmature(1);\r\n\t\t\tthis.mArmature.x = this.mStartX;\r\n\t\t\tthis.mArmature.y = this.mStartY;\r\n\t\t\tthis.mArmature.scale(0.8, 0.8);\r\n\t\t\tthis.owner.addChild(this.mArmature);\r\n\t\t\tthis.mArmature.on(Event.STOPPED, this, this.completeHandler);\r\n\t\t\tthis.play();\r\n\t\t\tthis.changeSkin();\r\n\t\t\tLaya.timer.loop(1000, this, this.changeSkin);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate changeSkin(): void {\r\n\t\tthis.mCurrSkinIndex++;\r\n\t\tif (this.mCurrSkinIndex >= this.mSkinList.length) {\r\n\t\t\tthis.mCurrSkinIndex = 0;\r\n\t\t}\r\n\t\tthis.mArmature.showSkinByName(this.mSkinList[this.mCurrSkinIndex]);\r\n\t}\r\n\r\n\tprivate completeHandler(): void {\r\n\t\tthis.play();\r\n\t}\r\n\r\n\tprivate play(): void {\r\n\t\tthis.mCurrIndex++;\r\n\t\tif (this.mCurrIndex >= this.mArmature.getAnimNum()) {\r\n\t\t\tthis.mCurrIndex = 0;\r\n\t\t}\r\n\t\tthis.mArmature.play(this.mCurrIndex, false);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.mArmature == null)\r\n\t\t\treturn;\r\n\t\tthis.mArmature.stop();\r\n\t\tLaya.timer.clear(this, this.changeSkin);\r\n\t\tthis.mArmature.off(Event.STOPPED, this, this.completeHandler);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Skeleton = Laya.Skeleton;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('1UinKkq_SqKbfkmdZ7blxQ')\r\nexport class Skeleton_MultiTexture extends BaseScript {\r\n\r\n\tprivate mStartX: number = 300;\r\n\tprivate mStartY: number = 350;\r\n\tprivate mCurrIndex: number = 0;\r\n\tprivate mArmature: Skeleton;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(\"resources/res/spine/spineRes1/dragon.sk\").then((templet: Templet) => {\r\n\t\t\t//\u521B\u5EFA\u6A21\u5F0F\u4E3A1\uFF0C\u53EF\u4EE5\u542F\u7528\u6362\u88C5\r\n\t\t\tthis.mArmature = templet.buildArmature(0);\r\n\t\t\tthis.mArmature.x = this.mStartX;\r\n\t\t\tthis.mArmature.y = this.mStartY;\r\n\t\t\tthis.mArmature.scale(0.5, 0.5);\r\n\t\t\tthis.owner.addChild(this.mArmature);\r\n\t\t\tthis.mArmature.on(Event.STOPPED, this, this.completeHandler);\r\n\t\t\tthis.play();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate completeHandler(): void {\r\n\t\tthis.play();\r\n\t}\r\n\r\n\tprivate play(): void {\r\n\t\tthis.mCurrIndex++;\r\n\t\tif (this.mCurrIndex >= this.mArmature.getAnimNum()) {\r\n\t\t\tthis.mCurrIndex = 0;\r\n\t\t}\r\n\t\tthis.mArmature.play(this.mCurrIndex, false);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.mArmature == null)\r\n\t\t\treturn;\r\n\t\tthis.mArmature.stop();\r\n\t\tthis.mArmature.off(Event.STOPPED, this, this.completeHandler);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport SpineTemplet = Laya.SpineTemplet;\r\nimport Loader = Laya.Loader;\r\nimport SpineSkeleton = Laya.SpineSkeleton;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('UDObL6LRRyeTdm6QCKpaSQ')\r\nexport class Skeleton_SpineAdapted extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    private skeleton: SpineSkeleton;\r\n    private index: number = -1;\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        Laya.loader.load(\"resources/res/spine/spineboy-pro.skel\", Loader.SPINE).then((templet: SpineTemplet) => {\r\n            this.skeleton = new SpineSkeleton();\r\n            this.skeleton.templet = templet;\r\n            this.owner.addChild(this.skeleton);\r\n            this.skeleton.pos( this.pageWidth / 2 -200, this.pageHeight / 2 - 20);\r\n            this.skeleton.scale(0.3, 0.3);\r\n            this.skeleton.on(Event.STOPPED, this, this.play);\r\n            this.play();\r\n        });\r\n    }\r\n\r\n    private play(): void {\r\n        if (++this.index >= this.skeleton.getAnimNum()) {\r\n            this.index = 0\r\n        }\r\n        this.skeleton.play(this.index, false, true)\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Skeleton = Laya.Skeleton;\r\nimport Handler = Laya.Handler;\r\nimport Tween = Laya.Tween;\r\nimport EventData = Laya.EventData;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('4h4wqJWtTya0o1RvgJ52Ow')\r\nexport class Skeleton_SpineEvent extends BaseScript {\r\n\r\n    private mStartX:number = 400;\r\n    private mStartY:number = 400;\r\n\tprivate mCurrIndex: number = 0;\r\n\tprivate mArmature: Skeleton;\r\n\r\n\tprivate mLabelSprite: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.mLabelSprite = new Sprite();\r\n\r\n\t\tLaya.loader.load(\"resources/res/spine/spineRes6/alien.sk\").then((templet: Templet) => {\r\n\t\t\t//\u521B\u5EFA\u6A21\u5F0F\u4E3A1\uFF0C\u53EF\u4EE5\u542F\u7528\u6362\u88C5\r\n\t\t\tthis.mArmature = templet.buildArmature(1);\r\n\t\t\tthis.mArmature.x = this.mStartX;\r\n\t\t\tthis.mArmature.y = this.mStartY;\r\n\t\t\tthis.mArmature.scale(0.5, 0.5);\r\n\t\t\tthis.owner.addChild(this.mArmature);\r\n\t\t\tthis.mArmature.on(Event.LABEL, this, this.onEvent);\r\n\t\t\tthis.mArmature.on(Event.STOPPED, this, this.completeHandler);\r\n\t\t\tthis.play();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate completeHandler(): void {\r\n\t\tthis.play();\r\n\t}\r\n\r\n\tprivate play(): void {\r\n\t\tthis.mCurrIndex++;\r\n\t\tif (this.mCurrIndex >= this.mArmature.getAnimNum()) {\r\n\t\t\tthis.mCurrIndex = 0;\r\n\t\t}\r\n\t\tthis.mArmature.play(this.mCurrIndex, false);\r\n\r\n\t}\r\n\r\n\tprivate onEvent(e: any): void {\r\n\t\tvar tEventData: EventData = (<EventData>e);\r\n\r\n\t\tthis.owner.addChild(this.mLabelSprite);\r\n\t\tthis.mLabelSprite.x = this.mStartX;\r\n\t\tthis.mLabelSprite.y = this.mStartY;\r\n\t\tthis.mLabelSprite.graphics.clear();\r\n\t\tthis.mLabelSprite.graphics.fillText(tEventData.name, 0, 0, \"20px Arial\", \"#ff0000\", \"center\");\r\n\t\tTween.to(this.mLabelSprite, { \"y\": this.mStartY - 200 }, 1000, null, Handler.create(this, this.playEnd))\r\n\t}\r\n\r\n\tprivate playEnd(): void {\r\n\t\tthis.mLabelSprite.removeSelf();\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.mArmature == null)\r\n\t\t\treturn;\r\n\t\tTween.clearAll(this.mLabelSprite);\r\n\t\tthis.mArmature.stop();\r\n\t\tthis.mArmature.off(Event.STOPPED, this, this.completeHandler);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Skeleton = Laya.Skeleton;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('lCi_BdX1TlilYpDgHbWvgA')\r\nexport class Skeleton_SpineStretchyman extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\tprivate mStartX: number = 200;\r\n\tprivate mStartY: number = 400;\r\n\tprivate mCurrIndex: number = 0;\r\n\tprivate mArmature: Skeleton;\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(\"resources/res/spine/spineRes4/stretchyman.sk\").then((templet: Templet) => {\r\n\t\t\t//\u521B\u5EFA\u6A21\u5F0F\u4E3A1\uFF0C\u53EF\u4EE5\u542F\u7528\u6362\u88C5\r\n\t\t\tthis.mArmature = templet.buildArmature(1);\r\n\t\t\tthis.mArmature.x = this.mStartX;\r\n\t\t\tthis.mArmature.y = this.mStartY;\r\n\t\t\tthis.mArmature.scale(0.5, 0.5);\r\n\t\t\tthis.owner.addChild(this.mArmature);\r\n\t\t\tthis.mArmature.on(Event.STOPPED, this, this.completeHandler);\r\n\t\t\tthis.play();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate completeHandler(): void {\r\n\t\tthis.play();\r\n\t}\r\n\r\n\tprivate play(): void {\r\n\t\tthis.mCurrIndex++;\r\n\t\tif (this.mCurrIndex >= this.mArmature.getAnimNum()) {\r\n\t\t\tthis.mCurrIndex = 0;\r\n\t\t}\r\n\t\tthis.mArmature.play(this.mCurrIndex, false);\r\n\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.mArmature == null)\r\n\t\t\treturn;\r\n\t\tthis.mArmature.stop();\r\n\t\tthis.mArmature.off(Event.STOPPED, this, this.completeHandler);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Skeleton = Laya.Skeleton;\r\n\r\n@regClass('WNFXVxlJSeSIYw4m5SRMRA')\r\nexport class Skeleton_SpineVine extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    private mStartX: number = 400;\r\n\tprivate mStartY: number = 500;\r\n\tprivate mCurrIndex: number = 0;\r\n\tprivate mArmature: Skeleton;\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tLaya.loader.load(\"resources/res/spine/spineRes5/vine.sk\").then((templet: Templet) => {\r\n\t\t\t//\u521B\u5EFA\u6A21\u5F0F\u4E3A1\uFF0C\u53EF\u4EE5\u542F\u7528\u6362\u88C5\r\n\t\t\tthis.mArmature = templet.buildArmature(1);\r\n\t\t\tthis.mArmature.x = this.mStartX;\r\n\t\t\tthis.mArmature.y = this.mStartY;\r\n\t\t\tthis.mArmature.scale(0.5, 0.5);\r\n\t\t\tthis.owner.addChild(this.mArmature);\r\n\t\t\tthis.mArmature.on(Event.STOPPED, this, this.completeHandler);\r\n\t\t\tthis.play();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate completeHandler(): void {\r\n\t\tthis.play();\r\n\t}\r\n\r\n\tprivate play(): void {\r\n\t\tthis.mCurrIndex++;\r\n\t\tif (this.mCurrIndex >= this.mArmature.getAnimNum()) {\r\n\t\t\tthis.mCurrIndex = 0;\r\n\t\t}\r\n\t\tthis.mArmature.play(this.mCurrIndex, false);\r\n\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.mArmature == null)\r\n\t\t\treturn;\r\n\t\tthis.mArmature.stop();\r\n\t\tthis.mArmature.off(Event.STOPPED, this, this.completeHandler);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Byte = Laya.Byte;\r\nimport Texture = Laya.Texture;\r\nimport Texture2D = Laya.Texture2D;\r\nimport TextureFormat = Laya.TextureFormat;\r\n\r\n@regClass('aDBSHL83Rzu7dZ6DmbvKqw')\r\nexport class Sprite_BinaryImage extends BaseScript {\r\n\r\n\tprivate sp1:Sprite = new Sprite();\r\n\tprivate sp2:Sprite = new Sprite();\r\n\tprivate sp3:Sprite = new Sprite();\r\n\tprivate imgBlob:Blob;\r\n\tprivate imageArrayBuffer:ArrayBuffer;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\t\t\r\n\r\n\t\t//test.bin\u4E3A\u4E8C\u8FDB\u5236\u56FE\u7247\uFF0C\u56FE\u7247\u52A0\u5BC6\u6570\u636E\u662F\u5728\u56FE\u7247\u7684\u524D\u9762\u5199\u5165\u4E86\u56DB\u4E2A\u5B57\u8282\u7684\u6570\u636E\r\n        Laya.loader.fetch(\"resources/res/test.bin\",\"arraybuffer\").then((res)=>{\r\n\r\n\t\t\t//\u83B7\u5F97res\u7684ArrayBuffer\u6570\u636E\r\n            let arraybuffer: ArrayBuffer = res;\r\n\t\t\t//Byte\u6570\u7EC4\u63A5\u6536arraybuffer\r\n            let byte:Byte = new Byte(arraybuffer);\r\n\t\t\t//\u4ECE\u7B2C\u56DB\u4E2A\u5B57\u8282\u5F00\u59CB\u8BFB\u53D6\u6570\u636E\r\n            byte.writeArrayBuffer(arraybuffer,4);\r\n\t\t\t//\u83B7\u5F97\u6700\u7EC8\u7684ArrayBuffer\r\n\t\t\tthis.imageArrayBuffer = byte.buffer;\r\n\t\t\t//\u5B9E\u4F8B\u5316\u4E00\u4E2ABlob\u5BF9\u8C61blob\uFF0C\u7528\u6765\u521B\u5EFA\u4E00\u4E2Aimg\u6807\u7B7E\r\n            this.imgBlob = new Blob([this.imageArrayBuffer], { type: \"image/png\" });\r\n            this.showApe1();      \r\n\t\t\t\r\n        });\t\t\r\n        \r\n\t\tsuper.addBottomButton( [\"\u5207\u6362\u65B9\u5F0F\",\"\u5207\u6362\u65B9\u5F0F\",\"\u5207\u6362\u65B9\u5F0F\"] , this, [this.showApe2, this.showApe3,this.showApe1] );\r\n    }\r\n\r\n    showApe1() {\r\n\r\n\t\tlet reader = new FileReader();\r\n\r\n\t\t//\u8F6C\u6362\u4E3ABase64\u56FE\u7247\u683C\u5F0F\r\n\t\treader.readAsDataURL(this.imgBlob);\r\n\t\treader.onload = (e)=> {     \r\n\r\n\t\t\t//\u52A0\u8F7DBase64\u56FE\u7247\u6570\u636E\r\n\t\t\tthis.sp1.loadImage(e.target.result as string);     \r\n\t\t\tthis.sp1.x = 10;    \r\n\t\t\tthis.owner.addChild(this.sp1);\r\n\t\t\t\r\n\t\t\tthis.sp2.removeSelf();\r\n\t\t\tthis.sp3.removeSelf();\r\n\t\t}\t\t\r\n\t}\r\n\r\n    showApe2() {\r\n\r\n\t\t//\u521B\u5EFA\u4E00\u4E2Aurl\u5BF9\u8C61\uFF1B\r\n\t\tvar url:string = Laya.Browser.window.URL.createObjectURL(this.imgBlob);\r\n\t\tconsole.log(url);\r\n\t\t//\u52A0\u8F7DURL\u83B7\u5F97HTMLImageElement\r\n        Laya.loader.fetch(url,\"image\" ).then((res)=>{\r\n\r\n\t\t\t//\u521B\u5EFATexture2D\r\n\t\t\tvar t2d: Texture2D = new Texture2D(res.width, res.height, TextureFormat.R8G8B8A8, false, false, true);\r\n\t\t\tt2d.setImageData(res, true, false);\r\n\r\n\t\t\t//\u521B\u5EFATexture\r\n\t\t\tvar texture: Texture = new Texture(t2d);\r\n\r\n\t\t\t//\u4F7F\u7528Sprite\u5BF9\u8C61\u7684\u7ED8\u5236\u7EB9\u7406\u65B9\u5F0F\r\n\t\t\tthis.sp2.graphics.drawTexture(texture, 150, 0);\r\n\t\t\tthis.owner.addChild(this.sp2);\r\n\t\t\t\r\n\t\t\tthis.sp1.removeSelf();\r\n\t\t\tthis.sp3.removeSelf();\r\n\t\t});\r\n\t}\t\r\n\r\n    showApe3() {\r\n\r\n\t\t//\u521B\u5EFAOption\r\n\t\tlet option:any = {};\r\n\t\toption.blob = this.imgBlob;\r\n\t\t//\u901A\u8FC7\u4F20\u9012blob\u5BF9\u8C61\u83B7\u5F97HTMLImageElement\r\n        Laya.loader.fetch(\"\" ,\"image\", null, option).then((res)=>{\r\n\r\n\t\t\t//\u521B\u5EFATexture2D\r\n\t\t\tvar t2d: Texture2D = new Texture2D(res.width, res.height, TextureFormat.R8G8B8A8, false, false, true);\r\n\t\t\tt2d.setImageData(res, true, false);\r\n\r\n\t\t\t//\u521B\u5EFATexture\r\n\t\t\tvar texture: Texture = new Texture(t2d);\r\n\r\n\t\t\t//\u4F7F\u7528Sprite\u5BF9\u8C61\u7684\u7ED8\u5236\u7EB9\u7406\u65B9\u5F0F\r\n\t\t\tthis.sp3.graphics.drawTexture(texture, 290, 0);\r\n\t\t\tthis.owner.addChild(this.sp3);\r\n\t\t\t\r\n\t\t\tthis.sp1.removeSelf();\r\n\t\t\tthis.sp2.removeSelf();\r\n\t\t});\r\n\t}\t\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('scJ9tr7zTkuSIkKDrNmNUA')\r\nexport class Sprite_Cache extends BaseScript {\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n\t\tthis.cacheText();\r\n\t}\r\n\r\n\tcacheText() {\r\n\t\t\r\n\t\tlet textBox = new Sprite();\r\n\t\tthis.owner.addChild(textBox);\r\n\t\t// \u968F\u673A\u6446\u653E\u6587\u672C\r\n\t\tlet text;\r\n\t\tfor (let i = 0; i < 1000; i++) {\r\n\t\t\ttext = new Text();\r\n\t\t\ttextBox.addChild(text);\r\n\t\t\ttext.fontSize = 20;\r\n\t\t\ttext.text = (Math.random() * 100).toFixed(0);\r\n\t\t\ttext.rotation = Math.random() * 360;\r\n\t\t\ttext.color = \"#ccc\";\r\n\r\n\t\t\ttext.x = Math.random() * this.pageWidth;\r\n\t\t\ttext.y = Math.random() * this.pageHeight;\r\n\t\t}\r\n\t\t\r\n\t\t//\u7F13\u5B58\u4E3A\u9759\u6001\u56FE\u50CF\r\n\t\ttextBox.cacheAs = \"bitmap\";\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('KBIVfFphTZ6JnJbHxBRg-w')\r\nexport class Sprite_Container extends BaseScript {\r\n\r\n    // \u8BE5\u5BB9\u5668\u7528\u4E8E\u88C5\u8F7D4\u5F20\u7329\u7329\u56FE\u7247\r\n    private apesCtn: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        this.createApes();\r\n\r\n    }\r\n\r\n    private createApes(): void {\r\n        // \u6BCF\u53EA\u7329\u7329\u8DDD\u79BB\u4E2D\u5FC3\u70B9150\u50CF\u7D20\r\n        var layoutRadius: number = 150;\r\n        var radianUnit: number = Math.PI / 2;\r\n\r\n        this.apesCtn = new Sprite();\r\n        this.owner.addChild(this.apesCtn);\r\n\r\n        // \u6DFB\u52A04\u5F20\u7329\u7329\u56FE\u7247\r\n        for (var i: number = 0; i < 4; i++) {\r\n            var ape: Sprite = new Sprite();\r\n            ape.loadImage(\"resources/res/apes/monkey\" + i + \".png\");\r\n\r\n            ape.pivot(55, 72);\r\n\r\n            // \u4EE5\u5706\u5468\u6392\u5217\u7329\u7329\r\n            ape.pos(\r\n                Math.cos(radianUnit * i) * layoutRadius,\r\n                Math.sin(radianUnit * i) * layoutRadius);\r\n\r\n            this.apesCtn.addChild(ape);\r\n        }\r\n\r\n        this.apesCtn.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n\r\n        Laya.timer.frameLoop(1, this, this.animate);\r\n    }\r\n\r\n    private animate(e: Event): void {\r\n        this.apesCtn.rotation += 1;\r\n    }\r\n\r\n    onDestroy(): void {\r\n        Laya.timer.clear(this, this.animate);\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('YiqIp2Z-RueEPRZsfQYBiw')\r\nexport class Sprite_DisplayImage extends BaseScript {\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        this.showApe();\r\n    }\r\n\r\n    showApe() {\r\n\r\n\t\tconst\r\n\t\t\tmonkey1Path = \"resources/res/apes/monkey1.png\",\r\n\t\t\tmonkey2Path = \"resources/res/apes/monkey2.png\";\r\n\r\n\t\t// \u65B9\u6CD51\uFF1A\u4F7F\u7528loadImage\r\n\t\tlet ape = new Laya.Sprite();\r\n\t\tthis.owner.addChild(ape);\r\n\t\tape.loadImage(monkey1Path);\r\n\r\n\t\t// \u65B9\u6CD52\uFF1A\u4F7F\u7528drawTexture\r\n\t\tLaya.loader.load(monkey2Path).then(()=> {\r\n\t\t\tlet monkey2 = Laya.loader.getRes(monkey2Path);\r\n\t\t\tlet ape2 = new Laya.Sprite();\r\n\t\t\tthis.owner.addChild(ape2);\r\n\t\t\tape2.graphics.drawTexture(monkey2, 100, 0);\r\n\t\t});\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('keDxFki6RQqIYMZr9xQiHA')\r\nexport class Sprite_DrawPath extends BaseScript {\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        this.drawPentagram();\r\n    }\r\n\r\n    private drawPentagram(): void {\r\n\r\n        var canvas: Sprite = new Sprite();\r\n        this.owner.addChild(canvas);\r\n\r\n        var path: Array<number> = [];\r\n        path.push(0, -130);\r\n        path.push(33, -33);\r\n        path.push(137, -30);\r\n        path.push(55, 32);\r\n        path.push(85, 130);\r\n        path.push(0, 73);\r\n        path.push(-85, 130);\r\n        path.push(-55, 32);\r\n        path.push(-137, -30);\r\n        path.push(-33, -33);\r\n\r\n        canvas.graphics.drawPoly(this.pageWidth / 2, this.pageHeight / 2, path, \"#FF7F50\");\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('izRjiCcvRU-_aAoQh6fyzw')\r\nexport class Sprite_DrawShapes extends BaseScript {\r\n\r\n    private sp: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        this.drawSomething();\r\n    }\r\n\r\n    private drawSomething(): void {\r\n\r\n        this.sp = new Sprite();\r\n        this.owner.addChild(this.sp);\r\n        //\u753B\u7EBF\r\n        this.sp.graphics.drawLine(10, 58, 146, 58, \"#ff0000\", 3);\r\n        //\u753B\u8FDE\u7EED\u76F4\u7EBF\r\n        this.sp.graphics.drawLines(176, 58, [0, 0, 39, -50, 78, 0, 117, 50, 156, 0], \"#ff0000\", 5);\r\n        //\u753B\u66F2\u7EBF\r\n        this.sp.graphics.drawCurves(352, 58, [0, 0, 19, -100, 39, 0, 58, 100, 78, 0, 97, -100, 117, 0, 136, 100, 156, 0], \"#ff0000\", 5);\r\n        //\u753B\u77E9\u5F62\r\n        this.sp.graphics.drawRect(10, 166, 166, 90, \"#ffff00\");\r\n        //\u753B\u591A\u8FB9\u5F62\r\n        this.sp.graphics.drawPoly(264, 166, [0, 0, 60, 0, 78.48, 57, 30, 93.48, -18.48, 57], \"#ffff00\");\r\n        //\u753B\u4E09\u89D2\u5F62\r\n        this.sp.graphics.drawPoly(400, 166, [0, 100, 50, 0, 100, 100], \"#ffff00\");\r\n        //\u753B\u5706\r\n        this.sp.graphics.drawCircle(98, 332, 50, \"#00ffff\");\r\n        //\u753B\u6247\u5F62\r\n        this.sp.graphics.drawPie(240, 290, 100, 10, 60, \"#00ffff\");\r\n        //\u7ED8\u5236\u5706\u89D2\u77E9\u5F62\uFF0C\u81EA\u5B9A\u4E49\u8DEF\u5F84\r\n        this.sp.graphics.drawPath(400, 310, [[\"moveTo\", 5, 0], [\"lineTo\", 105, 0], [\"arcTo\", 110, 0, 110, 5, 5], [\"lineTo\", 110, 55], [\"arcTo\", 110, 60, 105, 60, 5], [\"lineTo\", 5, 60], [\"arcTo\", 0, 60, 0, 55, 5], [\"lineTo\", 0, 5], [\"arcTo\", 0, 0, 5, 0, 5], [\"closePath\"]], {fillStyle: \"#00ffff\"});\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Sprite = Laya.Sprite;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('TDGgstoSRkyCG_o-JSHJ7A')\r\nexport class Sprite_Guide extends BaseScript {\r\n\r\n    private guideSteps:any[] = \r\n\t[\r\n\t\t{ x: 151, y: 575, radius:150, tip:\"resources/res/guide/help6.png\", tipx:200, tipy:250 },\r\n\t\t{ x: 883, y: 620, radius:100, tip:\"resources/res/guide/help4.png\", tipx:730, tipy:380 },\r\n\t\t{ x: 1128, y: 583, radius:110, tip:\"resources/res/guide/help3.png\", tipx:900, tipy:300 }\r\n\t];\r\n\tprivate gameContainer: Sprite;\r\n\tprivate guideContainer: Sprite;\r\n\tprivate maskArea: Sprite;\r\n\tprivate interactionArea: Sprite;\r\n\tprivate hitArea: Laya.HitArea;\r\n\tprivate tipContainer: Sprite;\r\n\tprivate guideStep = 0;\r\n    private scaleX = Index.pageWidth/1285;\r\n    private scaleY = Index.pageHeight/727;\r\n    private box: Laya.Box = new Laya.Box();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n\t\tthis.createPage();\r\n        if( Index.curPage )\r\n            this.box.scale( this.scaleX, this.scaleY );\r\n\t}\r\n\r\n\tcreatePage() {\r\n\t\tthis.owner.addChild(this.box);\r\n\r\n\t\t// \u7ED8\u5236\u5E95\u56FE\r\n\t\tthis.gameContainer = new Sprite();\r\n\t\tthis.box.addChild(this.gameContainer);\r\n\t\tthis.gameContainer.loadImage(\"resources/res/guide/crazy_snowball.png\");\r\n\t\tthis.gameContainer.on(Laya.Event.CLICK, this, this.nextStep);\r\n\r\n\t\t// \u5F15\u5BFC\u6240\u5728\u5BB9\u5668\r\n\t\tthis.guideContainer = new Sprite();\r\n\t\tthis.box.addChild(this.guideContainer);\r\n\t\tthis.guideContainer.cacheAs = \"bitmap\";\r\n\r\n\t\t// \u7ED8\u5236\u906E\u7F69\u533A\uFF0C\u542B\u900F\u660E\u5EA6\uFF0C\u53EF\u89C1\u6E38\u620F\u80CC\u666F\r\n\t\tthis.maskArea = new Sprite();\r\n\t\tthis.guideContainer.addChild(this.maskArea);\r\n\t\tthis.maskArea.alpha = 0.5;\r\n\t\tthis.maskArea.graphics.drawRect(0, 0, 1285, 727, \"#000\");\r\n\r\n\t\t// \u7ED8\u5236\u4E00\u4E2A\u5706\u5F62\u533A\u57DF\uFF0C\u5229\u7528\u53E0\u52A0\u6A21\u5F0F\uFF0C\u4ECE\u906E\u7F69\u533A\u57DF\u62A0\u51FA\u53EF\u4EA4\u4E92\u533A\r\n\t\tthis.interactionArea = new Sprite();\r\n\t\tthis.guideContainer.addChild(this.interactionArea);\r\n\t\t// \u8BBE\u7F6E\u53E0\u52A0\u6A21\u5F0F\r\n\t\tthis.interactionArea.blendMode = \"destination-out\";\r\n\r\n\t\t// \u8BBE\u7F6E\u70B9\u51FB\u533A\u57DF\r\n\t\tthis.hitArea = new Laya.HitArea();\r\n\t\tthis.hitArea.hit.drawRect(0, 0, 1285, 727, \"#000\");\r\n\t\tthis.guideContainer.hitArea = this.hitArea;\r\n\t\tthis.guideContainer.mouseEnabled = true;\r\n\r\n\t\tthis.tipContainer = new Sprite();\r\n\t\tthis.box.addChild(this.tipContainer);\r\n\r\n\t\tthis.nextStep();\r\n\t}\r\n\r\n\tnextStep() {\r\n\t\t\r\n\t\tif (this.guideStep === this.guideSteps.length) {\r\n\t\t\tthis.box.removeChild(this.guideContainer);\r\n\t\t\tthis.box.removeChild(this.tipContainer);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet step = this.guideSteps[this.guideStep++];\r\n\r\n\t\tthis.hitArea.unHit.clear();\r\n\t\tthis.hitArea.unHit.drawCircle(step.x, step.y, step.radius, \"#000000\");\r\n\r\n\t\tthis.interactionArea.graphics.clear();\r\n\t\tthis.interactionArea.graphics.drawCircle(step.x, step.y, step.radius, \"#000000\");\r\n\r\n\t\tthis.tipContainer.graphics.clear();\r\n\t\tthis.tipContainer.loadImage(step.tip);\r\n\t\tthis.tipContainer.pos(step.tipx, step.tipy);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Sprite = Laya.Sprite;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('eB00mDtwQsCZMRnMp908Lg')\r\nexport class Sprite_MagnifyingGlass extends BaseScript {\r\n\r\n    private maskSp:Sprite;\r\n    private bg2:Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        Laya.loader.load(\"resources/res/bg2.png\").then(()=>{\r\n            this.setup();\r\n        });\r\n    }\r\n\r\n    setup():void\r\n    {\r\n        var bg:Sprite = new Sprite();\r\n        bg.loadImage(\"resources/res/bg2.png\");\r\n        this.owner.addChild(bg);\r\n\r\n        this.bg2 = new Sprite();\r\n        this.bg2.loadImage(\"resources/res/bg2.png\");\r\n        this.owner.addChild(this.bg2);\r\n        this.bg2.scale(3, 3);\r\n        \r\n        //\u521B\u5EFAmask\r\n        this.maskSp = new Sprite();\r\n        this.maskSp.loadImage(\"resources/res/mask.png\");\r\n        this.maskSp.pivot(50, 50);\r\n\r\n        //\u8BBE\u7F6Emask\r\n        this.bg2.mask = this.maskSp;\r\n\r\n        Laya.stage.on(\"mousemove\", this, this.onMouseMove);\r\n    }\r\n\r\n    onMouseMove(e: Laya.Event):void\r\n    {\r\n        \r\n        this.bg2.x = -e.target.mouseX * 2;\r\n        this.bg2.y = -e.target.mouseY * 2;\r\n\r\n        this.maskSp.x = e.target.mouseX;\r\n        this.maskSp.y = e.target.mouseY;\r\n    }\r\n\r\n    onDestroy(): void {\r\n        \r\n\t\tLaya.stage.off(\"mousemove\", this, this.onMouseMove);\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('mwsryA5yTSinDt6l04Znng')\r\nexport class Sprite_NodeControl extends BaseScript {\r\n\r\n    private ape1: Sprite;\r\n    private ape2: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n\t\tthis.createApes();\r\n\t}\r\n\r\n\tcreateApes() {\r\n\t\tconst Sprite = Laya.Sprite;\r\n\t\tlet monkey2Path = \"resources/res/apes/monkey2.png\";\r\n\r\n\t\tthis.ape1 = new Sprite();\r\n\t\tthis.ape2 = new Sprite();\r\n\t\tthis.ape1.loadImage(monkey2Path);\r\n\t\tthis.ape2.loadImage(monkey2Path);\r\n\r\n\t\tthis.ape1.pivot(55, 72);\r\n\t\tthis.ape2.pivot(55, 72);\r\n\r\n\t\tthis.ape1.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n\t\tthis.ape2.pos(200, 0);\r\n\r\n\t\t// \u4E00\u53EA\u7329\u7329\u5728\u821E\u53F0\u4E0A\uFF0C\u53E6\u4E00\u53EA\u88AB\u6DFB\u52A0\u6210\u7B2C\u4E00\u53EA\u7329\u7329\u7684\u5B50\u7EA7\r\n\t\tthis.owner.addChild(this.ape1);\r\n\t\tthis.ape1.addChild(this.ape2);\r\n\t\t\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\t}\r\n\r\n\tanimate() {\r\n\t\tthis.ape1.rotation += 2;\r\n\t\tthis.ape2.rotation -= 4;\r\n\t}\r\n\r\n    onDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.animate);\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('Q9BeOZUPTva8jfS2TDqVxQ')\r\nexport class Sprite_Pivot extends BaseScript {\r\n\r\n    private ape1: Sprite;\r\n    private ape2: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createApes();\r\n\t}\r\n\r\n\tcreateApes() {\r\n\t\tconst Sprite = Laya.Sprite;\r\n\t\tlet monkey2Path = \"resources/res/apes/monkey2.png\";\r\n\t\tlet gap = 150;\r\n\r\n\t\tthis.ape1 = new Sprite();\r\n\t\tthis.owner.addChild(this.ape1);\r\n\t\tthis.ape1.loadImage(monkey2Path);\r\n\t\t// \u8BBE\u7F6E\u8F74\u5FC3\u70B9\u4E3A\u4E2D\u5FC3\r\n\t\tthis.ape1.pivot(55, 72);\r\n\t\tthis.ape1.pos(this.pageWidth / 2 - gap, this.pageHeight / 2);\r\n\r\n\t\t// \u4E0D\u8BBE\u7F6E\u8F74\u5FC3\u70B9\u9ED8\u8BA4\u4E3A\u5DE6\u4E0A\u89D2\r\n\t\tthis.ape2 = new Sprite();\r\n\t\tthis.owner.addChild(this.ape2);\r\n\t\tthis.ape2.loadImage(monkey2Path);\r\n\t\tthis.ape2.pos(this.pageWidth / 2 + gap, this.pageHeight / 2);\r\n\t\t\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\t}\r\n\r\n\tanimate() {\r\n\t\tthis.ape1.rotation += 2;\r\n\t\tthis.ape2.rotation += 2;\r\n\t}\r\n    \r\n    onDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.animate);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('yZXAOinyQtmRR1ttPA9QOQ')\r\nexport class Sprite_RoateAndScale extends BaseScript {\r\n\r\n    private ape: Sprite;\r\n    private scaleDelta: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        this.createApe();\r\n    }\r\n\r\n    private createApe(): void {\r\n        this.ape = new Sprite();\r\n\r\n        this.ape.loadImage(\"resources/res/apes/monkey2.png\");\r\n        this.owner.addChild(this.ape);\r\n        this.ape.pivot(55, 72);\r\n        this.ape.x = this.pageWidth / 2;\r\n        this.ape.y = this.pageHeight / 2;\r\n        \r\n        //\u6BCF\u5E27\u8C03\u7528animate\u65B9\u6CD5\r\n        Laya.timer.frameLoop(1, this, this.animate);\r\n    }\r\n\r\n    private animate(e: Event): void {\r\n        this.ape.rotation += 2;\r\n\r\n        //\u5FC3\u8DF3\u7F29\u653E\r\n        this.scaleDelta += 0.02;\r\n        var scaleValue: number = Math.sin(this.scaleDelta);\r\n        this.ape.scale(scaleValue, scaleValue);\r\n    }\r\n\r\n\tonDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.animate);\r\n\t}\r\n}", "/*Laya.LayaEnv.beforeInit = function(config: Laya.IStageConfig) {\r\n    //\u8FD9\u4E2A\u65B9\u6CD5\u4F1A\u5728Laya.init\u524D\u8C03\u7528\r\n    console.log(\"before init\");\r\n    //\u8FD9\u91CC\u53EF\u4EE5\u5BF9config\u4EE5\u53CALaya.Config\u3001Laya.Config3D\u8FDB\u884C\u81EA\u5B9A\u4E49\u7684\u4FEE\u6539\r\n    Laya.Config.preserveDrawingBuffer =true;\r\n    Laya.Config.isAlpha =true;       \r\n}*/\r\n\r\n\r\nimport { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Image = Laya.Image;\r\nimport Texture = Laya.Texture;\r\nimport Button = Laya.Button;\r\nimport Event = Laya.Event;\r\nimport RenderTexture2D = Laya.RenderTexture2D;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport Browser = Laya.Browser;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('chWlJbpKScW7kUEM17WkjQ')\r\nexport class Sprite_ScreenShot extends BaseScript {\r\n\r\n    private btnArr:Array<string> = [\"resources/image/img_btn_bg.png\", \"resources/image/img_btn_bg.png\", \"resources/image/img_btn_bg.png\"];\r\n    private nameArr:Array<string> = [\"canvas\u622A\u56FE\",\"sprite\u622A\u56FE\",\"\u6E05\u7406\"];\r\n    private _canvas:HTMLCanvasElement;\r\n    private aimSp:Sprite;\r\n    private drawImage:Image;\r\n    private drawSp:Sprite;\r\n\tprivate monkeyTexture:Texture;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        //\u9700\u8981\u5728 Laya.LayaEnv.beforeInit \u4E2D\u63D0\u524D\u8C03\u7528 Laya.Config.preserveDrawingBuffer =true;\r\n        super.base();\r\n\r\n        Laya.loader.load(this.btnArr.concat(\"resources/res/apes/monkey3.png\")).then( ()=>{\r\n            this.onLoaded();\r\n        } );\r\n\r\n    }\r\n\r\n    private createButton(skin: string,name:string,cb:Function,index:number): Button {\r\n        var btn: Button = new Button(skin,name);\r\n        this.owner.addChild(btn);\r\n        btn.on(Event.CLICK,this,cb);\r\n        btn.size(120,30);\r\n        btn.labelSize = 16;\r\n        btn.sizeGrid = \"21,83,22,76\";\r\n        btn.stateNum = 1;\r\n        btn.labelColors = \"#ffffff\";        \r\n        btn.name = name;\r\n        btn.right = 10;\r\n        btn.top = 10 + index * (btn.height + 10);\r\n\t\treturn btn;\r\n    }\r\n\r\n    private onLoaded(){\r\n\r\n        for (let index = 0; index < this.btnArr.length; index++) {\r\n            this.createButton(this.btnArr[index],this.nameArr[index],this._onclick,index);\r\n        }\r\n        this._canvas = window.document.getElementById(\"layaCanvas\") as HTMLCanvasElement;\r\n        \r\n\r\n        this.aimSp = new Sprite();\r\n        this.aimSp.size(this.pageWidth/2,this.pageHeight/2);\r\n        this.owner.addChild(this.aimSp);\r\n        this.aimSp.graphics.drawRect(0,0,this.aimSp.width,this.aimSp.height,\"#333333\");\r\n\r\n        this.monkeyTexture = Laya.loader.getRes(\"resources/res/apes/monkey3.png\");\r\n        this.aimSp.graphics.drawTexture(this.monkeyTexture,0,0,this.monkeyTexture.width,this.monkeyTexture.height);\r\n\r\n        this.drawImage = new Image();\r\n        this.drawImage.size(this.pageWidth/2,this.pageHeight/2);\r\n        this.owner.addChild(this.drawImage);\r\n        this.drawImage.bottom = this.drawImage.right = 0;\r\n\r\n        this.drawSp = new Sprite();\r\n        this.owner.addChild(this.drawSp);\r\n        this.drawSp.size(this.pageWidth/2,this.pageHeight/2);\r\n        this.drawSp.y = this.pageHeight/2;\r\n        this.drawSp.graphics.drawRect(0,0,this.drawSp.width,this.drawSp.height,\"#ff0000\");\r\n    }\r\n\r\n    private _onclick(e:Event){\r\n        switch (e.target.name) {\r\n            case this.nameArr[0]:\r\n\r\n                var base64Url:string = this._canvas.toDataURL(\"image/png\",1);\r\n                this.drawImage.skin = base64Url;\r\n                console.log(base64Url);\r\n\r\n                break;\r\n            case this.nameArr[1]:\r\n\r\n                var ddrt = new RenderTexture2D(Browser.clientWidth*Browser.pixelRatio, Browser.clientHeight*Browser.pixelRatio, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.None);\r\n                Laya.stage.drawToTexture(Browser.clientWidth*Browser.pixelRatio, Browser.clientHeight*Browser.pixelRatio, 0, 0, ddrt, true);\r\n                var text:Texture = new Texture(ddrt);\r\n                this.drawSp.graphics.drawTexture(text,0,0,this.drawSp.width,this.drawSp.height);\r\n\r\n                // var htmlCanvas: Laya.HTMLCanvas = this.drawSp.drawToCanvas(720, 1280, 0, 0);\r\n                // var base64Url:string = htmlCanvas.toBase64(\"image/png\",1);\r\n                // console.log(base64Url);\r\n                \r\n                break;\r\n            case this.nameArr[2]:\r\n                this.drawImage.skin = null;\r\n                this.drawSp.graphics.clear();\r\n                this.drawSp.graphics.drawRect(0,0,this.drawSp.width,this.drawSp.height,\"#ff0000\");\r\n                break;\r\n        }\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Texture = Laya.Texture;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('2sUV5-fpTNGdor4_9e2wUA')\r\nexport class Sprite_SwitchTexture extends BaseScript {\r\n\r\n    private monkey1Str: string = \"resources/res/apes/monkey1.png\";\r\n\tprivate monkey2Str: string = \"resources/res/apes/monkey2.png\";\r\n\tprivate monkey1Res: Texture;\r\n\tprivate monkey2Res: Texture;\r\n    private flag: boolean;\r\n    private ape: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.flag = true;\r\n\t\tLaya.loader.load([this.monkey1Str, this.monkey2Str]).then( ()=>{\r\n            this.onAssetsLoaded();\r\n        } );\r\n\t}\r\n\r\n\tonAssetsLoaded() {\r\n\t\tthis.monkey1Res = Laya.loader.getRes(this.monkey1Str),\r\n\t\tthis.monkey2Res = Laya.loader.getRes(this.monkey2Str);\r\n\t\tthis.ape = new Laya.Sprite();\r\n\t\tthis.owner.addChild(this.ape);\r\n\t\tthis.ape.pivot(55, 72);\r\n\t\tthis.ape.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n\r\n\t\tthis.switchTexture();\r\n\r\n\t\tthis.ape.on(Laya.Event.CLICK, this, this.switchTexture);\r\n\t}\r\n\t\r\n\tswitchTexture() {\r\n\t\tlet monkey = (this.flag = !this.flag) ? this.monkey1Res : this.monkey2Res;\r\n\r\n\t\tthis.ape.graphics.clear();\r\n\t\tthis.ape.graphics.drawTexture(monkey, 0, 0);\r\n\r\n\t\tthis.ape.size(monkey.width, monkey.height);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('gBXuRKbFQMKaoVwcKsG_KA')\r\nexport class Timer_CallLater extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.demonstrate();\r\n\t}\r\n\r\n\tprivate demonstrate(): void {\r\n\t\tfor (var i: number = 0; i < 10; i++) {\r\n\t\t\tLaya.timer.callLater(this, this.onCallLater);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onCallLater(e: any = null): void {\r\n\t\tconsole.log(\"onCallLater triggered\");\r\n\r\n\t\tvar text: Text = new Text();\r\n\t\ttext.font = \"SimHei\";\r\n\t\ttext.fontSize = 30;\r\n\t\ttext.color = \"#FFFFFF\";\r\n\t\ttext.text = \"\u6253\u5F00\u63A7\u5236\u53F0\u53EF\u89C1\u8BE5\u51FD\u6570\u4EC5\u89E6\u53D1\u4E86\u4E00\u6B21\";\r\n\t\ttext.size(this.pageWidth, this.pageHeight);\r\n\t\ttext.wordWrap = true;\r\n\t\ttext.valign = \"middle\";\r\n\t\ttext.align = \"center\";\r\n\t\tthis.box2D.addChild(text);\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('2TjHWJ6DQ0u0Tdc4Qx7BDg')\r\nexport class Timer_DelayExcute extends BaseScript {\r\n\r\n\tprivate button1: Sprite;\r\n\tprivate button2: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\t\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tvar vGap: number = 100;\r\n\r\n\t\tthis.button1 = this.createButton(\"\u70B9\u62113\u79D2\u4E4B\u540E alpha - 0.5\");\r\n\t\tthis.button1.x = (this.pageWidth - this.button1.width) / 2;\r\n\t\tthis.button1.y = (this.pageHeight - this.button1.height - vGap) / 2;\r\n\t\tthis.box2D.addChild(this.button1);\r\n\t\tthis.button1.on(Event.CLICK, this, this.onDecreaseAlpha1);\r\n\r\n\t\tthis.button2 = this.createButton(\"\u70B9\u621160\u5E27\u4E4B\u540E alpha - 0.5\");\r\n\t\tthis.button2.pos(this.button1.x, this.button1.y + vGap);\r\n\t\tthis.box2D.addChild(this.button2);\r\n\t\tthis.button2.on(Event.CLICK, this, this.onDecreaseAlpha2);\r\n\t}\r\n\r\n\tprivate createButton(label: string): Sprite {\r\n\t\tvar w: number = 300, h: number = 60;\r\n\r\n\t\tvar button: Sprite = new Sprite();\r\n\t\tbutton.graphics.drawRect(0, 0, w, h, \"#FF7F50\");\r\n\t\tbutton.size(w, h);\r\n\t\tbutton.graphics.fillText(label, w / 2, 17, \"20px simHei\", \"#ffffff\", \"center\");\r\n\t\treturn button;\r\n\t}\r\n\r\n\tprivate onDecreaseAlpha1(e: Event = null): void {\r\n\t\t//\u79FB\u9664\u9F20\u6807\u5355\u51FB\u4E8B\u4EF6\r\n\t\tthis.button1.off(Event.CLICK, this, this.onDecreaseAlpha1);\r\n\t\t//\u5B9A\u65F6\u6267\u884C\u4E00\u6B21(\u95F4\u9694\u65F6\u95F4)\r\n\t\tLaya.timer.once(3000, this, this.onComplete1);\r\n\t}\r\n\r\n\tprivate onDecreaseAlpha2(e: Event = null): void {\r\n\t\t//\u79FB\u9664\u9F20\u6807\u5355\u51FB\u4E8B\u4EF6\r\n\t\tthis.button2.off(Event.CLICK, this, this.onDecreaseAlpha2);\r\n\t\t//\u5B9A\u65F6\u6267\u884C\u4E00\u6B21(\u57FA\u4E8E\u5E27\u7387)\r\n\t\tLaya.timer.frameOnce(60, this, this.onComplete2);\r\n\t}\r\n\r\n\tprivate onComplete1(): void {\r\n\t\t//spBtn1\u7684\u900F\u660E\u5EA6\u51CF\u5C110.5\r\n\t\tthis.button1.alpha -= 0.5;\r\n\t}\r\n\r\n\tprivate onComplete2(): void {\r\n\t\t//spBtn2\u7684\u900F\u660E\u5EA6\u51CF\u5C110.5\r\n\t\tthis.button2.alpha -= 0.5;\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tLaya.timer.clearAll(this);\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('T0FWp4VERJ657Qlwve2I2A')\r\nexport class Timer_Interval extends BaseScript {\r\n\r\n    private rotateTimeBasedText: Text;\r\n\tprivate rotateFrameRateBasedText: Text;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tvar vGap: number = 200;\r\n\r\n\t\tthis.rotateTimeBasedText = this.createText(\"\u57FA\u4E8E\u65F6\u95F4\u65CB\u8F6C\", this.pageWidth / 2, ( this.pageHeight - vGap) / 2);\r\n\t\tthis.rotateFrameRateBasedText = this.createText(\"\u57FA\u4E8E\u5E27\u9891\u65CB\u8F6C\", this.rotateTimeBasedText.x, this.rotateTimeBasedText.y + vGap);\r\n\r\n\t\tLaya.timer.loop(200, this, this.animateTimeBased);\r\n\t\tLaya.timer.frameLoop(2, this, this.animateFrameRateBased);\r\n\t}\r\n\r\n\tprivate createText(text: string, x: number, y: number): Text {\r\n\t\tvar t: Text = new Text();\r\n\t\tt.text = text;\r\n\t\tt.fontSize = 30;\r\n\t\tt.color = \"white\";\r\n\t\tt.bold = true;\r\n\t\tt.pivot(t.width / 2, t.height / 2);\r\n\t\tt.pos(x, y);\r\n\t\tthis.box2D.addChild(t);\r\n\r\n\t\treturn t;\r\n\t}\r\n\r\n\tprivate animateTimeBased(): void {\r\n\t\tthis.rotateTimeBasedText.rotation += 1;\r\n\t}\r\n\r\n\tprivate animateFrameRateBased(): void {\r\n\t\tthis.rotateFrameRateBasedText.rotation += 1;\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.animateTimeBased);\r\n\t\tLaya.timer.clear(this, this.animateFrameRateBased);\r\n\t}\r\n}", "#define SHADER_NAME GlassShaderVS\r\n#include \"Camera.glsl\";\r\n#include \"Sprite3DVertex.glsl\";\r\n#include \"VertexCommon.glsl\";\r\nvarying vec2 v_Texcoord0;\r\nvarying vec4 v_ScreenTexcoord;\r\n\r\nvoid main() {\r\n\tVertex vertex;\r\n\tgetVertexParams(vertex);\r\n\tmat4 worldMat = getWorldMatrix();\r\n\tvec3 positionWS = (worldMat * vec4(vertex.positionOS, 1.0)).xyz;\r\n\tgl_Position = getPositionCS(positionWS);\r\n\tgl_Position = remapPositionZ(gl_Position);\r\n\tv_Texcoord0= transformUV(a_Texcoord0, u_TilingOffset);\r\n\t//v_ScreenTexcoord =vec2((gl_Position.x/gl_Position.w+1.0)*0.5, (gl_Position.y/gl_Position.w+1.0)*0.5);\r\n\tv_ScreenTexcoord = gl_Position*0.5;\r\n\tv_ScreenTexcoord.xy = vec2(v_ScreenTexcoord.x,v_ScreenTexcoord.y)+v_ScreenTexcoord.w;\r\n\tv_ScreenTexcoord.zw = gl_Position.zw;\r\n\t\r\n}", "#define SHADER_NAME GlassShaderFS\r\n\r\nvarying vec2 v_Texcoord0;\r\nvarying vec4 v_ScreenTexcoord;\r\n\r\nvoid main()\r\n{\r\n\tvec4 color;\r\n\tvec4 screenTexColor = texture2D(u_screenTexture,v_ScreenTexcoord.xy/v_ScreenTexcoord.w);\r\n\tvec4 tintTexColor = texture2D(u_tintTexure, v_Texcoord0);\r\n\tcolor = mix(screenTexColor, tintTexColor,0.5);\r\n\tgl_FragColor = color;\r\n}\r\n\r\n", "import GlassShaderVS from \"./GlassShader.vs\";\r\nimport GlassShaderFS from \"./GlassShader.fs\";\r\n\r\nexport class GlassWithoutGrabMaterial extends Laya.Material {\r\n    /** tintTexure */\r\n    static TINTTEXTURE: number;\r\n    /** normalTexture\" */\r\n    static NORMALTEXTURE: number;\r\n    /** TilingOffset */\r\n    static TILINGOFFSET: number;\r\n    /** tintAmount */\r\n    static ALBEDOCOLOR: number;\r\n\r\n    static init() {\r\n        var attributeMap: any = {\r\n            'a_Position': [Laya.VertexMesh.MESH_POSITION0, Laya.ShaderDataType.Vector4],\r\n            'a_Normal': [Laya.VertexMesh.MESH_NORMAL0, Laya.ShaderDataType.Vector3],\r\n            'a_Texcoord0': [Laya.VertexMesh.MESH_TEXTURECOORDINATE0, Laya.ShaderDataType.Vector2],\r\n            'a_Tangent0': [Laya.VertexMesh.MESH_TANGENT0, Laya.ShaderDataType.Vector4],\r\n        };\r\n\r\n        var uniformMap: any = {\r\n            \"u_tintTexure\": Laya.ShaderDataType.Texture2D,\r\n            \"u_screenTexture\": Laya.ShaderDataType.Texture2D,\r\n            \"u_normalTexture\": Laya.ShaderDataType.Texture2D,\r\n            \"u_TilingOffset\": Laya.ShaderDataType.Vector4,\r\n            \"u_tintAmount\": Laya.ShaderDataType.Color,\r\n        }\r\n        var shader: Laya.Shader3D = Laya.Shader3D.add(\"GlassShader\", false);\r\n        var subShader: Laya.SubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        subShader.addShaderPass(GlassShaderVS, GlassShaderFS);\r\n\r\n        GlassWithoutGrabMaterial.TINTTEXTURE = Laya.Shader3D.propertyNameToID(\"u_tintTexure\");\r\n        GlassWithoutGrabMaterial.NORMALTEXTURE = Laya.Shader3D.propertyNameToID(\"u_normalTexture\");\r\n        GlassWithoutGrabMaterial.TILINGOFFSET = Laya.Shader3D.propertyNameToID(\"u_TilingOffset\");\r\n        GlassWithoutGrabMaterial.ALBEDOCOLOR = Laya.Shader3D.propertyNameToID(\"u_tintAmount\");\r\n    }\r\n\r\n    /**\r\n     * @param texture \r\n     */\r\n    constructor(texture: Laya.BaseTexture) {\r\n        super();\r\n        this.setShaderName(\"GlassShader\");\r\n        this.renderModeSet();\r\n        this._shaderValues.setVector(GlassWithoutGrabMaterial.TILINGOFFSET, new Laya.Vector4(1, 1, 0, 0));\r\n        this._shaderValues.setTexture(GlassWithoutGrabMaterial.TINTTEXTURE, texture);\r\n    }\r\n\r\n    /**\r\n     * RenderMode\r\n     */\r\n    renderModeSet() {\r\n        this.alphaTest = false;//\u6DF1\u5EA6\u6D4B\u8BD5\u5173\u95ED\r\n        this.renderQueue = Laya.Material.RENDERQUEUE_TRANSPARENT;//\u6E32\u67D3\u987A\u5E8F\u653E\u5728\u540E\u9762\r\n        this.depthWrite = true;\r\n        this.cull = Laya.RenderState.CULL_BACK;\r\n        this.blend = Laya.RenderState.BLEND_DISABLE;\r\n        this.depthTest = Laya.RenderState.DEPTHTEST_LESS;\r\n    }\r\n\r\n\r\n\r\n}", "#include \"Camera.glsl\";\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main() {\r\n\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\r\n\tv_Texcoord0 = a_PositionTexcoord.zw;\r\n\tgl_Position = remapPositionZ(gl_Position);\r\n}", "#define SHADER_NAME BlurHorizontal\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main()\r\n{\r\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\r\n    vec2 uv = v_Texcoord0;\r\n    vec2 uvOffset = vec2(1.0,0.0)*u_MainTex_TexelSize.xy*u_DownSampleValue;\r\n    uv = uv - uvOffset*3.0;\r\n    //\u9AD8\u65AF\u53C2\u6570\r\n    color+=0.0205*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.324*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0205*texture2D(u_MainTex,uv);\r\n\r\n    gl_FragColor = color;\r\n    \r\n\r\n    \r\n}", "#define SHADER_NAME BlurVertical\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main()\r\n{\r\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\r\n    vec2 uv = v_Texcoord0;\r\n    vec2 uvOffset = vec2(0.0,1.0)*u_MainTex_TexelSize.xy*u_DownSampleValue;\r\n    uv = uv - uvOffset*3.0;\r\n    //\u9AD8\u65AF\u53C2\u6570\r\n    color+=0.0205*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.324*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0205*texture2D(u_MainTex,uv);\r\n\r\n    gl_FragColor = color;\r\n    \r\n\r\n    \r\n}", "#define SHADER_NAME BlurDownSample\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main()\r\n{\r\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\r\n    color += texture2D(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(1.0,0.0));\r\n\tcolor += texture2D(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(-1.0,0.0));\r\n\tcolor += texture2D(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(0.0,-1.0));\r\n    color += texture2D(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(0.0,1.0));\r\n    gl_FragColor = color/4.0;\r\n    // gl_FragColor = vec4(1.0,0.0,0.0,1.0);\r\n}", "#include \"Camera.glsl\";\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main() {\r\n\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\r\n\tv_Texcoord0 = a_PositionTexcoord.zw;\r\n\tgl_Position = remapPositionZ(gl_Position);\r\n}", "#define SHADER_NAME EdgeAdd\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main()\r\n{\r\n    vec2 uv = v_Texcoord0;\r\n    vec4 mainColor = texture2D(u_MainTex,uv);\r\n    vec4 sourceColor = texture2D(u_sourceTexture0,uv);\r\n    float factor = step(sourceColor.x+sourceColor.y+sourceColor.z,0.001);\r\n    vec4 color = mix(sourceColor,mainColor,factor);\r\n    gl_FragColor =color;\r\n}", "#define SHADER_NAME EdgeSub\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main()\r\n{\r\n    vec2 uv = v_Texcoord0;\r\n    vec4 blurColor = texture2D(u_sourceTexture0,uv);\r\n    vec4 clearColor = texture2D(u_sourceTexture1,uv);\r\n    float factor = step(clearColor.x+clearColor.y+clearColor.z,0.001);\r\n    vec4 color = blurColor*factor;\r\n    color = (1.0-step(color.x+color.y+color.z,0.15))*vec4(1.0,0.0,0.0,1.0);\r\n    gl_FragColor = color;\r\n}", "import BlurVS from \"./Blur.vs\";\r\nimport BlurHorizentalFS from \"./BlurHorizontal.fs\";\r\nimport BlurVerticalFS from \"./BlurVertical.fs\";\r\nimport BlurDownSampleFS from \"./BlurDownSample.fs\";\r\nimport BlurDownSampleVS from \"./BlurDownSample.vs\";\r\nimport BlurEdgeAdd from \"./EdgeAdd.fs\";\r\nimport BlurEdgeSub from \"./EdgeSub.fs\";\r\nexport class BlurEffect extends Laya.PostProcessEffect {\r\n\r\n    static BLUR_TYPE_GaussianBlur: number = 0;\r\n    static BLUR_TYPE_Simple: number = 1;\r\n    static SHADERVALUE_MAINTEX: number;\r\n    static SHADERVALUE_TEXELSIZE: number;\r\n    static SHADERVALUE_DOWNSAMPLEVALUE: number;\r\n\r\n    static init() {\r\n        BlurEffect.SHADERVALUE_MAINTEX = Laya.Shader3D.propertyNameToID(\"u_MainTex\");\r\n        BlurEffect.SHADERVALUE_TEXELSIZE = Laya.Shader3D.propertyNameToID(\"u_MainTex_TexelSize\");\r\n        BlurEffect.SHADERVALUE_DOWNSAMPLEVALUE = Laya.Shader3D.propertyNameToID(\"u_DownSampleValue\");\r\n        //\u521D\u59CB\u5316shader\r\n        let attributeMap: any = {\r\n            'a_PositionTexcoord': [Laya.VertexMesh.MESH_POSITION0, Laya.ShaderDataType.Vector4]\r\n        };\r\n\r\n        let uniformMap: any = {\r\n            \"u_MainTex\": Laya.ShaderDataType.Texture2D,\r\n            \"u_sourceTexture0\": Laya.ShaderDataType.Texture2D,\r\n            \"u_sourceTexture1\": Laya.ShaderDataType.Texture2D,\r\n            \"u_MainTex_TexelSize\": Laya.ShaderDataType.Vector4,\r\n            \"u_DownSampleValue\": Laya.ShaderDataType.Float\r\n        };\r\n        var shader: Laya.Shader3D = Laya.Shader3D.add(\"blurEffect\");\r\n        //subShader0  \u964D\u91C7\u6837\r\n        var subShader: Laya.SubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        var shaderpass: Laya.ShaderPass = subShader.addShaderPass(BlurDownSampleVS, BlurDownSampleFS);\r\n        var renderState: Laya.RenderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n        //subShader1 \u5782\u76F4\u53CD\u5411\u6A21\u7CCA\r\n        subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurVerticalFS);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n        //subShader2 \u6C34\u5E73\u65B9\u5411\u6A21\u7CCA\r\n        subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurHorizentalFS);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n        //subShader3 subTexture\r\n        subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurEdgeSub);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n        //subShader4 addTexture\r\n        subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurEdgeAdd);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n\r\n    }\r\n\r\n    /**@internal */\r\n    private _shader: Laya.Shader3D = null;\r\n    /**@internal */\r\n    private _shaderData: Laya.ShaderData = Laya.LayaGL.renderOBJCreate.createShaderData(null);\r\n    /**@internal */\r\n    private _downSampleNum: number = 1;\r\n    /**@internal */\r\n    private _blurSpreadSize: number = 1;\r\n    /**@internal */\r\n    private _blurIterations: number = 2;\r\n    /**@internal */\r\n    private _texSize: Laya.Vector4 = new Laya.Vector4(1.0, 1.0, 1.0, 1.0);\r\n    /**@internal */\r\n    private _tempRenderTexture: any[];\r\n\r\n    constructor() {\r\n        super();\r\n        this._shader = Laya.Shader3D.find(\"blurEffect\");\r\n        this._tempRenderTexture = new Array(13);\r\n    }\r\n\r\n    /**\r\n     * @return \u5F3A\u5EA6\u3002\r\n     */\r\n    get downSampleNum(): number {\r\n        return this._downSampleNum;\r\n    }\r\n\r\n    /**\r\n     * \u964D\u91C7\u6837,\u503C\u8303\u56F4\u4E3A0-6\u3002\r\n     * @param value \u5F3A\u5EA6\u3002\r\n     */\r\n    set downSampleNum(value: number) {\r\n        this._downSampleNum = Math.min(6, Math.max(value, 0.0));\r\n    }\r\n\r\n    /**\r\n     * \u91C7\u6837\u95F4\u9694  \u8FC7\u5927\u4F1A\u5931\u771F1-10\r\n     * @return \u3002\r\n     */\r\n    get blurSpreadSize(): number {\r\n        return this._blurSpreadSize;\r\n    }\r\n\r\n    /**\r\n     * @param value \r\n     */\r\n    set blurSpreadSize(value: number) {\r\n        this._blurSpreadSize = Math.min(10, Math.max(value, 1.0));\r\n    }\r\n\r\n    /**\r\n     * \u8FED\u4EE3\u6B21\u6570  \u8D8A\u5927\u6027\u80FD\u6D88\u8017\u8D8A\u5927 \u6548\u679C\u8D8A\u597D\r\n     * @return \u3002\r\n     */\r\n    get blurIterations(): number {\r\n        return this._blurIterations;\r\n    }\r\n\r\n    /**\r\n     * @param value\u3002\r\n     */\r\n    set blurIterations(value: number) {\r\n        this._blurIterations = Math.min(Math.max(value, 0.0), 6.0);\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     * @internal\r\n     */\r\n    render(context: Laya.PostProcessRenderContext): void {\r\n        var cmd: Laya.CommandBuffer = context.command;\r\n        var viewport: Laya.Viewport = context.camera.viewport;\r\n        var scaleFactor: number = 1.0 / (1 << Math.floor(this._downSampleNum));\r\n        var tw: number = Math.floor(viewport.width * scaleFactor);\r\n        var th: number = Math.floor(viewport.height * scaleFactor);\r\n        this._texSize.setValue(1.0 / tw, 1.0 / th, tw, th);\r\n        //\u8D4B\u503C\r\n        this._shaderData.setNumber(BlurEffect.SHADERVALUE_DOWNSAMPLEVALUE, this.blurSpreadSize);\r\n        this._shaderData.setVector(BlurEffect.SHADERVALUE_TEXELSIZE, this._texSize);\r\n        //\u964D\u91C7\u6837\r\n        var downSampleTexture: Laya.RenderTexture = Laya.RenderTexture.createFromPool(tw, th, Laya.RenderTargetFormat.R8G8B8, Laya.RenderTargetFormat.None, false, 1);\r\n        downSampleTexture.filterMode = Laya.FilterMode.Bilinear;\r\n        this._tempRenderTexture[0] = downSampleTexture;\r\n        var lastDownTexture: Laya.RenderTexture = context.source;\r\n        cmd.blitScreenTriangle(lastDownTexture, downSampleTexture, null, this._shader, this._shaderData, 0);\r\n        lastDownTexture = downSampleTexture;\r\n        //\u8FED\u4EE3\u6B21\u6570\r\n        for (var i: number = 0; i < this._blurIterations; i++) {\r\n            //vertical\r\n            var blurTexture: Laya.RenderTexture = Laya.RenderTexture.createFromPool(tw, th, Laya.RenderTargetFormat.R8G8B8, Laya.RenderTargetFormat.None, false, 1);\r\n            blurTexture.filterMode = Laya.FilterMode.Bilinear;\r\n            cmd.blitScreenTriangle(lastDownTexture, blurTexture, null, this._shader, this._shaderData, 1);\r\n            lastDownTexture = blurTexture;\r\n            this._tempRenderTexture[i * 2 + 1] = blurTexture;\r\n            //Horizental\r\n            blurTexture = Laya.RenderTexture.createFromPool(tw, th, Laya.RenderTargetFormat.R8G8B8, Laya.RenderTargetFormat.None, false, 1);\r\n            blurTexture.filterMode = Laya.FilterMode.Bilinear;\r\n            cmd.blitScreenTriangle(lastDownTexture, blurTexture, null, this._shader, this._shaderData, 2);\r\n            lastDownTexture = blurTexture;\r\n            this._tempRenderTexture[i * 2 + 2] = blurTexture;\r\n        }\r\n        context.source = lastDownTexture;\r\n        cmd.blitScreenTriangle(context.source, context.destination);\r\n        var maxTexture = this._blurIterations * 2 + 1;\r\n        //\u91CA\u653E\u6E32\u67D3\u7EB9\u7406\r\n        for (i = 0; i < maxTexture; i++) {\r\n            Laya.RenderTexture.recoverToPool(this._tempRenderTexture[i]);\r\n        }\r\n        context.deferredReleaseTextures.push(lastDownTexture);\r\n    }\r\n}\r\n\r\nexport class BlurMaterial extends Laya.Material {\r\n    static SHADERVALUE_MAINTEX: number;\r\n    static SHADERVALUE_TEXELSIZE: number;\r\n    static SHADERVALUE_DOWNSAMPLEVALUE: number;\r\n    static SHADERVALUE_SOURCETEXTURE0: number;\r\n    static ShADERVALUE_SOURCETEXTURE1: number;\r\n\r\n    static __init__(){\r\n        BlurMaterial.SHADERVALUE_MAINTEX = Laya.Shader3D.propertyNameToID(\"u_MainTex\");\r\n        BlurMaterial.SHADERVALUE_TEXELSIZE = Laya.Shader3D.propertyNameToID(\"u_MainTex_TexelSize\");\r\n        BlurMaterial.SHADERVALUE_DOWNSAMPLEVALUE = Laya.Shader3D.propertyNameToID(\"u_DownSampleValue\");\r\n        BlurMaterial.SHADERVALUE_SOURCETEXTURE0 = Laya.Shader3D.propertyNameToID(\"u_sourceTexture0\");\r\n        BlurMaterial.ShADERVALUE_SOURCETEXTURE1 = Laya.Shader3D.propertyNameToID(\"u_sourceTexture1\");\r\n    }\r\n\r\n    constructor(texelSize: Laya.Vector4, offset: number) {\r\n        super();\r\n        BlurMaterial.__init__();\r\n        this.setShaderName(\"blurEffect\");\r\n        this.setIntByIndex(BlurMaterial.SHADERVALUE_DOWNSAMPLEVALUE, offset);\r\n        this.setVector4ByIndex(BlurMaterial.SHADERVALUE_TEXELSIZE, texelSize);\r\n    }\r\n\r\n    sourceTexture(sourceTexture0: Laya.BaseTexture, sourceTexture1: Laya.BaseTexture) {\r\n        this.setTextureByIndex(BlurMaterial.SHADERVALUE_SOURCETEXTURE0, sourceTexture0);\r\n        this.setTextureByIndex(BlurMaterial.ShADERVALUE_SOURCETEXTURE1, sourceTexture1);\r\n    }\r\n}\r\n\r\n", "import { BaseScript } from \"../../BaseScript\";\r\nimport { GlassWithoutGrabMaterial } from \"./CommandBufferDemo/GlassWithoutGrabMaterial\";\r\nimport { BlurEffect } from \"./BlurShader/BlurEffect\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Vector4 = Laya.Vector4;\r\nimport Loader = Laya.Loader;\r\nimport Image = Laya.Image;\r\n\r\nimport Handler = Laya.Handler;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('anvFt6x4QNGXWhm30g4Oew')\r\nexport class BlurGlass extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate mat: GlassWithoutGrabMaterial;\r\n\tprivate texture: Laya.RenderTexture;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\t\t\r\n        super.base(this.camera);\r\n\t\t//\u6750\u8D28\u521D\u59CB\u5316\r\n\t\tBlurEffect.init();\r\n\t\tGlassWithoutGrabMaterial.init();\r\n\r\n\t\t//\u52A0\u8F7D\u573A\u666F\r\n\t\tvar scene = this.scene;\r\n\t\tvar camera = this.camera;\r\n\r\n\t\tvar glass01: Laya.MeshSprite3D = scene.getChildByName(\"glass01\") as Laya.MeshSprite3D;\r\n\t\tvar glass02: Laya.MeshSprite3D = scene.getChildByName(\"glass02\") as Laya.MeshSprite3D;\r\n\t\t//\u5728\u8FD9\u91CC\u5207\u6362\u4E86\u6750\u8D28\r\n\t\tvar pbrStandard: Laya.PBRStandardMaterial = glass01.getComponent(Laya.MeshRenderer).sharedMaterial as Laya.PBRStandardMaterial;\r\n\t\t//\u5C06\u56FE\u7247\u8BBE\u7F6E\u5230\u73BB\u7483\u6750\u8D28\r\n\t\tvar glassMaterial = new GlassWithoutGrabMaterial(pbrStandard.albedoTexture);\r\n\t\t//\u7ED9\u6A21\u578B\u8D4B\u6BDB\u73BB\u7483\u6750\u8D28\r\n\t\tglass01.getComponent(Laya.MeshRenderer).sharedMaterial = glassMaterial;\r\n\t\tglass02.getComponent(Laya.MeshRenderer).sharedMaterial = glassMaterial;\r\n\t\tthis.mat = glassMaterial;\r\n\t\t//\u521B\u5EFA\u4F7F\u7528CommandBuffer\r\n\t\tthis.createCommandBuffer(camera);\r\n\t}\r\n\r\n\t/**\r\n\t * \u521B\u5EFACommandBuffer\u547D\u4EE4\u7F13\u5B58\u6D41\r\n\t * @param camera \r\n\t */\r\n\tcreateCommandBuffer(camera: Laya.Camera) {\r\n\t\t//\u5F53\u9700\u8981\u5728\u6D41\u7A0B\u4E2D\u62FF\u6444\u50CF\u673A\u6E32\u67D3\u6548\u679C\u7684\u65F6\u5019 \u8BBE\u7F6Etrue\r\n\t\tcamera.enableBuiltInRenderTexture = true;\r\n\t\t//\u521B\u5EFA\u6E32\u67D3\u547D\u4EE4\u6D41\r\n\t\tvar buf: Laya.CommandBuffer = new Laya.CommandBuffer();\r\n\t\t//\u521B\u5EFA\u9700\u8981\u6A21\u7CCA\u4F7F\u7528\u7684\u5C4F\u5E55RenderTexture\r\n\t\tvar viewPort: Laya.Viewport = camera.viewport;\r\n\t\tvar renderTexture = Laya.RenderTexture.createFromPool(viewPort.width, viewPort.height, Laya.RenderTargetFormat.R8G8B8, Laya.RenderTargetFormat.None, false, 1);\r\n\t\t//\u5C06\u5F53\u524D\u6E32\u67D3\u7684\u7ED3\u679C\u62F7\u8D1D\u5230\u521B\u5EFA\u597D\u7684RenderTexture\r\n\t\tthis.texture = renderTexture;\r\n\t\tbuf.blitScreenTriangle(null, renderTexture);\r\n\t\t//\u83B7\u5F97shader\r\n\t\tvar shader: Laya.Shader3D = Laya.Shader3D.find(\"blurEffect\");\r\n\t\tvar shaderValue: Laya.ShaderData = Laya.LayaGL.renderOBJCreate.createShaderData(null);\r\n\t\t//down Sample level\u8BBE\u7F6E\u964D\u91C7\u6837\u7B49\u7EA7\r\n\t\tvar downSampleFactor: number = 4;\r\n\t\tvar downSampleWidth: number = viewPort.width / downSampleFactor;\r\n\t\tvar downSampleheigh: number = viewPort.height / downSampleFactor;\r\n\t\t//\u8BBE\u7F6E\u6A21\u7CCA\u6750\u8D28\u53C2\u6570\r\n\t\tvar texSize: Vector4 = new Vector4(1.0 / viewPort.width, 1.0 / viewPort.height, viewPort.width, downSampleheigh);//\u6750\u8D28\u6240\u5728\u5750\u6807\u4F4D\u7F6E\r\n\t\tshaderValue.setNumber(BlurEffect.SHADERVALUE_DOWNSAMPLEVALUE, 1);\r\n\t\tshaderValue.setVector(BlurEffect.SHADERVALUE_TEXELSIZE, texSize);\r\n\t\t//\u521B\u5EFA\u964D\u91C7\u6837RenderTexture1\r\n\t\tvar downRenderTexture = Laya.RenderTexture.createFromPool(downSampleWidth, downSampleheigh, Laya.RenderTargetFormat.R8G8B8, Laya.RenderTargetFormat.None, false, 1);\r\n\t\t//\u964D\u91C7\u6837\u547D\u4EE4\u6D41\r\n\t\tbuf.blitScreenTriangle(renderTexture, downRenderTexture, null, shader, shaderValue, 0);\r\n\t\t//\u521B\u5EFA\u964D\u91C7\u6837RenderTexture2\r\n\t\tvar blurTexture: Laya.RenderTexture = Laya.RenderTexture.createFromPool(downSampleWidth, downSampleheigh, Laya.RenderTargetFormat.R8G8B8, Laya.RenderTargetFormat.None, false, 1);\r\n\t\tblurTexture.filterMode = Laya.FilterMode.Bilinear;\r\n\t\t//Horizontal blur\r\n\t\tbuf.blitScreenTriangle(downRenderTexture, blurTexture, null, shader, shaderValue, 1);\r\n\t\t//vertical blur\r\n\t\tbuf.blitScreenTriangle(blurTexture, downRenderTexture, null, shader, shaderValue, 2);\r\n\t\t//Horizontal blur\r\n\t\tbuf.blitScreenTriangle(downRenderTexture, blurTexture, null, shader, shaderValue, 1);\r\n\t\t//vertical blur\r\n\t\tbuf.blitScreenTriangle(blurTexture, downRenderTexture, null, shader, shaderValue, 2);\r\n\r\n\t\t//\u8BBE\u7F6E\u5168\u5C40uniform\u53D8\u91CF  \r\n\t\tvar globalUniformNameID: number = Laya.Shader3D.propertyNameToID(\"u_screenTexture\");\r\n\t\tbuf.setGlobalTexture(globalUniformNameID, downRenderTexture);\r\n\t\t//\u5C06commandBuffer\u52A0\u5165\u6E32\u67D3\u6D41\u7A0B\r\n\t\tcamera.addCommandBuffer(Laya.CameraEventFlags.BeforeTransparent, buf);\r\n\t\t//\u56DE\u6536\u7528\u8FC7\u7684RenderTexture\r\n\t\tLaya.RenderTexture.recoverToPool(downRenderTexture);\r\n\t\tLaya.RenderTexture.recoverToPool(blurTexture);\r\n\t\treturn;\r\n\t}\r\n}", "#define SHADER_NAME DepthTextureTestVS\r\n\r\n#include \"Color.glsl\";\r\n\r\n#include \"Scene.glsl\";\r\n#include \"Camera.glsl\";\r\n#include \"Sprite3DVertex.glsl\";\r\n\r\n#include \"VertexCommon.glsl\";\r\n\r\nvarying vec2 v_Texcoord0;\r\nvoid main() {\r\n    Vertex vertex;\r\n    getVertexParams(vertex);\r\n\r\n    v_Texcoord0 = vertex.texCoord0;\r\n    mat4 worldMat = getWorldMatrix();\r\n    vec3 PositionWS = (worldMat * vec4(vertex.positionOS, 1.0)).xyz;\r\n\r\n    gl_Position = getPositionCS(PositionWS);\r\n    gl_Position=remapPositionZ(gl_Position);\r\n}", "#define SHADER_NAME DepthTextureTestFS\r\n#include \"Camera.glsl\";\r\n#include \"DepthNormalUtil.glsl\";\r\n\r\n\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main(){\r\n    vec4 col;\r\n    vec2 uv = vec2(v_Texcoord0.x,v_Texcoord0.y);\r\n    float depth = SAMPLE_DEPTH_TEXTURE(u_CameraDepthTexture, uv);\r\n    depth =Linear01Depth(depth,u_ZBufferParams);\r\n    col = vec4(depth,depth,depth,1.0);\r\n    gl_FragColor = col;\r\n}", "import DepthVS from \"../DepthNormalShader/DepthTextureTest.vs\";\r\nimport DepthFS from \"../DepthNormalShader/DepthTextureTest.fs\";\r\n\r\nexport class DepthMaterial extends Laya.Material{\r\n    /**\r\n     * init\r\n     */\r\n    static init(){\r\n\r\n        var shader:Laya.Shader3D = Laya.Shader3D.add(\"DepthShader\");\r\n        var subShader:Laya.SubShader = new Laya.SubShader(Laya.SubShader.DefaultAttributeMap);\r\n        shader.addSubShader(subShader);\r\n        subShader.addShaderPass(DepthVS,DepthFS,\"Forward\");\r\n    }\r\n\r\n    /**\r\n     * constuctor\r\n     */\r\n    constructor(){\r\n        super();\r\n        this.setShaderName(\"DepthShader\");\r\n        this.renderModeSet();\r\n    }\r\n\r\n     /**\r\n      * render mode set\r\n      */\r\n     renderModeSet(){\r\n        this.alphaTest = false;//\u6DF1\u5EA6\u6D4B\u8BD5\u5173\u95ED\r\n        this.renderQueue = Laya.Material.RENDERQUEUE_OPAQUE;//\u6E32\u67D3\u987A\u5E8F\u653E\u5728\u540E\u9762\r\n        this.depthWrite = true;\r\n        this.cull = Laya.RenderState.CULL_BACK;\r\n        this.blend = Laya.RenderState.BLEND_DISABLE;\r\n        this.depthTest = Laya.RenderState.DEPTHTEST_LESS;\r\n    }\r\n}", "#define SHADER_NAME DepthNormalTextureTestVS\r\n#include \"Lighting.glsl\";\r\n#include \"Color.glsl\";\r\n\r\n#include \"Scene.glsl\";\r\n#include \"Camera.glsl\";\r\n#include \"Sprite3DVertex.glsl\";\r\n\r\n#include \"VertexCommon.glsl\";\r\n\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main() {\r\n   Vertex vertex;\r\n    getVertexParams(vertex);\r\n\r\n    v_Texcoord0 = vertex.texCoord0;\r\n    mat4 worldMat = getWorldMatrix();\r\n    vec3 PositionWS = (worldMat * vec4(vertex.positionOS, 1.0)).xyz;\r\n\r\n    gl_Position = getPositionCS(PositionWS);\r\n    gl_Position=remapPositionZ(gl_Position);\r\n}", "#define SHADER_NAME DepthNormalTextureTestFS\r\n#include \"Camera.glsl\";\r\n#include \"DepthNormalUtil.glsl\";\r\n\r\n\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main(){\r\n    vec2 uv = vec2(v_Texcoord0.x,v_Texcoord0.y);\r\n    vec4 col = texture2D(u_CameraDepthNormalsTexture,uv);\r\n    vec3 normals;\r\n    float depth;\r\n    DecodeDepthNormal(col,depth,normals);\r\n    col = vec4(normals,1.0);\r\n    gl_FragColor = col;\r\n}", "import DepthNormalVS from \"../DepthNormalShader/DepthNormalsTextureTest.vs\";\r\nimport DepthNormalFS from \"../DepthNormalShader/DepthNormalsTextureTest.fs\";\r\n\r\n\r\nexport class DepthNormalsMaterial extends Laya.Material{\r\n    static init(){\r\n        var shader:Laya.Shader3D = Laya.Shader3D.add(\"DepthNormalShader\",false,false);\r\n        var subShader:Laya.SubShader = new Laya.SubShader(Laya.SubShader.DefaultAttributeMap);\r\n        shader.addSubShader(subShader);\r\n        subShader.addShaderPass(DepthNormalVS,DepthNormalFS,\"Forward\");\r\n    }\r\n\r\n    constructor(){\r\n        super();\r\n        this.setShaderName(\"DepthNormalShader\");\r\n        this.renderModeSet();\r\n    }\r\n\r\n     //\u6E32\u67D3\u6A21\u5F0F\r\n     renderModeSet(){\r\n        this.alphaTest = false;//\u6DF1\u5EA6\u6D4B\u8BD5\u5173\u95ED\r\n        this.renderQueue = Laya.Material.RENDERQUEUE_OPAQUE;//\u6E32\u67D3\u987A\u5E8F\u653E\u5728\u540E\u9762\r\n        this.depthWrite = true;\r\n        this.cull = Laya.RenderState.CULL_BACK;\r\n        this.blend = Laya.RenderState.BLEND_DISABLE;\r\n        this.depthTest = Laya.RenderState.DEPTHTEST_LESS;\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport { DepthMaterial } from \"./DepthNormalShader/DepthMaterial\";\r\nimport { DepthNormalsMaterial } from \"./DepthNormalShader/DepthNormalsMaterial\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('1vyVGaenSNeEMVCvgBLDhA')\r\nexport class CameraDepthModeTextureDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private depthPlane: Laya.MeshSprite3D;\r\n    private depthNormalPlane: Laya.MeshSprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tDepthMaterial.init();\r\n        DepthNormalsMaterial.init();\r\n\r\n        this.scene.ambientColor = new Laya.Color(0.858, 0.858, 0.858);\r\n\r\n        this.depthNormalPlane = this.scene.getChildByName(\"depthNormalPlane\") as Laya.MeshSprite3D;\r\n        this.depthPlane = this.scene.getChildByName(\"depthNormalPlane1\") as Laya.MeshSprite3D;\r\n        this.depthPlane.transform.position = new Vector3(-11.12226, 11.76791, 11.90175);\r\n        this.depthNormalPlane.transform.position = new Vector3(-6.32228, 11.76791, 11.90175);\r\n\r\n\r\n        var camera = this.camera;\r\n        camera.transform.position = new Vector3(-13.6097, 8.84349, 3.01193);\r\n        camera.depthTextureMode |= Laya.DepthTextureMode.Depth;\r\n        this.depthPlane.getComponent(Laya.MeshRenderer).sharedMaterial = new DepthMaterial();\r\n        \r\n        camera.depthTextureMode |= Laya.DepthTextureMode.DepthNormals;\r\n        this.depthNormalPlane.getComponent(Laya.MeshRenderer).sharedMaterial = new DepthNormalsMaterial();\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Camera = Laya.Camera;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('eiGRrFkNSjSqn3cU7q18Yg')\r\nexport class CameraInteraction extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate keyboard: Laya.Box;\r\n\tprivate joystick: Laya.Box;\r\n\tprivate isQuaternion: boolean;\r\n\tprivate isEuler: boolean;\r\n\tprivate isMatrix: boolean;\r\n\tprivate leftJoyStick: Laya.Box;\r\n\tprivate rightJoyStick: Laya.Box;\r\n\tprivate switchBtn: Laya.Button;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera, false);\r\n\r\n        this.keyboard = new Laya.Box();  // \u6309\u952E\r\n        this.joystick = new Laya.Box(); // \u6447\u6746\r\n\r\n        this.isQuaternion = true;\r\n        this.isEuler = false;\r\n        this.isMatrix = false;\r\n\r\n\t\t//\u9884\u52A0\u8F7D\u8D44\u6E90\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/scene/CourtyardScene/Courtyard.ls\").then((res)=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t});\r\n    }\r\n\r\n    onComplete(res:any){\r\n        // \u52A0\u8F7D3D\u573A\u666F\r\n        var scene3D = res.create() as Laya.Scene3D;\r\n        this.scene.addChild(scene3D);\r\n        // \u6DFB\u52A0\u6444\u50CF\u673A\r\n        this.camera.transform.position = new Laya.Vector3(57, 2.5, 58);\r\n        this.camera.transform.rotationEuler = new Laya.Vector3(-10, 150, 0);\r\n        // \u6DFB\u52A0\u63A7\u5236\u76F8\u673A\u7684\u7EC4\u4EF6\r\n        this.camera.addComponent(CameraMoveQuaternion);\r\n        this.camera.addComponent(CameraMoveEuler);\r\n        this.camera.addComponent(CameraMoveMatrix);\r\n        this.camera.getComponent(CameraMoveQuaternion).enabled = this.isQuaternion;\r\n        this.camera.getComponent(CameraMoveEuler).enabled = this.isEuler;\r\n        this.camera.getComponent(CameraMoveMatrix).enabled = this.isMatrix;\r\n        //\u6DFB\u52A0\u65B9\u5411\u5149\r\n        this.directionLight.getComponent(Laya.DirectionLightCom).color = new Laya.Color(0.6, 0.6, 0.6);\r\n        this.directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));\r\n        // \u6DFB\u52A0ui\r\n        /*\r\n         * \u6309\u952E\u90E8\u5206ui\r\n        */\r\n        this.keyboard.addComponent(KeyBoard);\r\n        this.keyboard.width = 400;\r\n        this.keyboard.height = 300;\r\n        this.keyboard.left = 20;\r\n        this.keyboard.bottom = 20;\r\n        this.keyboard.scale(0.5,0.5);\r\n        var q = new Laya.Sprite();\r\n        var w = new Laya.Sprite();\r\n        var e = new Laya.Sprite();\r\n        var a = new Laya.Sprite();\r\n        var s = new Laya.Sprite();\r\n        var d = new Laya.Sprite();\r\n        this.keyboard.addChild(q);\r\n        this.keyboard.addChild(w);\r\n        this.keyboard.addChild(e);\r\n        this.keyboard.addChild(a);\r\n        this.keyboard.addChild(s);\r\n        this.keyboard.addChild(d);\r\n        q.loadImage(\"resources/res/threeDimen/CameraInteraction/q.png\");\r\n        q.pos(0, 30);\r\n        q.name = \"q\";\r\n\r\n        w.loadImage(\"resources/res/threeDimen/CameraInteraction/w.png\");\r\n        w.pos(110, 30);\r\n        w.name = \"w\";\r\n\r\n        e.loadImage(\"resources/res/threeDimen/CameraInteraction/e.png\");\r\n        e.pos(220, 30);\r\n        e.name = \"e\";\r\n\r\n        a.loadImage(\"resources/res/threeDimen/CameraInteraction/a.png\");\r\n        a.pos(0, 140);\r\n        a.name = \"a\";\r\n\r\n        s.loadImage(\"resources/res/threeDimen/CameraInteraction/s.png\");\r\n        s.pos(110, 140);\r\n        s.name = \"s\";\r\n\r\n        d.loadImage(\"resources/res/threeDimen/CameraInteraction/d.png\");\r\n        d.pos(220, 140);\r\n        d.name = \"d\";\r\n        this.owner.addChild(this.keyboard);\r\n        /**\r\n         * \u6447\u6746\u90E8\u5206ui\r\n         */\r\n        this.joystick.left = 0;\r\n        this.joystick.right = 0;\r\n        this.joystick.top = 0;\r\n        this.joystick.bottom = 0;\r\n        this.leftJoyStick = new Laya.Box();\r\n        this.joystick.addChild(this.leftJoyStick);\r\n        this.leftJoyStick.name = \"leftJoyStick\";\r\n        this.leftJoyStick.addComponent(JoyStick);\r\n        this.leftJoyStick.width = 215;\r\n        this.leftJoyStick.height = 215;\r\n        this.leftJoyStick.left = 50;\r\n        this.leftJoyStick.bottom = 50;\r\n        // \u5DE6\u6447\u6746\r\n        var bg: Laya.Sprite = new Laya.Sprite();\r\n        this.leftJoyStick.addChild(bg);\r\n        bg.loadImage(\"resources/res/threeDimen/CameraInteraction/joystick_bg.png\");\r\n        bg.width = 215;\r\n        bg.height = 215;\r\n        bg.name = \"bg\";\r\n        // bg.left = 0;\r\n        // bg.bottom = 0;\r\n\r\n        var axis =  new Laya.Sprite();\r\n        this.leftJoyStick.addChild(axis);\r\n        axis.loadImage(\"resources/res/threeDimen/CameraInteraction/joystick_axis.png\");\r\n        axis.width = 78;\r\n        axis.height = 78;\r\n        axis.name = \"axis\";\r\n        axis.pos(70, 70);\r\n        // \u53F3\u6447\u6746\r\n        this.rightJoyStick = new Laya.Box();\r\n        this.joystick.addChild(this.rightJoyStick);\r\n        this.rightJoyStick.name = \"rightJoyStick\";\r\n        this.rightJoyStick.addComponent(JoyStick);\r\n        this.rightJoyStick.width = 215;\r\n        this.rightJoyStick.height = 215;\r\n        this.rightJoyStick.right = 50;\r\n        this.rightJoyStick.bottom = 50;\r\n        var bg = new Laya.Sprite();\r\n        this.rightJoyStick.addChild(bg);\r\n        bg.loadImage(\"resources/res/threeDimen/CameraInteraction/joystick_bg.png\");\r\n        bg.width = 215;\r\n        bg.height = 215;\r\n        bg.name = \"bg\";\r\n        // bg.left = 0;\r\n        // bg.bottom = 0;\r\n\r\n        var axis =  new Laya.Sprite();\r\n        this.rightJoyStick.addChild(axis);\r\n        axis.loadImage(\"resources/res/threeDimen/CameraInteraction/joystick_axis.png\");\r\n        axis.width = 78;\r\n        axis.height = 78;\r\n        axis.name = \"axis\";\r\n        axis.pos(70, 70);\r\n        this.owner.addChild(this.joystick);\r\n\r\n        // \u83B7\u53D6\u5DE6\u53F3\u6447\u6746\r\n        this.camera.getComponent(CameraMoveQuaternion).moveRocker = this.leftJoyStick.getComponent(JoyStick);\r\n        this.camera.getComponent(CameraMoveQuaternion).rotationRocker = this.rightJoyStick.getComponent(JoyStick);\r\n        \r\n        this.camera.getComponent(CameraMoveEuler).moveRocker = this.leftJoyStick.getComponent(JoyStick);\r\n        this.camera.getComponent(CameraMoveEuler).rotationRocker = this.rightJoyStick.getComponent(JoyStick);\r\n\r\n        this.camera.getComponent(CameraMoveMatrix).moveRocker = this.leftJoyStick.getComponent(JoyStick);\r\n        this.camera.getComponent(CameraMoveMatrix).rotationRocker = this.rightJoyStick.getComponent(JoyStick);\r\n\r\n        // \u5207\u6362\u6309\u94AE\r\n        this.switchBtn = this.owner.addChild(new Laya.Button(\"resources/image/img_btn_bg.png\", \"\u5207\u6362\u5230\u6B27\u62C9\u89D2\u53D8\u6362\u6A21\u5F0F\")) as Laya.Button;\r\n        this.switchBtn.size(300, 30);\r\n        this.switchBtn.labelSize = 16;\r\n        this.switchBtn.sizeGrid = \"21,83,22,76\";\r\n        this.switchBtn.stateNum = 1;\r\n        this.switchBtn.labelColors = \"#ffffff\";\r\n        this.switchBtn.pos(this.pageWidth / 2 - this.switchBtn.width / 2, 10);\r\n        this.switchBtn.on(Laya.Event.CLICK, this, this.switchScript);\r\n\r\n        if (Laya.Browser.onPC) {\r\n            // pc\u6D4F\u89C8\u5668\u4F7F\u7528\u6309\u952E\u6A21\u5F0F\r\n            this.keyboard.visible = true;\r\n            this.joystick.visible = false;\r\n            // \u63D0\u793A\u6587\u5B57\r\n            var text = new Laya.Label();\r\n            text.pos(this.pageWidth / 2 - this.switchBtn.width / 2 , 60)\r\n            text.overflow = Laya.Text.HIDDEN;\r\n            text.color = \"#ea4335\";\r\n            text.font = \"Impact\";\r\n            text.fontSize = 20;\r\n            text.borderColor = \"#ea4335\";\r\n            text.text = \"\u6447\u6746\u6A21\u5F0F\u8BF7\u626B\u4E8C\u7EF4\u7801\u9884\u89C8\uFF01\";\r\n            this.owner.addChild(text);\r\n        }else{\r\n            this.keyboard.visible = false;\r\n            this.joystick.visible = true;\r\n        }\r\n    }\r\n    switchScript(){\r\n        if (this.isQuaternion) {\r\n            // \u56DB\u5143\u6570 -> \u6B27\u62C9\u89D2\r\n            this.isEuler = true;\r\n            this.isQuaternion = false;\r\n            this.isMatrix = false;\r\n            this.camera.getComponent(CameraMoveQuaternion).enabled = this.isQuaternion;\r\n            this.camera.getComponent(CameraMoveEuler).enabled = this.isEuler;\r\n            this.camera.getComponent(CameraMoveMatrix).enabled = this.isMatrix;\r\n            this.switchBtn.label = \"\u5207\u6362\u5230\u77E9\u9635\u53D8\u6362\u6A21\u5F0F\";\r\n       }else if (this.isEuler) {\r\n            // \u6B27\u62C9\u89D2 -> \u77E9\u9635\r\n            this.isEuler = false;\r\n            this.isQuaternion = false;\r\n            this.isMatrix = true;\r\n            this.camera.getComponent(CameraMoveQuaternion).enabled = this.isQuaternion;\r\n            this.camera.getComponent(CameraMoveEuler).enabled = this.isEuler;\r\n            this.camera.getComponent(CameraMoveMatrix).enabled = this.isMatrix;\r\n            this.switchBtn.label = \"\u5207\u6362\u5230\u56DB\u5143\u6570\u53D8\u6362\u6A21\u5F0F\";\r\n       }else if (this.isMatrix) {\r\n            // \u77E9\u9635 -> \u56DB\u5143\u6570\r\n            this.isEuler = false;\r\n            this.isQuaternion = true;\r\n            this.isMatrix = false;\r\n            this.camera.getComponent(CameraMoveQuaternion).enabled = this.isQuaternion;\r\n            this.camera.getComponent(CameraMoveEuler).enabled = this.isEuler;\r\n            this.camera.getComponent(CameraMoveMatrix).enabled = this.isMatrix;\r\n            this.switchBtn.label = \"\u5207\u6362\u5230\u6B27\u62C9\u89D2\u53D8\u6362\u6A21\u5F0F\";\r\n       }\r\n    }\r\n \r\n}\r\n\r\nexport class KeyBoard extends Laya.Script {\r\n    private w: Laya.Sprite; // \u952E\u76D8\u6309\u952Ew\r\n    private a: Laya.Sprite; // \u952E\u76D8\u6309\u952Ea\r\n    private s: Laya.Sprite; // \u952E\u76D8\u6309\u952Es\r\n    private d: Laya.Sprite; // \u952E\u76D8\u6309\u952Ed\r\n    private q: Laya.Sprite; // \u952E\u76D8\u6309\u952Eq\r\n    private e: Laya.Sprite; // \u952E\u76D8\u6309\u952Ee\r\n    constructor(){\r\n        super();\r\n    }\r\n    onEnable(){\r\n        this.w = this.owner.getChildByName(\"w\") as Laya.Sprite;\r\n        this.a = this.owner.getChildByName(\"a\") as Laya.Sprite;\r\n        this.s = this.owner.getChildByName(\"s\") as Laya.Sprite;\r\n        this.d = this.owner.getChildByName(\"d\") as Laya.Sprite;\r\n        this.q = this.owner.getChildByName(\"q\") as Laya.Sprite;\r\n        this.e = this.owner.getChildByName(\"e\") as Laya.Sprite;\r\n        //\u6DFB\u52A0\u952E\u76D8\u6309\u4E0B\u4E8B\u4EF6,\u4E00\u76F4\u6309\u7740\u67D0\u6309\u952E\u5219\u4F1A\u4E0D\u65AD\u89E6\u53D1\r\n\t\tLaya.stage.on(Event.KEY_DOWN, this, this.onKeyDown);\r\n\t\t//\u6DFB\u52A0\u952E\u76D8\u62AC\u8D77\u4E8B\u4EF6\r\n\t\tLaya.stage.on(Event.KEY_UP, this, this.onKeyUp);\r\n    }\r\n\r\n    onKeyDown(e:any): void{\r\n        switch (e.keyCode) {\r\n            case 87://W\r\n            case 38:\r\n                this.w.visible = false;\r\n                break;\r\n            case 65://A\r\n            case 37:\r\n                this.a.visible = false;\r\n                break;\r\n            case 69://E\r\n                this.e.visible = false;\r\n                break;\r\n            case 81://Q\r\n                this.q.visible = false; \r\n                break;\r\n            case 83://S\r\n            case 40:\r\n                this.s.visible = false;\r\n                break;\r\n            case 68://D\r\n            case 39:\r\n                this.d.visible = false;\r\n                break;\r\n        }\r\n    }\r\n\r\n    onKeyUp(): void{\r\n        //\u91CD\u7F6E\u952E\u76D8\u9690\u85CF\r\n        this.w.visible = true;\r\n        this.a.visible = true;\r\n        this.s.visible = true;\r\n        this.d.visible = true;\r\n        this.q.visible = true;\r\n        this.e.visible = true;\r\n    }\r\n\r\n    onDisable(){\r\n    }\r\n}\r\n\r\nexport class JoyStick extends Laya.Script {\r\n    // \u6447\u6746\r\n    private RockerPad: Laya.Sprite;\r\n    // \u8F74\u8282\u70B9\r\n    private Rocker: Laya.Sprite;\r\n    // \u6447\u6746\u4E2D\u5FC3\u5750\u6807\r\n    private centerX: number = 0;\r\n    private centerY: number = 0;\r\n    // \u662F\u5426\u79FB\u52A8\r\n    private isMoving: boolean = false;\r\n    private touchId: number = 0;    // \u89E6\u6478\u70B9\u6807\u8BC6\r\n    public angle: number = -1;    // \u89D2\u5EA6\r\n    public radians: number = -1;  // \u5F27\u5EA6\r\n    // \u6447\u6746\u8F74\u5FC3\u6700\u5927\u8DDD\u79BB\r\n    private maxDistance: number = 0;\r\n    private maxDistanceSpr: number = 0;\r\n    // \u4F4D\u79FB\r\n    public deltaX: number = 0;\r\n    public deltaY: number = 0;\r\n    // \u7528\u6765\u8BA1\u7B97\u4F4D\u79FB\u4E0E\u8F74\u8282\u70B9\u4F4D\u7F6E\r\n    private tempV2_1: Laya.Point = new Laya.Point(0, 0);\r\n    private tempV2_2: Laya.Point = new Laya.Point(0, 0);\r\n\r\n    constructor() { \r\n        super(); \r\n    }\r\n\r\n    onAwake() {\r\n        this.RockerPad = this.owner as Laya.Sprite; // \u6447\u6746\r\n        this.Rocker = this.RockerPad.getChildByName(\"axis\") as Laya.Sprite; // \u8F74\u8282\u70B9\r\n\r\n        this.centerX = this.Rocker.x;   // \u8F74\u8282\u70B9\u521D\u59CB\u4F4D\u7F6E\r\n        this.centerY = this.Rocker.y;\r\n\r\n        !this.maxDistance && (this.maxDistance = (this.RockerPad.width - this.Rocker.width) / 2);   // \u534A\u5F84\u5DEE\r\n        this.maxDistanceSpr = this.maxDistance * this.maxDistance;  // \u6700\u5927\u8DDD\u79BB\r\n    }\r\n\r\n    onEnable(){\r\n        // \u6CE8\u518C\u76D1\u542C\r\n        this.owner.parent.on(Laya.Event.MOUSE_DOWN, this, this.MouseDown);\r\n        this.owner.parent.on(Laya.Event.MOUSE_UP, this, this.MouseUp);\r\n        this.owner.parent.on(Laya.Event.MOUSE_MOVE, this, this.MouseMove);\r\n    }\r\n\r\n    MouseDown(e:any): void{\r\n        e.stopPropagation();\r\n        if (e.target.mouseX > this.RockerPad.x &&\r\n            e.target.mouseX < this.RockerPad.x + this.RockerPad.width &&\r\n            e.target.mouseY > this.RockerPad.y &&\r\n            e.target.mouseY < this.RockerPad.y + this.RockerPad.height) {\r\n            // \u6447\u6746\u4EA7\u751F\u4E86\u4F4D\u79FB\u4E14\u672A\u8D85\u51FA\u6447\u6746\u8303\u56F4\r\n            this.isMoving = true;\r\n            this.touchId = e.touchId;\r\n        }\r\n    }\r\n\r\n    MouseUp(e:any): void{\r\n        e.stopPropagation();\r\n        if (e.touchId != this.touchId) {\r\n            return;\r\n        }\r\n        // \u91CD\u8BBE\u6807\u5FD7\u4F4D\r\n        this.isMoving = false;\r\n        // \u91CD\u7F6E\u8F74\u8282\u70B9\u4F4D\u7F6E\r\n        this.Rocker.pos(this.centerX, this.centerY);\r\n        // \u91CD\u7F6E\r\n        this.radians = this.angle = -1;\r\n    }\r\n\r\n    MouseMove(e:any): void{\r\n        e.stopPropagation();\r\n        if (e.touchId != this.touchId) {\r\n            return;\r\n        }\r\n        if (this.isMoving) {\r\n            // \u4EA7\u751F\u4E86\u4F4D\u79FB\r\n            this.tempV2_1.x = e.target.mouseX;\r\n            this.tempV2_1.y = e.target.mouseY;\r\n            // \u5750\u6807\u8F6C\u6362\r\n            this.tempV2_2 = this.RockerPad.globalToLocal(this.tempV2_1, false);\r\n\r\n            // \u66F4\u65B0\u63A7\u5236\u70B9\u4E0E\u6447\u6746\u4E2D\u5FC3\u70B9\u4F4D\u7F6E\u8DDD\u79BB\r\n            this.deltaX = this.tempV2_2.x - this.centerX;\r\n            this.deltaY = this.tempV2_2.y - this.centerY;\r\n\r\n            // \u8BA1\u7B97\u63A7\u5236\u70B9\u5728\u6447\u6746\u4E2D\u7684\u89D2\u5EA6\r\n            this.angle = Math.atan2(this.deltaX, this.deltaY) * 180 / Math.PI;\r\n            if (this.angle < 0) {\r\n                this.angle += 360;\r\n            }\r\n            // \u89D2\u5EA6/\u5F27\u5EA6\u8F6C\u6362\r\n            this.angle = Math.round(this.angle);\r\n            this.radians = Math.PI / 180 * this.angle;\r\n            var distanceSqr = this.getDistanceSqr(this.centerX, this.centerY, this.tempV2_2.x, this.tempV2_2.y);    // \u5F53\u524D\u4F4D\u7F6E\u4E0E\u521D\u59CB\u4F4D\u7F6E\u7684\u8DDD\u79BB\r\n            if (distanceSqr > this.maxDistanceSpr) {\r\n                // \u6447\u6746\u8FB9\u7F18\u4F4D\u7F6E\r\n                var x = Math.floor(Math.sin(this.radians) * this.maxDistance + this.centerX);\r\n                var y = Math.floor(Math.cos(this.radians) * this.maxDistance + this.centerY);\r\n                this.Rocker.pos(x, y);\r\n            }\r\n            else {\r\n                // \u5728\u6447\u6746\u4E0E\u8F74\u8282\u70B9\u4E4B\u95F4\u7684\u8303\u56F4\u5185\uFF0C\u66F4\u65B0\u4F4D\u7F6E\r\n                this.Rocker.pos(this.tempV2_2.x, this.tempV2_2.y);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    onDisable(){\r\n        this.owner.parent.off(Laya.Event.MOUSE_DOWN, this, this.MouseDown);\r\n        this.owner.parent.off(Laya.Event.MOUSE_UP, this, this.MouseUp);\r\n        this.owner.parent.off(Laya.Event.MOUSE_MOVE, this, this.MouseMove);\r\n    }\r\n\r\n    getDistanceSqr(centerX: number, centerY: number, mouseX: number, mouseY: number): number{\r\n        var dx = centerX - mouseX;\r\n        var dy = centerY - mouseY;\r\n        var distance = dx * dx + dy * dy;\r\n        return distance; \r\n    }\r\n}\r\n\r\nexport class CameraMoveEuler extends Laya.Script {\r\n    // \u79FB\u52A8\u6447\u6746\r\n    public moveRocker: JoyStick;\r\n    // \u6444\u50CF\u673A\u6447\u6746\r\n    public rotationRocker: JoyStick;\r\n    // \u6444\u50CF\u673A\r\n    private camera: Laya.Camera;\r\n    // \u4F4D\u79FB\u5411\u91CF\r\n    private _tempVector3: Laya.Vector3 = new Laya.Vector3();\r\n    // \u65CB\u8F6C\u89D2\u5EA6\r\n    private yawPitchRoll: Laya.Vector3 = new Laya.Vector3();\r\n    // \u6309\u952E\u4E0B\u7684\u65CB\u8F6C\u901F\u5EA6\r\n    private rotaionSpeed: number = 0.004;\r\n    // \u6447\u6746\u4E0B\u7684\u65CB\u8F6C\u901F\u5EA6\r\n    private rockerRotationSpeed: number = 0.0005;\r\n    // \u79FB\u52A8\u901F\u5EA6\r\n    private moveSpeed: number = 0.0025;\r\n    // \u9F20\u6807\u4E0A\u4E2A\u4F4D\u7F6Ex\uFF0C\u7528\u6765\u8BA1\u7B97\u9F20\u6807\u7684\u4F4D\u79FB\r\n    private lastMouseX: number = 0;\r\n    // \u9F20\u6807\u4E0A\u4E2A\u4F4D\u7F6Ey\r\n    private lastMouseY: number = 0;\r\n    // \u662F\u5426\u6309\u4E0B\r\n    private isMouseDown: boolean = false;\r\n    constructor(){\r\n        super();\r\n        \r\n    }\r\n\tonEnable(){\r\n        // \u6CE8\u518C\u76D1\u542C\r\n\t\tLaya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n\t\tLaya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n        // \u83B7\u53D6\u5BF9\u8C61\r\n\t\tthis.camera = this.owner as Laya.Camera;\r\n\t}\r\n\r\n    onDisable() {\r\n        console.log(\"camera euler script is disable :\" + this.enabled);\r\n        //\u5173\u95ED\u76D1\u542C\u51FD\u6570\r\n        Laya.stage.off(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n    }\r\n    \r\n    onUpdate(): void{\r\n\t\tvar elapsedTime = Laya.timer.delta;\r\n        if (Laya.Browser.onPC) {\r\n            // \u6309\u952E\u6A21\u5F0F\r\n            if (!isNaN(this.lastMouseX) && !isNaN(this.lastMouseY)) {\r\n                Laya.InputManager.hasKeyDown(87) && this.moveForward(-0.01 * elapsedTime);//W\r\n                Laya.InputManager.hasKeyDown(83) && this.moveForward(0.01 * elapsedTime);//S\r\n                Laya.InputManager.hasKeyDown(65) && this.moveRight(-0.01 * elapsedTime);//A\r\n                Laya.InputManager.hasKeyDown(68) && this.moveRight(0.01 * elapsedTime);//D\r\n                Laya.InputManager.hasKeyDown(81) && this.moveVertical(0.01 * elapsedTime);//Q\r\n                Laya.InputManager.hasKeyDown(69) && this.moveVertical(-0.01 * elapsedTime);//E\r\n                if (this.isMouseDown) {\r\n                    var offsetX = Laya.stage.mouseX - this.lastMouseX;\r\n                    var offsetY = Laya.stage.mouseY - this.lastMouseY;\r\n                    \r\n                    // x\u3001y\u8F74\u7684\u6B27\u62C9\u89D2\u5EA6 X\u8F74\u5BF9\u5E94\u7684\u662F\u9F20\u6807\u4E0A\u4E0B\u7684\u79FB\u52A8offsetY y\u8F74\u5BF9\u5E94\u7684\u662F\u9F20\u6807\u5DE6\u53F3\u7684\u79FB\u52A8offsetX\r\n                    this.camera.transform.localRotationEulerX -= offsetY * this.rotaionSpeed * elapsedTime;\r\n                    this.camera.transform.localRotationEulerY -= offsetX * this.rotaionSpeed * elapsedTime;\r\n                    console.log(\"Use Euler Script!\");\r\n                }\r\n            }\r\n            // \u66F4\u65B0\u8BB0\u5F55\u7684\u4F4D\u7F6E\r\n            this.lastMouseX = Laya.stage.mouseX;\r\n            this.lastMouseY = Laya.stage.mouseY;\r\n        }else{\r\n            // \u6447\u6746\u6A21\u5F0F\r\n            // \u5DE6\u6447\u6746\u79FB\u52A8\u7684\u5904\u7406\r\n            if (this.moveRocker.angle != -1) {\r\n                // \u6447\u6746\u4EA7\u751F\u4E86\u64CD\u4F5C\r\n                var speedX = Math.sin(this.moveRocker.radians) * this.moveSpeed * elapsedTime;\r\n                var speedZ = Math.cos(this.moveRocker.radians) * this.moveSpeed * elapsedTime;\r\n                this._tempVector3.setValue(speedX, 0, speedZ);\r\n                this.camera.transform.translate(this._tempVector3, true);\r\n            }\r\n            // \u53F3\u6447\u6746\u79FB\u52A8\u7684\u5904\u7406\r\n            if (this.rotationRocker.angle != -1) {\r\n                // \u4F4D\u79FB\u91C7\u7528\u6447\u6746\u8BA1\u7B97\u5904\u7684\u4F4D\u79FB\r\n                var offsetX = this.rotationRocker.deltaX;\r\n                var offsetY = this.rotationRocker.deltaY;\r\n                \r\n                // x\u3001y\u8F74\u7684\u6B27\u62C9\u89D2\u5EA6 X\u8F74\u5BF9\u5E94\u7684\u662F\u9F20\u6807\u4E0A\u4E0B\u7684\u79FB\u52A8offsetY y\u8F74\u5BF9\u5E94\u7684\u662F\u9F20\u6807\u5DE6\u53F3\u7684\u79FB\u52A8offsetX\r\n                this.camera.transform.localRotationEulerX -= offsetY * this.rockerRotationSpeed * elapsedTime;\r\n                this.camera.transform.localRotationEulerY -= offsetX * this.rockerRotationSpeed * elapsedTime;\r\n                console.log(\"Use Euler Script!\");\r\n            }\r\n        }\r\n    }\r\n\r\n    mouseDown(e:any): void {\r\n        //\u83B7\u5F97\u9F20\u6807\u7684\u65CB\u8F6C\u503C\r\n        this.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);\r\n        //\u83B7\u5F97\u9F20\u6807\u7684xy\u503C\r\n        this.lastMouseX = Laya.stage.mouseX;\r\n        this.lastMouseY = Laya.stage.mouseY;\r\n        //\u8BBE\u7F6Ebool\u503C\r\n        this.isMouseDown = true;\r\n     \r\n    }\r\n    mouseUp(e:any):void {\r\n        //\u8BBE\u7F6Ebool\u503C\r\n        this.isMouseDown = false;\r\n    }\r\n    /**\r\n     * \u5411\u524D\u79FB\u52A8\u3002\r\n     */\r\n    moveForward(distance:any):void {\r\n        this._tempVector3.x = 0;\r\n        this._tempVector3.y = 0;\r\n        this._tempVector3.z = distance;\r\n        this.camera.transform.translate(this._tempVector3,true);\r\n    }\r\n    /**\r\n     * \u5411\u53F3\u79FB\u52A8\u3002\r\n     */\r\n    moveRight(distance:any):void {\r\n        this._tempVector3.y = 0;\r\n        this._tempVector3.z = 0;\r\n        this._tempVector3.x = distance;\r\n        this.camera.transform.translate(this._tempVector3,true);\r\n    }\r\n    /**\r\n     * \u5411\u4E0A\u79FB\u52A8\u3002\r\n     */\r\n    moveVertical(distance:any):void {\r\n        this._tempVector3.x = this._tempVector3.z = 0;\r\n        this._tempVector3.y = distance;\r\n        this.camera.transform.translate(this._tempVector3, false);\r\n    }\r\n}\r\n\r\nexport class CameraMoveQuaternion extends Laya.Script {\r\n    // \u79FB\u52A8\u6447\u6746\r\n    public moveRocker: JoyStick;\r\n    // \u6444\u50CF\u673A\u6447\u6746\r\n    public rotationRocker: JoyStick;\r\n    // \u79FB\u52A8\u5411\u91CF\r\n    private _tempVector3: Laya.Vector3 = new Laya.Vector3();\r\n    // \u6444\u50CF\u673A\u65CB\u8F6C\u89D2\u5EA6\r\n    private yawPitchRoll: Laya.Vector3 = new Laya.Vector3();\r\n    // \u6444\u50CF\u673A\u89D2\u5EA6\u56DB\u5143\u6570\r\n    private tempRotationZ: Laya.Quaternion = new Laya.Quaternion();\r\n    // \u6309\u952E\u4E0B\u7684\u65CB\u8F6C\u901F\u5EA6\r\n    private rotaionSpeed = 0.00012;\r\n    // \u6447\u6746\u4E0B\u7684\u65CB\u8F6C\u901F\u5EA6\r\n    private rockerRotationSpeed = 0.00001;\r\n    // \u79FB\u52A8\u901F\u5EA6\r\n    private moveSpeed = 0.0025;\r\n    // \u6444\u50CF\u673A\r\n    private camera: Laya.Camera;\r\n    // \u9F20\u6807\u4E0A\u4E2A\u4F4D\u7F6Ex\r\n    private lastMouseX: number = 0;\r\n    // \u9F20\u6807\u4E0A\u4E2A\u4F4D\u7F6Ey\r\n    private lastMouseY: number = 0;\r\n    // \u6309\u4E0B\r\n    private isMouseDown: boolean = false;\r\n    \r\n    constructor(){\r\n        super();\r\n    }\r\n\tonEnable(){\r\n        // \u6CE8\u518C\u76D1\u542C\r\n\t\tLaya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n\t\tLaya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n        // \u7ED1\u5B9A\u811A\u672C\r\n\t\tthis.camera = this.owner as Laya.Camera;\r\n\t}\r\n\r\n    onDisable() {\r\n        console.log(\"camera quaternion script is disable :\" + this.enabled);\r\n        //\u5173\u95ED\u76D1\u542C\u51FD\u6570\r\n        Laya.stage.off(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n    }\r\n    onUpdate(): void {\r\n\t\tvar elapsedTime = Laya.timer.delta;\r\n        if (Laya.Browser.onPC) {\r\n            // \u6309\u952E\u6A21\u5F0F\r\n            if (!isNaN(this.lastMouseX) && !isNaN(this.lastMouseY)) {\r\n                Laya.InputManager.hasKeyDown(87) && this.moveForward(-0.01 * elapsedTime);//W\r\n                Laya.InputManager.hasKeyDown(83) && this.moveForward(0.01 * elapsedTime);//S\r\n                Laya.InputManager.hasKeyDown(65) && this.moveRight(-0.01 * elapsedTime);//A\r\n                Laya.InputManager.hasKeyDown(68) && this.moveRight(0.01 * elapsedTime);//D\r\n                Laya.InputManager.hasKeyDown(81) && this.moveVertical(0.01 * elapsedTime);//Q\r\n                Laya.InputManager.hasKeyDown(69) && this.moveVertical(-0.01 * elapsedTime);//E\r\n                if (this.isMouseDown) {\r\n                    // \u6309\u4E0B\r\n                    var offsetX = Laya.stage.mouseX - this.lastMouseX;\r\n                    var offsetY = Laya.stage.mouseY - this.lastMouseY;\r\n\r\n                    var yprElem = this.yawPitchRoll;\r\n                    yprElem.x -= offsetX * this.rotaionSpeed * elapsedTime;\r\n                    yprElem.y -= offsetY * this.rotaionSpeed * elapsedTime;\r\n                    this.updateRotation();\r\n                    console.log(\"Use Quaternion Script!\");\r\n                }\r\n            }\r\n            // \u66F4\u65B0\u4F4D\u7F6E\r\n            this.lastMouseX = Laya.stage.mouseX;\r\n            this.lastMouseY = Laya.stage.mouseY;\r\n        }else{\r\n            // \u6447\u6746\u6A21\u5F0F\r\n            // \u5DE6\u6447\u6746\u79FB\u52A8\u7684\u5904\u7406\r\n            if (this.moveRocker.angle != -1) {\r\n                // \u6447\u6746\u4EA7\u751F\u4E86\u64CD\u4F5C\r\n                var speedX = Math.sin(this.moveRocker.radians) * this.moveSpeed * elapsedTime;\r\n                var speedZ = Math.cos(this.moveRocker.radians) * this.moveSpeed * elapsedTime;\r\n                this._tempVector3.setValue(speedX, 0, speedZ);\r\n                this.camera.transform.translate(this._tempVector3, true);\r\n            }\r\n            // \u53F3\u6447\u6746\u79FB\u52A8\u7684\u5904\u7406\r\n            if (this.rotationRocker.angle != -1) {\r\n                // \u4F7F\u7528\u6447\u6746\u7EC4\u4EF6\u5185\u8BA1\u7B97\u5F97\u5230\u7684\u4F4D\u79FB\r\n                var offsetX = this.rotationRocker.deltaX;\r\n                var offsetY = this.rotationRocker.deltaY;\r\n                    \r\n                var yprElem = this.yawPitchRoll;\r\n                yprElem.x -= offsetX * this.rockerRotationSpeed * elapsedTime;\r\n                yprElem.y -= offsetY * this.rockerRotationSpeed * elapsedTime;\r\n                this.updateRotation();\r\n                console.log(\"Use Quaternion Script!\");\r\n            }\r\n        }\r\n    }\r\n\r\n    mouseDown(e:any): void{\r\n        //\u83B7\u5F97\u9F20\u6807\u7684\u65CB\u8F6C\u503C\r\n        this.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);\r\n        //\u83B7\u5F97\u9F20\u6807\u7684xy\u503C\r\n        this.lastMouseX = Laya.stage.mouseX;\r\n        this.lastMouseY = Laya.stage.mouseY;\r\n        //\u8BBE\u7F6Ebool\u503C\r\n        this.isMouseDown = true;\r\n     \r\n    }\r\n    mouseUp(e:any): void{\r\n        //\u8BBE\u7F6Ebool\u503C\r\n        this.isMouseDown = false;\r\n    }\r\n    /**\r\n     * \u5411\u524D\u79FB\u52A8\u3002\r\n     */\r\n    moveForward(distance:any): void{\r\n        this._tempVector3.x = 0;\r\n        this._tempVector3.y = 0;\r\n        this._tempVector3.z = distance;\r\n        this.camera.transform.translate(this._tempVector3,true);\r\n    }\r\n    /**\r\n     * \u5411\u53F3\u79FB\u52A8\u3002\r\n     */\r\n    moveRight(distance:any): void{\r\n        this._tempVector3.y = 0;\r\n        this._tempVector3.z = 0;\r\n        this._tempVector3.x = distance;\r\n        this.camera.transform.translate(this._tempVector3,true);\r\n    }\r\n    /**\r\n     * \u5411\u4E0A\u79FB\u52A8\u3002\r\n     */\r\n    moveVertical(distance:any): void{\r\n        this._tempVector3.x = this._tempVector3.z = 0;\r\n        this._tempVector3.y = distance;\r\n        this.camera.transform.translate(this._tempVector3, false);\r\n    }\r\n    /**\r\n     * \u57FA\u4E8E\u4FEF\u4EF0\u89D2\u8F6C\u6362\u4E3A\u56DB\u5143\u6570\u7684\u65CB\u8F6C\r\n     */\r\n    updateRotation(): void{\r\n        if (Math.abs(this.yawPitchRoll.y) < 1.50) {\r\n            Laya.Quaternion.createFromYawPitchRoll(this.yawPitchRoll.x, this.yawPitchRoll.y, this.yawPitchRoll.z, this.tempRotationZ);\r\n            this.tempRotationZ.cloneTo(this.camera.transform.localRotation);\r\n            this.camera.transform.localRotation = this.camera.transform.localRotation;\r\n        }\r\n    }\r\n}\r\n\r\nexport class CameraMoveMatrix extends Laya.Script {\r\n    // \u79FB\u52A8\u6447\u6746\r\n    public moveRocker: JoyStick;\r\n    // \u65CB\u8F6C\u6447\u6746\r\n    public rotationRocker: JoyStick;\r\n    // \u4F4D\u79FB\r\n    private _tempVector3: Laya.Vector3 = new Laya.Vector3();\r\n    // \u5404\u8F74\u65CB\u8F6C\u89D2\u5EA6\r\n    private yawPitchRoll: Laya.Vector3 = new Laya.Vector3();\r\n    // \u65CB\u8F6C\u77E9\u9635\r\n    private rotateMatrix: Laya.Matrix4x4 = new Laya.Matrix4x4();\r\n    // \u6309\u952E\u65CB\u8F6C\u901F\u5EA6\r\n    private rotaionSpeed: number = 0.00012;\r\n    // \u6447\u6746\u65CB\u8F6C\u901F\u5EA6\r\n    private rockerRotationSpeed: number = 0.00001;\r\n    // \u79FB\u52A8\u901F\u5EA6\r\n    private moveSpeed: number = 0.0025;\r\n    // \u9F20\u6807\u4E0A\u4E2A\u4F4D\u7F6Ex\uFF0C\u4F4D\u79FB\u8BA1\u7B97\r\n    private lastMouseX: number = 0;\r\n    // \u9F20\u6807\u4E0A\u4E2A\u4F4D\u7F6Ey\r\n    private lastMouseY: number = 0;\r\n    // \u662F\u5426\u6309\u4E0B\r\n    private isMouseDown: boolean = false;\r\n    // \u6444\u50CF\u673A\r\n    private camera: Laya.Camera;\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n\tonEnable(){\r\n        // \u6CE8\u518C\u76D1\u542C\r\n\t\tLaya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n\t\tLaya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n        // \u7ED1\u5B9A\u811A\u672C\r\n\t\tthis.camera = this.owner as Laya.Camera;\r\n\t}\r\n\r\n    onDisable() {\r\n        console.log(\"camera matrix script is disable :\" + this.enabled);\r\n        //\u5173\u95ED\u76D1\u542C\u51FD\u6570\r\n        Laya.stage.off(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n    }\r\n    \r\n    onUpdate(): void{\r\n\t\tvar elapsedTime = Laya.timer.delta;\r\n        if (Laya.Browser.onPC) {\r\n            if (!isNaN(this.lastMouseX) && !isNaN(this.lastMouseY)) {\r\n                Laya.InputManager.hasKeyDown(87) && this.moveForward(-0.01 * elapsedTime);//W\r\n                Laya.InputManager.hasKeyDown(83) && this.moveForward(0.01 * elapsedTime);//S\r\n                Laya.InputManager.hasKeyDown(65) && this.moveRight(-0.01 * elapsedTime);//A\r\n                Laya.InputManager.hasKeyDown(68) && this.moveRight(0.01 * elapsedTime);//D\r\n                Laya.InputManager.hasKeyDown(81) && this.moveVertical(0.01 * elapsedTime);//Q\r\n                Laya.InputManager.hasKeyDown(69) && this.moveVertical(-0.01 * elapsedTime);//E\r\n    \r\n                if (this.isMouseDown) {\r\n                    var offsetX = Laya.stage.mouseX - this.lastMouseX;\r\n                    var offsetY = Laya.stage.mouseY - this.lastMouseY;\r\n                    \r\n                    var yprElem = this.yawPitchRoll;\r\n                    yprElem.x -= offsetX * this.rotaionSpeed * elapsedTime;\r\n                    yprElem.y -= offsetY * this.rotaionSpeed * elapsedTime;\r\n                    // \u8981\u65CB\u8F6C\u7684\u6B27\u62C9\u89D2\u8F6C\u6362\u4E3A\u65CB\u8F6C\u77E9\u9635\r\n                    Laya.Matrix4x4.createRotationYawPitchRoll(yprElem.x, yprElem.y, yprElem.z, this.rotateMatrix);\r\n                    // \u5E73\u79FB\u77E9\u9635\r\n                    var moveMatrix = new Laya.Matrix4x4();\r\n                    // \u5E73\u79FB\u77E9\u9635\u8F6C\u6362\r\n                    Laya.Matrix4x4.createTranslate(new Laya.Vector3(this.camera.transform.position.x, this.camera.transform.position.y, this.camera.transform.position.z), moveMatrix);\r\n                    // \u8BA1\u7B97\u5E73\u79FB\u3001\u65CB\u8F6C\u540E\u7684\u76EE\u6807\u77E9\u9635 translatedMatrix = moveMatrix * rotationMtrix\r\n                    Laya.Matrix4x4.multiply(moveMatrix, this.rotateMatrix, this.rotateMatrix);\r\n                    // \u77E9\u9635\u66F4\u65B0\r\n                    this.camera.transform.localMatrix = this.rotateMatrix;\r\n                    console.log(\"Use Matrix Script!\");\r\n                }\r\n            }\r\n            // \u8BB0\u5F55\u4F4D\u7F6E\u66F4\u65B0\r\n            this.lastMouseX = Laya.stage.mouseX;\r\n            this.lastMouseY = Laya.stage.mouseY;\r\n        }else{\r\n            if (this.moveRocker.angle != -1) {\r\n                // \u6447\u6746\u4EA7\u751F\u4E86\u64CD\u4F5C\r\n                var speedX = Math.sin(this.moveRocker.radians) * this.moveSpeed * elapsedTime;\r\n                var speedZ = Math.cos(this.moveRocker.radians) * this.moveSpeed * elapsedTime;\r\n                this._tempVector3.setValue(speedX, 0, speedZ);\r\n                this.camera.transform.translate(this._tempVector3, true);\r\n            }\r\n            if (this.rotationRocker.angle != -1) {\r\n                // \u4F7F\u7528\u6447\u6746\u8BA1\u7B97\u7684\u4F4D\u79FB\r\n                var offsetX = this.rotationRocker.deltaX;\r\n                var offsetY = this.rotationRocker.deltaY;\r\n            \r\n                var yprElem = this.yawPitchRoll;\r\n                yprElem.x -= offsetX * this.rockerRotationSpeed * elapsedTime;\r\n                yprElem.y -= offsetY * this.rockerRotationSpeed * elapsedTime;\r\n                // \u8981\u65CB\u8F6C\u7684\u6B27\u62C9\u89D2\u8F6C\u6362\u4E3A\u65CB\u8F6C\u77E9\u9635\r\n                Laya.Matrix4x4.createRotationYawPitchRoll(yprElem.x, yprElem.y, yprElem.z, this.rotateMatrix);\r\n                // \u5E73\u79FB\u77E9\u9635\r\n                var moveMatrix = new Laya.Matrix4x4();\r\n                // \u5E73\u79FB\u77E9\u9635\u8F6C\u6362\r\n                Laya.Matrix4x4.createTranslate(new Laya.Vector3(this.camera.transform.position.x, this.camera.transform.position.y, this.camera.transform.position.z), moveMatrix);\r\n                // \u8BA1\u7B97\u5E73\u79FB\u3001\u65CB\u8F6C\u540E\u7684\u76EE\u6807\u77E9\u9635 translatedMatrix = moveMatrix * rotationMtrix\r\n                Laya.Matrix4x4.multiply(moveMatrix, this.rotateMatrix, this.rotateMatrix);\r\n                // \u77E9\u9635\u66F4\u65B0\r\n                this.camera.transform.localMatrix = this.rotateMatrix;\r\n                console.log(\"Use Matrix Script!\");\r\n            }\r\n        }\r\n    }\r\n    \r\n    mouseDown(e:any): void{\r\n        //\u83B7\u5F97\u9F20\u6807\u7684\u65CB\u8F6C\u503C\r\n        this.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);\r\n        //\u83B7\u5F97\u9F20\u6807\u7684xy\u503C\r\n        this.lastMouseX = Laya.stage.mouseX;\r\n        this.lastMouseY = Laya.stage.mouseY;\r\n        //\u8BBE\u7F6Ebool\u503C\r\n        this.isMouseDown = true;\r\n     \r\n    }\r\n    mouseUp(e:any): void{\r\n        //\u8BBE\u7F6Ebool\u503C\r\n        this.isMouseDown = false;\r\n    }\r\n    /**\r\n     * \u5411\u524D\u79FB\u52A8\u3002\r\n     */\r\n    moveForward(distance:any): void{\r\n        this._tempVector3.x = 0;\r\n        this._tempVector3.y = 0;\r\n        this._tempVector3.z = distance;\r\n        this.camera.transform.translate(this._tempVector3);\r\n    }\r\n    /**\r\n     * \u5411\u53F3\u79FB\u52A8\u3002\r\n     */\r\n    moveRight(distance:any): void{\r\n        this._tempVector3.y = 0;\r\n        this._tempVector3.z = 0;\r\n        this._tempVector3.x = distance;\r\n        this.camera.transform.translate(this._tempVector3);\r\n    }\r\n    /**\r\n     * \u5411\u4E0A\u79FB\u52A8\u3002\r\n     */\r\n    moveVertical(distance:any): void{\r\n        this._tempVector3.x = this._tempVector3.z = 0;\r\n        this._tempVector3.y = distance;\r\n        this.camera.transform.translate(this._tempVector3, false);\r\n    }\r\n}", "#define SHADER_NAME CustomInstanceVS\r\n#include \"Camera.glsl\";\r\n#include \"Sprite3DVertex.glsl\";\r\n\r\n#include \"VertexCommon.glsl\";\r\n#include \"Color.glsl\";\r\nvarying vec4 v_Color;\r\nvoid main() {\r\n\tVertex vertex;\r\n\tgetVertexParams(vertex);\r\n\tmat4 worldMat = getWorldMatrix();\r\n\tvec3 positionWS = (worldMat *vec4(vertex.positionOS, 1.0)).xyz; \r\n\tgl_Position = getPositionCS(positionWS);\r\n\t\r\n    #ifdef GPU_INSTANCE\r\n\t\tv_Color = gammaToLinear(a_InstanceColor);\r\n\t#else\r\n\t\tv_Color = gammaToLinear(vec4(1.0,1.0,1.0,1.0));\r\n\t#endif\r\n\tv_Color = vec4(vertex.positionOS, 1.0);\r\n\tgl_Position=remapPositionZ(gl_Position);\r\n}", "#define SHADER_NAME CustomInstanceFS\r\n#include \"Color.glsl\";\r\n#include \"Scene.glsl\"\r\n\r\nvarying vec4 v_Color;\r\n\r\nvoid main()\r\n{\r\n\tvec4 color =  v_Color;\r\n\tgl_FragColor.rgb = color.rgb;\r\n\tgl_FragColor = vec4(sin(u_Time), cos(u_Time), 0.0, 1.0);\r\n}\r\n\r\n", "import CustomInstanceVS from \"../DrawCustomInstanceDemo/customInstance.vs\"\r\nimport CustomInstanceFS from \"../DrawCustomInstanceDemo/customInstance.fs\"\r\n\r\n\r\nexport class CustomInstanceMaterial extends Laya.Material{\r\n    \r\n    static init(){\r\n        var attributeMap: any = {\r\n\t\t\t'a_Position': [Laya.VertexMesh.MESH_POSITION0, Laya.ShaderDataType.Vector4],\r\n\t\t\t'a_Normal': [Laya.VertexMesh.MESH_NORMAL0, Laya.ShaderDataType.Vector3],\r\n\t\t\t'a_Texcoord0': [Laya.VertexMesh.MESH_TEXTURECOORDINATE0, Laya.ShaderDataType.Vector2],\r\n            'a_Tangent0': [Laya.VertexMesh.MESH_TANGENT0, Laya.ShaderDataType.Vector4],\r\n            'a_WorldMat':[Laya.VertexMesh.MESH_WORLDMATRIX_ROW0, Laya.ShaderDataType.Matrix4x4],\r\n            'a_InstanceColor':[Laya.VertexMesh.MESH_CUSTOME0, Laya.ShaderDataType.Color],\r\n        };\r\n\r\n        var uniformMap: any = {\r\n            \r\n        }\r\n        var shader: Laya.Shader3D = Laya.Shader3D.add(\"CustomInstanceMat\",false);\r\n\t\tvar subShader: Laya.SubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        \r\n\t\tshader.addSubShader(subShader);\r\n\t\tsubShader.addShaderPass(CustomInstanceVS, CustomInstanceFS, \"Forward\");\r\n    }\r\n\r\n    constructor(){\r\n        super();\r\n        this.setShaderName(\"CustomInstanceMat\");\r\n        this.renderModeSet();\r\n    }\r\n\r\n    //\u6E32\u67D3\u6A21\u5F0F\r\n    renderModeSet(){\r\n        this.alphaTest = true;//\u6DF1\u5EA6\u6D4B\u8BD5\u5173\u95ED\r\n        this.renderQueue = Laya.Material.RENDERQUEUE_OPAQUE;//\u6E32\u67D3\u987A\u5E8F\u653E\u5728\u540E\u9762\r\n        this.depthWrite = true;\r\n        this.cull = Laya.RenderState.CULL_BACK;\r\n        this.blend = Laya.RenderState.BLEND_DISABLE;\r\n        this.depthTest = Laya.RenderState.DEPTHTEST_LESS;\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport { CustomInstanceMaterial } from \"./DrawCustomInstanceDemo/CustomInstanceMaterial\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Quaternion = Laya.Quaternion;\r\nimport Vector4 = Laya.Vector4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('MJ_UDCJTSFCwZnw0-tm-CQ')\r\nexport class CommandBuffer_DrawCustomInstance extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    mat:CustomInstanceMaterial;\r\n    instanceCMD: Laya.DrawMeshInstancedCMD;\r\n    materialBlock:Laya.MaterialInstancePropertyBlock;\r\n    matrixs:Laya.Matrix4x4[] = [];\r\n    matrixs1:Laya.Matrix4x4[] = [];\r\n    colors:Vector4[] = [];\r\n    colors1:Vector4[] = [];\r\n\r\n    currentColor:Vector4[] = [];\r\n    currentMatrix:Laya.Matrix4x4[] = [];\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n        super.base(this.camera);\r\n\t\t//\u6750\u8D28\u521D\u59CB\u5316\r\n        CustomInstanceMaterial.init();\r\n        var scene: Scene3D = this.scene;\r\n\r\n\t\tvar camera: Camera = this.camera;\r\n\t\tcamera.transform.position = new Vector3(14.85,17.08,35.89);\r\n\t\tcamera.transform.rotation = new Quaternion(0,0,0,1);\r\n\t\t\r\n        camera.clearColor = new Laya.Color(0.8, 0.4, 0.2, 1.0);\r\n        this.mat = new CustomInstanceMaterial();\r\n        //camera.enableHDR = true;\r\n\t\t//\u65B9\u5411\u5149\u7684\u989C\u8272\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color = new Laya.Color(1, 1, 1, 0);\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tlet mat: Laya.Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n     \r\n        //\u521B\u5EFACommandBuffer\u547D\u4EE4\u6D41\r\n        this.createCommandBuffer(camera);\r\n        //\u521D\u59CB\u5316\u52A8\u4F5C\r\n        Laya.timer.frameLoop(1,this,this.changetwoon);\r\n\t}\r\n\r\n    createCommandBuffer(camera:Camera){\r\n        //\u521B\u5EFA\u6E32\u67D3\u547D\u4EE4\u6D41\r\n        let buf:Laya.CommandBuffer = new Laya.CommandBuffer();\r\n        //\u521D\u59CB\u5316\u6570\u77E9\u9635\u6570\u7EC4\u548C\u989C\u8272\u6570\u7EC4\r\n        this.createMatrixArray();\r\n        //\u521B\u5EFA\u6750\u8D28instance\u5C5E\u6027\u5757\r\n        this.materialBlock= new Laya.MaterialInstancePropertyBlock();\r\n        //\u8BBE\u7F6E\u5C5E\u6027\r\n        this.materialBlock.setVectorArray(\"a_InstanceColor\",this.colors1, Laya.InstanceLocation.CUSTOME0);\r\n        //\u521B\u5EFA\u6E32\u67D3\u547D\u4EE4  \u6E32\u67D3900\u4E2A\u5C0F\u7403\r\n        this.instanceCMD = buf.drawMeshInstance(Laya.PrimitiveMesh.createSphere(0.5),0,this.matrixs1, this.mat, 0,this.materialBlock,900);\r\n        camera.addCommandBuffer(Laya.CameraEventFlags.BeforeTransparent,buf);\r\n        return;\r\n    }\r\n\r\n    createMatrixArray():void{ \r\n        for (let i = 0; i < 30; i++)\r\n        {\r\n            for (let j = 0; j < 30; j++)\r\n            {\r\n                let ind = j * 30 + i;\r\n                if (ind > 1023) break;\r\n                this.matrixs[ind] = new Laya.Matrix4x4();\r\n                this.matrixs1[ind] = new Laya.Matrix4x4();\r\n                this.currentMatrix[ind] = new Laya.Matrix4x4();\r\n                Laya.Matrix4x4.createTranslate(new Vector3(i, j, 0),  this.matrixs[ind]);\r\n                Laya.Matrix4x4.createTranslate(new Vector3(ind%10+10,Math.floor(ind/100)+10,Math.floor(ind/10)%10-5),this.matrixs1[ind]);\r\n                this.colors[ind] = new Vector4(1 - i / 30.0, 1 - j / 30.0, 1.0, 1.0);\r\n                this.colors1[ind] = new Vector4(1 - i / 30.0, 1 - j / 30.0, 0.0, 1.0);\r\n                this.currentColor[ind] = new Vector4();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n \r\n\r\n    changePositionColor(sourceColor:Vector4[],sourceMatrix:Laya.Matrix4x4[],destColor:Vector4[],destMatrix:Laya.Matrix4x4[],lerp:number){\r\n        //\u6839\u636Elerp\u63D2\u503C\u989C\u8272\u548C\u77E9\u9635\r\n        var lep = lerp;\r\n        var invert = 1-lerp;\r\n        for (let i = 0; i < 30; i++)\r\n        {\r\n            for (let j = 0; j < 30; j++)\r\n            {\r\n                let ind = j * 30 + i;\r\n                this.currentColor[ind].setValue(sourceColor[ind].x*lep+destColor[ind].x*invert,sourceColor[ind].y*lep+destColor[ind].y*invert,sourceColor[ind].z*lep+destColor[ind].z*invert,1.0) \r\n                var mat = this.currentMatrix[ind].elements;\r\n                var sourcemat = sourceMatrix[ind].elements;\r\n                var destmat = destMatrix[ind].elements;\r\n                mat[12] = sourcemat[12]*lep+destmat[12]*invert;\r\n                mat[13] = sourcemat[13]*lep+destmat[13]*invert;\r\n                mat[14] = sourcemat[14]*lep+destmat[14]*invert;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private timer = 0;\r\n    private delta = 0.01;\r\n    changetwoon(){\r\n        //\u4FEE\u6539\u6E32\u67D3\u5C5E\u6027\r\n        this.timer+=this.delta;\r\n        if(this.timer<0||this.timer>1){\r\n            this.timer = Math.round(this.timer);            \r\n            return;\r\n        }\r\n        \r\n        this.changePositionColor(this.colors,this.matrixs,this.colors1,this.matrixs1,this.timer);\r\n        //\u6539\u53D8900\u5C0F\u7403\u7684\u77E9\u9635\r\n        this.instanceCMD.setWorldMatrix(this.currentMatrix);\r\n        //\u6539\u53D8900\u5C0F\u7403\u7684\u989C\u8272\r\n        this.materialBlock.setVectorArray(\"a_InstanceColor\",this.currentColor,Laya.InstanceLocation.CUSTOME0);\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport { BlurEffect, BlurMaterial } from \"./BlurShader/BlurEffect\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Camera = Laya.Camera;\r\nimport Vector4 = Laya.Vector4;\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('x7npe9q3TUmZdGcitbo57g')\r\nexport class CommandBuffer_Outline extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate commandBuffer: Laya.CommandBuffer;\r\n\tprivate cameraEventFlag:Laya.CameraEventFlags = Laya.CameraEventFlags.BeforeImageEffect;\r\n\tprivate enableCommandBuffer:boolean = false;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\t\t\r\n        super.base(this.camera);\r\n\t\t//\u6750\u8D28\u521D\u59CB\u5316\r\n\t\tvar scene = this.scene;\r\n\t\tvar camera = this.camera;\r\n\t\tBlurEffect.init();\r\n\t\tvar unlitMaterial = new Laya.UnlitMaterial();\r\n\t\tunlitMaterial.albedoColor = new Laya.Color(255,0,0,255);\r\n\t\tvar shurikenMaterial:Laya.ShurikenParticleMaterial = new Laya.ShurikenParticleMaterial();\r\n\t\tshurikenMaterial.color = new Laya.Color(255,0,0,255);\r\n\t\t// //\u52A0\u5165\u6444\u50CF\u673A\u79FB\u52A8\u63A7\u5236\u811A\u672C\r\n\t\t\r\n\t\tvar renders:Laya.BaseRender[]  = [];\r\n\t\tvar materials:Laya.Material[] = [];\r\n\t\trenders.push((scene.getChildByName(\"Cube\") as Laya.MeshSprite3D).getComponent(Laya.MeshRenderer));\r\n\t\tmaterials.push(unlitMaterial);\r\n\t\trenders.push((scene.getChildByName(\"Particle\") as Laya.ShuriKenParticle3D).getComponent(Laya.ShurikenParticleRenderer));\r\n\t\tmaterials.push(shurikenMaterial);\r\n\t\trenders.push((scene.getChildByName(\"LayaMonkey\").getChildByName(\"LayaMonkey\") as Laya.SkinnedMeshSprite3D).getComponent(Laya.SkinnedMeshRenderer));\r\n\t\tmaterials.push(unlitMaterial);\r\n\t\r\n\t\t//\u521B\u5EFAcommandBuffer\r\n\t\tthis.commandBuffer =  this.createDrawMeshCommandBuffer(camera,renders,materials);\r\n\t\t//\u5C06commandBuffer\u52A0\u5165\u6E32\u67D3\u6D41\u7A0B\r\n\t\tcamera.addCommandBuffer(this.cameraEventFlag,this.commandBuffer);\r\n\t\t// camera.removeCommandBuffer(this.cameraEventFlag,this.commandBuffer);\r\n\t}\r\n\r\n\tcreateDrawMeshCommandBuffer(camera:Laya.Camera,renders:Laya.BaseRender[],materials:Laya.Material[]):Laya.CommandBuffer{\r\n\t\tvar buf:Laya.CommandBuffer = new Laya.CommandBuffer();\r\n\t\t//\u5F53\u9700\u8981\u5728\u6D41\u7A0B\u4E2D\u62FF\u6444\u50CF\u673A\u6E32\u67D3\u6548\u679C\u7684\u65F6\u5019 \u8BBE\u7F6Etrue\r\n\t\tcamera.enableBuiltInRenderTexture = true;\r\n\t\t//\u521B\u5EFA\u548C\u5C4F\u5E55\u4E00\u6837\u5927\u7684Rendertexture\r\n\t\tvar viewPort:Laya.Viewport = camera.viewport;\r\n\t\tvar renderTexture = Laya.RenderTexture.createFromPool(viewPort.width,viewPort.height,Laya.RenderTargetFormat.R8G8B8A8,Laya.RenderTargetFormat.STENCIL_8);\r\n\t\t//\u5C06RenderTexture\u8BBE\u7F6E\u4E3A\u6E32\u67D3\u76EE\u6807\r\n\t\tbuf.setRenderTarget(renderTexture);\r\n\t\t//\u6E05\u695A\u6E32\u67D3\u76EE\u6807\u7684\u989C\u8272\u4E3A\u9ED1\u8272\uFF0C\u4E0D\u6E05\u7406\u6DF1\u5EA6\r\n\t\tbuf.clearRenderTarget(true,false,new Laya.Color(0,0,0,0));\r\n\t\t\r\n\t\t//\u5C06\u4F20\u5165\u7684Render\u6E32\u67D3\u5230\u7EB9\u7406\u4E0A\r\n\t\tfor(var i = 0,n = renders.length;i<n;i++){\r\n\t\t\tbuf.drawRender(renders[i],materials[i],0);\r\n\t\t}\r\n\t\t//\u521B\u5EFA\u65B0\u7684RenderTexture\r\n\t\t var subRendertexture = Laya.RenderTexture.createFromPool(viewPort.width,viewPort.height,Laya.RenderTargetFormat.R8G8B8A8,Laya.RenderTargetFormat.STENCIL_8);\r\n\t\t//\u5C06renderTexture\u7684\u7ED3\u679C\u590D\u5236\u5230subRenderTexture\r\n\t\t buf.blitScreenQuad(renderTexture,subRendertexture);\r\n\t\t//\u8BBE\u7F6E\u6A21\u7CCA\u7684\u53C2\u6570\r\n\t\t var downSampleFactor:number = 2;\r\n\t\t var downSampleWidth:number = viewPort.width/downSampleFactor;\r\n\t\t var downSampleheigh:number = viewPort.height/downSampleFactor;\r\n\t\tvar texSize:Vector4 = new Vector4(1.0/viewPort.width,1.0/viewPort.height,viewPort.width,downSampleheigh);\r\n\t\t//\u521B\u5EFA\u6A21\u7CCA\u6750\u8D28\r\n\t\tvar blurMaterial:BlurMaterial = new BlurMaterial(texSize,1);\r\n\t\t\r\n\t\t//\u521B\u5EFA\u964D\u91C7\u6837RenderTexture1\r\n\t\t var downRenderTexture = Laya.RenderTexture.createFromPool(downSampleWidth,downSampleheigh,Laya.RenderTargetFormat.R8G8B8,Laya.RenderTargetFormat.STENCIL_8);\r\n\t\t//\u964D\u91C7\u6837  \u4F7F\u7528blurMaterial\u6750\u8D28\u76840SubShader\u5C06Rendertexture\u6E32\u67D3\u5230DownRendertexture\r\n\t\t buf.blitScreenQuadByMaterial(renderTexture,downRenderTexture,null,blurMaterial,0);\r\n\r\n\t\t //\u521B\u5EFA\u964D\u91C7\u6837RenderTexture2\r\n\t\tvar blurTexture:Laya.RenderTexture = Laya.RenderTexture.createFromPool(downSampleWidth,downSampleheigh, Laya.RenderTargetFormat.R8G8B8,Laya.RenderTargetFormat.STENCIL_8);\r\n\t\tblurTexture.filterMode = Laya.FilterMode.Bilinear;\r\n\r\n\t\t//Horizontal blur \u4F7F\u7528blurMaterial\u6750\u8D28\u76841SubShader\r\n\t\tbuf.blitScreenQuadByMaterial(downRenderTexture,blurTexture,null,blurMaterial,1);\r\n\t\t//vertical blur\t\u4F7F\u7528blurMaterial\u6750\u8D28\u76842SubShader\r\n\t\tbuf.blitScreenQuadByMaterial(blurTexture,downRenderTexture,null,blurMaterial,2);\r\n\t\t//Horizontal blur \u4F7F\u7528blurMaterial\u6750\u8D28\u76841SubShader\r\n\t\tbuf.blitScreenQuadByMaterial(downRenderTexture,blurTexture,null,blurMaterial,1);\r\n\t\t//vertical blur   \u4F7F\u7528blurMaterial\u6750\u8D28\u76842SubShader\r\n\t\tbuf.blitScreenQuadByMaterial(blurTexture,downRenderTexture,null,blurMaterial,2);\r\n\t\t//\u5728\u547D\u4EE4\u6D41\u91CC\u9762\u63D2\u5165\u8BBE\u7F6E\u56FE\u7247\u547D\u4EE4\u6D41\uFF0C\u5728\u8C03\u7528\u7684\u65F6\u5019\u4F1A\u8BBE\u7F6EblurMaterial\u7684\u56FE\u7247\u6570\u636E\r\n\t\tbuf.setShaderDataTexture(blurMaterial._shaderValues,BlurMaterial.SHADERVALUE_SOURCETEXTURE0,downRenderTexture);\r\n\t\tbuf.setShaderDataTexture(blurMaterial._shaderValues,BlurMaterial.ShADERVALUE_SOURCETEXTURE1,subRendertexture);\r\n\t\t//caculate edge\u8BA1\u7B97\u8FB9\u7F18\u56FE\u7247\r\n\t\tbuf.blitScreenQuadByMaterial(blurTexture,renderTexture,null,blurMaterial,3);\r\n\t\t//\u91CD\u65B0\u4F20\u5165\u56FE\u7247\r\n\t\tbuf.setShaderDataTexture(blurMaterial._shaderValues,BlurMaterial.SHADERVALUE_SOURCETEXTURE0,renderTexture);\r\n\t\t//\u5C06camera\u6E32\u67D3\u7ED3\u679C\u590D\u5236\u5230subRendertexture\uFF0C\u4F7F\u7528blurMaterial\u76844\u901A\u9053shader\r\n\t\tbuf.blitScreenQuadByMaterial(null,subRendertexture,null,blurMaterial,4);\r\n\t\t//\u5C06subRenderTexture\u91CD\u65B0\u8D4B\u503C\u5230camera\u7684\u6E32\u67D3\u7ED3\u679C\u4E0A\u9762\r\n\t\tbuf.blitScreenQuadByMaterial(subRendertexture,null);\r\n\t\treturn buf;\r\n\t}\r\n}", "/**\r\n * \u8349\u76AE\u5757\r\n */\r\nexport class GrassCellInfo{\r\n    /**\u8349\u76AE\u539F\u59CB\u4F4D\u7F6E */\r\n    public privotPos:Laya.Vector3 = new Laya.Vector3();\r\n    //\u4F4D\u7F6Earray\r\n    private posArray:Float32Array;\r\n    //\u8349\u76AE\u4E16\u754C\u5750\u6807\u5927\u5C0F\r\n    private size:number;\r\n\r\n    //\u6E32\u67D3\u7B49\u7EA7  \u6839\u636E\u6E32\u67D3\u7B49\u7EA7\u51B3\u5B9A\u753B\u767E\u5206\u4E4B\u591A\u5C11\u7684\u8349\r\n    private drawlevelRatio:number;\r\n\r\n\r\n    public bound:Laya.BoundBox;\r\n\r\n    private grassHight:number = 5;\r\n    \r\n    constructor(maxGrassNums:number,cellSize:number,privotPos:Laya.Vector3){\r\n        this.posArray = new Float32Array(maxGrassNums*3);\r\n        this.size = cellSize;\r\n        this.privotPos = privotPos;\r\n        this.updateGrassPos();\r\n        this.bound = new Laya.BoundBox(new Laya.Vector3(this.privotPos.x-this.size/2,this.privotPos.y,this.privotPos.z-this.size/2),new Laya.Vector3(this.privotPos.x+this.size/2,this.privotPos.y+this.grassHight,this.privotPos.z+this.size/2));\r\n    }\r\n\r\n    /**\r\n     * \u66F4\u65B0\u6700\u5927\u8349\u91CF\u7684\u4F4D\u7F6E\r\n     */\r\n    updateGrassPos(){\r\n        let array = this.posArray;\r\n        let orix = this.privotPos.x;\r\n        let oriy = this.privotPos.y;\r\n        let oriz = this.privotPos.z;\r\n        let size = this.size/2;\r\n        for (let i = 0,n=this.posArray.length/3; i <n ; i+=3) {\r\n            var x = (Math.random()*2-1)*size;\r\n            var z = (Math.random()*2-1)*size;\r\n            array[i] = x+orix;\r\n            array[i+1] = oriy;\r\n            array[i+2] = z+oriz;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \u8BBE\u7F6E\u7ED8\u753B\u7B49\u7EA7\r\n     */\r\n    setDrawLevel(level:number){\r\n        this.drawlevelRatio =Math.max(1- level,0.0);\r\n    }\r\n\r\n\r\n    setGrassCellData(drawArray:Float32Array,offset:number):number{\r\n        let setLength = Math.floor(this.posArray.length/3*this.drawlevelRatio)*3;\r\n        drawArray.set(this.posArray,offset);\r\n        return setLength+offset;\r\n    }\r\n\r\n}", "#define SHADER_NAME GRASSVS\r\n\r\n    // include\r\n    #include \"Color.glsl\";\r\n    #include \"Camera.glsl\";\r\n    #include \"VertexCommon.glsl\";\r\n    #include \"Scene.glsl\";\r\n    #include \"SceneFogInput.glsl\";    \r\n\r\n    // varying\r\n    varying vec4 v_Color;\r\n\r\n    // main\r\n    void main() {\r\n        // Vertex vertex;\r\n        // getVertexParams(vertex);\r\n        \r\n        // uniform\r\n        vec3 baseColor = vec3(0.1, 0.5, 0.1);\r\n        float boundSize = 70.71067811865476;\r\n\r\n        // const\r\n        float minHeight = 2.0;\r\n        float maxHeight = 5.0;\r\n\r\n\r\n        vec4 aposition = getVertexPosition();\r\n        vec3 perGrassPivotPosWS = a_privotPosition;\r\n        float perGrassHeight = mix(minHeight, maxHeight, (sin(perGrassPivotPosWS.x * 23.4643 + perGrassPivotPosWS.z) * 0.45 + 0.55)) * u_grassHeight;\r\n\r\n\r\n        vec3 cameraUpWS = normalize(u_CameraUp);\r\n        vec3 cameraForwardWS = normalize(u_CameraDirection);\r\n        vec3 cameraRightWS = normalize(cross(cameraForwardWS, cameraUpWS));\r\n\r\n        //BlillBoard x\r\n        vec3 positionOS = aposition.x * cameraRightWS * u_grassWidth * (sin(perGrassPivotPosWS.x * 95.4643 + perGrassPivotPosWS.z) * 0.45 + 0.55);\r\n        //BillBoard y\r\n        positionOS += aposition.y * cameraUpWS;\r\n\r\n        // \u6BCF\u6839\u8349 \u9AD8\u5EA6\r\n        positionOS.y *= perGrassHeight;\r\n\r\n\r\n        float wind = 0.0;\r\n        wind += (sin(u_Time * u_WindAFrequency + perGrassPivotPosWS.x * u_WindATiling.x + perGrassPivotPosWS.z * u_WindATiling.y)*u_WindAWrap.x+u_WindAWrap.y) * u_WindAIntensity; //windA\r\n        wind += (sin(u_Time * u_WindBFrequency + perGrassPivotPosWS.x * u_WindBTiling.x + perGrassPivotPosWS.z * u_WindBTiling.y)*u_WindBWrap.x+u_WindBWrap.y) * u_WindBIntensity; //windB\r\n        wind += (sin(u_Time * u_WindCFrequency + perGrassPivotPosWS.x * u_WindCTiling.x + perGrassPivotPosWS.z * u_WindCTiling.y)*u_WindCWrap.x+u_WindCWrap.y) * u_WindCIntensity; //windC\r\n        wind *= a_Position.y; //wind only affect top region, don't affect root region\r\n        vec3 windOffset = cameraRightWS * wind; //swing using billboard left right direction\r\n        //\u98CE\u7684\u5F71\u54CD\r\n        positionOS += windOffset;\r\n\r\n\r\n        vec3 viewWS = u_CameraPos - perGrassPivotPosWS;\r\n        float viewWSLength = length(viewWS);\r\n        positionOS += cameraRightWS * aposition.x * max(0.0, viewWSLength * 0.02225);\r\n\r\n        vec3 positionWS = positionOS + perGrassPivotPosWS;\r\n        vec4 position = u_ViewProjection * vec4(positionWS, 1.0);\r\n\r\n\r\n        //reset Texture \r\n        vec2 uv = (positionWS.xz-u_BoundSize.xy)/u_BoundSize.zw;\r\n        baseColor = texture2D(u_albedoTexture, uv).rgb;\r\n        \r\n        vec3 albedo = mix(u_GroundColor.xyz, baseColor, a_Position.y);\r\n        v_Color = vec4(albedo, 1.0);\r\n\r\n        gl_Position = position;\r\n        gl_Position=remapPositionZ(gl_Position);\r\n    #ifdef FOG\r\n        FogHandle(gl_Position.z);\r\n    #endif\r\n    }", "#if defined(GL_FRAGMENT_PRECISION_HIGH)//\u00A0\u539F\u6765\u7684\u5199\u6CD5\u4F1A\u88AB\u6211\u4EEC\u81EA\u5DF1\u7684\u89E3\u6790\u6D41\u7A0B\u5904\u7406\uFF0C\u800C\u6211\u4EEC\u7684\u89E3\u6790\u662F\u4E0D\u8BA4\u5185\u7F6E\u5B8F\u7684\uFF0C\u5BFC\u81F4\u88AB\u5220\u6389\uFF0C\u6240\u4EE5\u6539\u6210\u00A0if\u00A0defined\u00A0\u4E86\r\n\tprecision highp float;\r\n#else\r\n\tprecision mediump float;\r\n#endif\r\n#include \"Scene.glsl\"\r\n#include \"SceneFog.glsl\"\r\n\r\nvarying vec4 v_Color;\r\n\r\nvoid main() {\r\n\r\n    vec4 color = v_Color;\r\n\t#ifdef FOG\r\n\t\t// float lerpFact=clamp((1.0/gl_FragCoord.w-u_FogStart)/u_FogRange,0.0,1.0);\r\n\t\t// gl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor.rgb,lerpFact);\r\n\t\tcolor.rgb = scenUnlitFog(color.rgb);\r\n\t#endif\r\n\tgl_FragColor = color;\r\n}", "import UnityGrassVS from \"./shader/GrassShaderVS.vs\";\r\nimport UnityGrassFS from \"./shader/GrassShaderFS.fs\";\r\n\r\nexport class GrassMaterial extends Laya.Material {\r\n    static hasInited: boolean = false;\r\n    /**@internal */\r\n    static WINDAINTENSITY: number;\r\n    /**@internal */\r\n    static WINDAFREQUECY: number;\r\n    /**@internal */\r\n    static WINDATILING: number;\r\n    /**@internal */\r\n    static WINDAWRAP: number;\r\n    /**@internal */\r\n    static WINDBINTENSITY: number;\r\n    /**@internal */\r\n    static WINDBFREQUECY: number;\r\n    /**@internal */\r\n    static WINDBTILING: number;\r\n    /**@internal */\r\n    static WINDBWRAP: number;\r\n    /**@internal */\r\n    static WINDCINTENSITY: number;\r\n    /**@internal */\r\n    static WINDCFREQUECY: number;\r\n    /**@internal */\r\n    static WINDCTILING: number;\r\n    /**@internal */\r\n    static WINDCWRAP: number;\r\n    //grass hight width\r\n    static GRASSHEIGHT: number;\r\n    static GRASSWIDTH: number;\r\n    //grass Bound \u5FC5\u987B\u548C\u8349\u7CFB\u7EDF\u91CC\u9762\u7684UV\u76F8\u540C\u624D\u80FD\u5F97\u5230\u5F88\u597D\u7684\u6548\u679C\r\n    static GRASSBOUND: number;\r\n    //\u5730\u9762\u989C\u8272\r\n    static GROUNDCOLOR: number;\r\n    static ALBEDOTEXTURE: number;\r\n\r\n    static __init__(): void {\r\n\r\n        GrassMaterial.WINDAINTENSITY= Laya.Shader3D.propertyNameToID(\"u_WindAIntensity\");\r\n        GrassMaterial.WINDAFREQUECY= Laya.Shader3D.propertyNameToID(\"u_WindAFrequency\");\r\n        GrassMaterial.WINDATILING= Laya.Shader3D.propertyNameToID(\"u_WindATiling\");\r\n        GrassMaterial.WINDAWRAP= Laya.Shader3D.propertyNameToID(\"u_WindAWrap\");\r\n        GrassMaterial.WINDBINTENSITY= Laya.Shader3D.propertyNameToID(\"u_WindBIntensity\");\r\n        GrassMaterial.WINDBFREQUECY= Laya.Shader3D.propertyNameToID(\"u_WindBFrequency\");\r\n        GrassMaterial.WINDBTILING= Laya.Shader3D.propertyNameToID(\"u_WindBTiling\");\r\n        GrassMaterial.WINDBWRAP= Laya.Shader3D.propertyNameToID(\"u_WindBWrap\");\r\n        GrassMaterial.WINDCINTENSITY= Laya.Shader3D.propertyNameToID(\"u_WindCIntensity\");\r\n        GrassMaterial.WINDCFREQUECY= Laya.Shader3D.propertyNameToID(\"u_WindCFrequency\");\r\n        GrassMaterial.WINDCTILING= Laya.Shader3D.propertyNameToID(\"u_WindCTiling\");\r\n        GrassMaterial.WINDCWRAP= Laya.Shader3D.propertyNameToID(\"u_WindCWrap\");\r\n        //grass hight width\r\n        GrassMaterial.GRASSHEIGHT= Laya.Shader3D.propertyNameToID(\"u_grassHeight\");\r\n        GrassMaterial.GRASSWIDTH= Laya.Shader3D.propertyNameToID(\"u_grassWidth\");\r\n        //grass Bound \u5FC5\u987B\u548C\u8349\u7CFB\u7EDF\u91CC\u9762\u7684UV\u76F8\u540C\u624D\u80FD\u5F97\u5230\u5F88\u597D\u7684\u6548\u679C\r\n        GrassMaterial.GRASSBOUND= Laya.Shader3D.propertyNameToID(\"u_BoundSize\");\r\n        //\u5730\u9762\u989C\u8272\r\n        GrassMaterial.GROUNDCOLOR= Laya.Shader3D.propertyNameToID(\"u_GroundColor\");\r\n        GrassMaterial.ALBEDOTEXTURE= Laya.Shader3D.propertyNameToID(\"u_albedoTexture\");\r\n\r\n        var attributeMap: any = {\r\n            'a_Position': [Laya.VertexMesh.MESH_POSITION0, Laya.ShaderDataType.Vector4],\r\n            'a_Normal': [Laya.VertexMesh.MESH_NORMAL0, Laya.ShaderDataType.Vector3],\r\n            'a_privotPosition': [Laya.VertexMesh.MESH_CUSTOME0, Laya.ShaderDataType.Vector3]\r\n        };\r\n        var uniformMap:any = {\r\n            \"u_WindAIntensity\":Laya.ShaderDataType.Float,\r\n            \"u_WindAFrequency\":Laya.ShaderDataType.Float,\r\n            \"u_WindATiling\":Laya.ShaderDataType.Vector2,\r\n            \"u_WindAWrap\":Laya.ShaderDataType.Vector2,\r\n\r\n            \"u_WindBIntensity\":Laya.ShaderDataType.Float,\r\n            \"u_WindBFrequency\":Laya.ShaderDataType.Float,\r\n            \"u_WindBTiling\":Laya.ShaderDataType.Vector2,\r\n            \"u_WindBWrap\":Laya.ShaderDataType.Vector2,\r\n\r\n            \"u_WindCIntensity\":Laya.ShaderDataType.Float,\r\n            \"u_WindCFrequency\":Laya.ShaderDataType.Float,\r\n            \"u_WindCTiling\":Laya.ShaderDataType.Vector2,\r\n            \"u_WindCWrap\":Laya.ShaderDataType.Vector2,\r\n            //grass\r\n            \"u_grassHeight\":Laya.ShaderDataType.Float,\r\n            \"u_grassWidth\":Laya.ShaderDataType.Float,\r\n            \"u_BoundSize\":Laya.ShaderDataType.Vector4,\r\n            \"u_GroundColor\":Laya.ShaderDataType.Vector3,\r\n            \"u_albedoTexture\":Laya.ShaderDataType.Texture2D\r\n        }\r\n        var shader: Laya.Shader3D = Laya.Shader3D.add(\"GrassShader\", false, false);\r\n        var subShader: Laya.SubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        var pass: Laya.ShaderPass = subShader.addShaderPass(UnityGrassVS, UnityGrassFS, \"Forward\");\r\n        pass.renderState.cull = Laya.RenderState.CULL_BACK;\r\n    }\r\n\r\n    constructor() {\r\n        if (!GrassMaterial.hasInited) {\r\n            GrassMaterial.__init__();\r\n            GrassMaterial.hasInited = true;\r\n        }\r\n        super();\r\n        this.setShaderName(\"GrassShader\");\r\n        // todo  \u6E32\u67D3\u961F\u5217\u9009\u62E9\r\n        this.alphaTest = false;\r\n        this.renderQueue = Laya.Material.RENDERQUEUE_OPAQUE;\r\n        this.depthWrite = true;\r\n        this.cull = Laya.RenderState.CULL_BACK;\r\n        this.blend = Laya.RenderState.BLEND_DISABLE;\r\n        this.depthTest = Laya.RenderState.DEPTHTEST_LESS;\r\n        this.setWindA(1.77, 4, new Laya.Vector2(0.1, 0.1), new Laya.Vector2(0.5, 0.5));\r\n        this.setWindB(0.25, 7.7, new Laya.Vector2(0.37, 3), new Laya.Vector2(0.5, 0.5));\r\n        this.setWindC(0.125, 11.7, new Laya.Vector2(0.77, 3), new Laya.Vector2(0.5, 0.5));\r\n        this.grassHight = 1.0;\r\n        this.grassWidth = 1.0;\r\n        this.grassGroundColor = new Laya.Vector3(0.25, 0.49, 0.23);\r\n        this.grassBoundSize = new Laya.Vector4(-105, -105, 210, 210);\r\n        Laya.loader.load(\"resources/res/InstancedIndirectGrassVertexColor.jpg\").then((res : Laya.Texture2D)=>{\r\n            this.albedoTexture = res;\r\n        } )\r\n    }\r\n\r\n    setWindA(windIntensity: number, windFrequency: number, windTiling: Laya.Vector2, windWrap:Laya. Vector2) {\r\n        this._shaderValues.setNumber(GrassMaterial.WINDAINTENSITY, windIntensity);\r\n        this._shaderValues.setNumber(GrassMaterial.WINDAFREQUECY, windFrequency);\r\n        this._shaderValues.setVector2(GrassMaterial.WINDATILING, windTiling);\r\n        this._shaderValues.setVector2(GrassMaterial.WINDAWRAP, windWrap);\r\n    }\r\n\r\n    setWindB(windIntensity: number, windFrequency: number, windTiling: Laya.Vector2, windWrap: Laya.Vector2) {\r\n        this._shaderValues.setNumber(GrassMaterial.WINDBINTENSITY, windIntensity);\r\n        this._shaderValues.setNumber(GrassMaterial.WINDBFREQUECY, windFrequency);\r\n        this._shaderValues.setVector2(GrassMaterial.WINDBTILING, windTiling);\r\n        this._shaderValues.setVector2(GrassMaterial.WINDBWRAP, windWrap);\r\n    }\r\n\r\n    setWindC(windIntensity: number, windFrequency: number, windTiling: Laya.Vector2, windWrap: Laya.Vector2) {\r\n        this._shaderValues.setNumber(GrassMaterial.WINDCINTENSITY, windIntensity);\r\n        this._shaderValues.setNumber(GrassMaterial.WINDCFREQUECY, windFrequency);\r\n        this._shaderValues.setVector2(GrassMaterial.WINDCTILING, windTiling);\r\n        this._shaderValues.setVector2(GrassMaterial.WINDCWRAP, windWrap);\r\n    }\r\n\r\n    set grassHight(value: number) {\r\n        this._shaderValues.setNumber(GrassMaterial.GRASSHEIGHT, value);\r\n    }\r\n\r\n    set grassWidth(value: number) {\r\n        this._shaderValues.setNumber(GrassMaterial.GRASSWIDTH, value);\r\n    }\r\n\r\n    set grassGroundColor(value: Laya.Vector3) {\r\n        this._shaderValues.setVector3(GrassMaterial.GROUNDCOLOR, value);\r\n    }\r\n\r\n    set grassBoundSize(value: Laya.Vector4) {\r\n        this._shaderValues.setVector(GrassMaterial.GRASSBOUND, value);\r\n    }\r\n\r\n    set albedoTexture(value: Laya.BaseTexture) {\r\n        this._shaderValues.setTexture(GrassMaterial.ALBEDOTEXTURE, value);\r\n    }\r\n\r\n}", "import { GrassMaterial } from \"./GrassMaterial\";\r\nimport { GrassRenderManager } from \"./GrassRenderManager\";\r\n\r\nexport class GlassRender{\r\n\r\n    private grassManager:GrassRenderManager;\r\n    private instanceCMD: Laya.DrawMeshInstancedCMD;\r\n    private materialBlock:Laya.MaterialInstancePropertyBlock;\r\n    private grassMaterial:GrassMaterial;\r\n    private buf:Laya.CommandBuffer;\r\n    private camera:Laya.Camera;\r\n    constructor(manager:GrassRenderManager,camera:Laya.Camera){\r\n        this.grassManager = manager;\r\n        this.createCommandBuffer();\r\n        this.camera = camera;\r\n    }\r\n\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    private creatGrassMesh():Laya.Mesh{\r\n        // \u751F\u6210 \u5355\u7247 grass (\u4E00\u4E2A \u4E09\u89D2\u5F62)\r\n        var vertexArray: Float32Array  = new Float32Array(3 * 3);\r\n        vertexArray[0] = -0.25;  // p1.x\r\n        vertexArray[3] = 0.25; // p2.x\r\n        vertexArray[7] = 1;     // p3.y\r\n        var indexArray: Uint16Array =  new Uint16Array([2, 1, 0]);\r\n        var vertexDeclaration: Laya.VertexDeclaration = Laya.VertexMesh.getVertexDeclaration(\"POSITION\");\r\n        //@ts-ignore\r\n        var mesh = Laya.PrimitiveMesh._createMesh(vertexDeclaration,vertexArray,indexArray);\r\n        return mesh;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    private createMaterial():GrassMaterial{\r\n        var mat = new GrassMaterial();\r\n        this.grassMaterial = mat;\r\n        //set mat Property\r\n        return mat;\r\n    }\r\n\r\n    /**\r\n     * \u521B\u5EFACommandBuffer\u547D\u4EE4\u7F13\u5B58\u6D41\r\n     * @param camera \r\n     */\r\n    createCommandBuffer(){\r\n        Laya.DrawMeshInstancedCMD.maxInstanceCount = 1000000;\r\n        //\u521B\u5EFA\u6E32\u67D3\u547D\u4EE4\u6D41\r\n        this.buf = new Laya.CommandBuffer();\r\n        //\u521B\u5EFA\u6750\u8D28instance\u5C5E\u6027\u5757\r\n        this.materialBlock= new Laya.MaterialInstancePropertyBlock();\r\n        //\u8BBE\u7F6E\u5C5E\u6027\r\n        this.materialBlock.setVector3Array(\"a_privotPosition\",this.grassManager.dataArrayBuffer,Laya.InstanceLocation.CUSTOME0);\r\n        // let matrixs =new Array<Matrix4x4>();\r\n        // for(var i = 0;i<1000000;i++){\r\n        //     matrixs.push(new Matrix4x4());\r\n        // }\r\n        this.instanceCMD = this.buf.drawMeshInstance(this.creatGrassMesh(),0,null,this.createMaterial(),0,this.materialBlock,this.grassManager.drawArrayLength);\r\n        return;\r\n    }\r\n\r\n    removeCommandBuffer(){\r\n        this.camera.removeCommandBuffer(Laya.CameraEventFlags.BeforeTransparent,this.buf);\r\n    }\r\n\r\n    addCommandBuffer(){\r\n        this.camera.addCommandBuffer(Laya.CameraEventFlags.BeforeTransparent,this.buf);\r\n    }\r\n\r\n    changeDrawNums(){\r\n        this.materialBlock.setVector3Array(\"a_privotPosition\",this.grassManager.dataArrayBuffer,Laya.InstanceLocation.CUSTOME0);\r\n        this.instanceCMD.setDrawNums(this.grassManager.drawArrayLength);\r\n    }\r\n\r\n    \r\n}", "import { GrassCellInfo } from \"./GrassCellInfo\";\r\nimport { GlassRender } from \"./GrassRender\";\r\n\r\n/**\r\n * \u7528\u6765\u7BA1\u7406\u8349\u76AE\uFF0C\u88C1\u526A\u4EC0\u4E48\u7684\u90FD\u5728\u8FD9\u91CC\r\n */\r\nexport class GrassRenderManager{\r\n    //----------config-----------\r\n    //\u6700\u5927Instance\u6570  \u4E5F\u662F\u5BC6\u5EA6\r\n    public instanceCount = 1000000;\r\n    //\u8BBE\u7F6E\u8349\u76AE\u5927\u5C0F\r\n    public grassCellsize = 10;\r\n    //\u8BBE\u7F6E\u8349\u76AE\u6700\u5927\u8349\u91CF\r\n    public cellMaxGrassNum = 1000;\r\n    //\u8BBE\u7F6E\u8349\u91CF\u7684\u7EA7\u6570\r\n    public cellMipmapByDistance = 10;\r\n    //\u88C1\u526A\u6700\u8FD1\u8DDD\u79BB\r\n    public DrawDistance = 150;\r\n    //\u662F\u5426\u5F00\u542F\u8349\u5730\u5206\u7EA7\u4F18\u5316\r\n    public enableLevelDraw = true;\r\n    //\u6BCF\u964D\u4F4E\u4E00\u4E2A\u7B49\u7EA7\u8349\u91CF\u51CF\u5C11\u767E\u5206\u6BD4\r\n    public subGrassByLevel = 0.1;\r\n\r\n\r\n    /**\u88C1\u526A\u540E\u51B3\u5B9A \u6E32\u67D3\u8349\u5730\u6570\u76EE */\r\n    public drawGrassCellNums:number;\r\n    /**\u6E32\u67D3\u7EA7\u522B\u8349\u576A\u961F\u5217 */\r\n    private drawGrassCellLeverlArray:Array<{[key:number]:number}>;\r\n    /**\u6E32\u67D3\u7EA7\u522B\u8349\u576A\u6E32\u67D3\u4E2A\u6570 */\r\n    private drawGrassLevelNums:Array<number>;\r\n    /**\u8349\u76AEMap*/\r\n    private grassMap:Array<GrassCellInfo> = [];\r\n\r\n    //\u66F4\u65B0\u6570\u636E\r\n    public dataArrayBuffer:Float32Array;\r\n    //\u66F4\u65B0\u7ED8\u753B\u4E2A\u6570\r\n    public drawArrayLength:number = 0;\r\n    //buffer\u6750\u8D28\u7BA1\u7406\u5668\r\n    public glassRender:GlassRender;\r\n\r\n    /**\r\n     * \u8349\u576A\u6E32\u67D3\u7BA1\u7406\r\n     */\r\n    constructor(camera:Laya.Camera){\r\n        this.drawGrassCellLeverlArray = [];\r\n        this.drawGrassCellLeverlArray.length = this.cellMipmapByDistance;\r\n        for (let index = 0; index < this.cellMipmapByDistance; index++) {\r\n          this.drawGrassCellLeverlArray[index] = [];\r\n        }\r\n        this.drawGrassLevelNums = [];\r\n        this.drawGrassLevelNums.length = this.cellMipmapByDistance;\r\n        this.dataArrayBuffer = new Float32Array(this.instanceCount*3);\r\n\r\n        this.glassRender = new GlassRender(this,camera);\r\n    }\r\n\r\n\tset enable(value: boolean) {\r\n\t\tif(value)\r\n            this.glassRender.addCommandBuffer();\r\n        else\r\n            this.glassRender.removeCommandBuffer();\r\n\t}\r\n\r\n    /**\r\n     * \u8349\u76AE\u88C1\u526A\r\n     */\r\n    frustumCulling(camera:Laya.Camera){\r\n       //\u7B49\u7EA7\u6E32\u67D3\u6E05\u7406\r\n        for(let j = 0;j<this.drawGrassLevelNums.length;j++){\r\n            this.drawGrassLevelNums[j] = 0;\r\n        }\r\n        this.drawGrassCellNums = 0;\r\n        let distance =this.DrawDistance;\r\n        let levelDistance = this.DrawDistance/this.cellMipmapByDistance;\r\n        let boundFrustum = camera.boundFrustum;\r\n        let cameraPos = camera.transform.position;\r\n        for(let i = 0,n = this.grassMap.length;i<n;i++){\r\n            let grasscell = this.grassMap[i];\r\n            let grassDistance = Laya.Vector3.distance(grasscell.privotPos,cameraPos)\r\n            if(grassDistance<distance){\r\n                //TODO\u4F18\u5316\r\n                if(boundFrustum.intersects(grasscell.bound)){\r\n                    if(this.enableLevelDraw){\r\n                        let leval = Math.floor(grassDistance/levelDistance);\r\n                        grasscell.setDrawLevel(leval*this.subGrassByLevel);\r\n                        this.drawGrassCellLeverlArray[leval] ||  (this.drawGrassCellLeverlArray[leval]={});\r\n                        //@ts-ignore\r\n                        this.drawGrassCellLeverlArray[leval][this.drawGrassLevelNums[leval]]= i; \r\n                        //@ts-ignore\r\n                        this.drawGrassLevelNums[leval] += 1;\r\n                    }\r\n                    else{\r\n                        grasscell.setDrawLevel(0);\r\n                        this.drawGrassCellLeverlArray[0][this.drawGrassLevelNums[0]]= i; \r\n                        //@ts-ignore\r\n                        this.drawGrassLevelNums[0] += 1;\r\n                    }\r\n                    this.drawGrassCellNums++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \u589E\u52A0\u8349\u576A\u5757\r\n     */\r\n    addGrassCell(grassPrivot:Laya.Vector3){\r\n        let grassCell = new GrassCellInfo(this.cellMaxGrassNum,this.grassCellsize,grassPrivot);\r\n        this.grassMap.push(grassCell);\r\n    }\r\n\r\n    /**\r\n     * \u5220\u9664\u8349\u576A\u5757\r\n     */\r\n    removeGrassCell(grassCell:GrassCellInfo){\r\n        let index = this.grassMap.indexOf(grassCell);\r\n        let lastIndex = this.grassMap.length - 1;\r\n        this.grassMap[index] = this.grassMap[lastIndex];\r\n        this.grassMap.length = lastIndex;\r\n    }\r\n\r\n    update(caemra:Laya.Camera){\r\n        //\u6839\u636E\u8DDD\u79BB\u6392\u5E8F\u66F4\u65B0 \u6700\u540E\u6E32\u67D3\r\n        this.frustumCulling(caemra);\r\n        let offset = 0;\r\n        for(let i = 0,n = this.drawGrassLevelNums.length;i<n;i++){\r\n            let drawnums = this.drawGrassLevelNums[i];\r\n            var array = this.drawGrassCellLeverlArray[i];\r\n            for(var j = 0;j<drawnums;j++){\r\n                offset =this.grassMap[array[j]].setGrassCellData(this.dataArrayBuffer,offset);\r\n            }\r\n        }\r\n        this.drawArrayLength = offset/3;\r\n        this.glassRender.changeDrawNums();\r\n    }\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\nimport { GrassRenderManager } from \"./grassDemo/GrassRenderManager\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('1SMd7-AGSMOSVcU6nZji2w')\r\nexport class GrassDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\tgrassManager:GrassRenderManager;\r\n    onAwake(): void {\r\n        super.base(this.camera);\r\n\t\tthis.initScene();\r\n\t\t//\u6E32\u67D3\u8349\r\n\t\tthis.grassManager = new GrassRenderManager(this.camera);\r\n\t\tvar grasssize = this.grassManager.grassCellsize;\r\n\r\n\t\tfor (let x = -100; x < 100; x+=grasssize) {\r\n\t\t\tfor (let z = -100; z < 100; z+=grasssize) {\r\n\t\t\t\tthis.grassManager.addGrassCell(new Vector3(x,0,z));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.grassManager.enable = true;\r\n\r\n\t\tLaya.timer.loop(1,this,this.update,[this.camera]);\r\n\t}\r\n\tupdate(camera:Camera){\r\n\t\tthis.grassManager.update(camera);\r\n\t}\r\n\r\n\tinitScene(){\r\n\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u6E05\u9664\u6807\u8BC6\u4E3A\u5929\u7A7A\u76D2(\u8FD9\u4E2A\u53C2\u6570\u5FC5\u987B\u8BBE\u7F6E\u4E3ACLEARFLAG_SKY\uFF0C\u5426\u5219\u65E0\u6CD5\u4F7F\u7528\u5929\u7A7A\u76D2)\r\n\t\tthis.camera.clearColor = new Laya.Color(0.5, 1.0, 0.5);\r\n\t\tthis.camera.transform.position = new Vector3( -45.56605299366802, 7.79715240971953,9.329663960933718);\r\n\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Laya.Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n    }\r\n\r\n\t\r\n}", "/*Laya.LayaEnv.beforeInit = function(config: Laya.IStageConfig) {\r\n    //\u8FD9\u4E2A\u65B9\u6CD5\u4F1A\u5728Laya.init\u524D\u8C03\u7528\r\n    console.log(\"before init\");\r\n    //\u8FD9\u91CC\u53EF\u4EE5\u5BF9config\u4EE5\u53CALaya.Config\u3001Laya.Config3D\u8FDB\u884C\u81EA\u5B9A\u4E49\u7684\u4FEE\u6539\r\n    Laya.Config.isAlpha =true;       \r\n}*/\r\n\r\nimport { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Camera = Laya.Camera;\r\nimport Vector3 = Laya.Vector3;\r\nimport SpriteUtils = Laya.SpriteUtils;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('8KXCS_akQnKnoq2OpN2M3w')\r\nexport class Laya3DCombineHtml extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.DirectionLightCom)\r\n    private directionLight: Laya.DirectionLightCom;\r\n\r\n    private div:any;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\t\t\r\n        //\u9700\u8981\u5728 Laya.LayaEnv.beforeInit \u4E2D\u63D0\u524D\u8C03\u7528 Laya.Config.isAlpha =true;\r\n        super.base(this.camera);\r\n\r\n        this.div = document.createElement('div');\r\n\t\tthis.div.innerHTML = '<h1 style=\\'color: red;\\'>\u6B64\u5185\u5BB9\u6765\u6E90\u4E8EHTML\u7F51\u9875, \u53EF\u76F4\u63A5\u5728html\u4EE3\u7801\u4E2D\u4E66\u5199 - h1\u6807\u7B7E</h1>';\r\n        this.div.style = \"position:absolute;z-order:99\";\r\n\t\tdocument.body.appendChild(this.div);\r\n\r\n        if( Index.curPage )\r\n            SpriteUtils.fitDOMElementInArea(this.div, this.box2D, Index.pagePos.x, Index.pagePos.y, this.pageWidth, this.pageHeight);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0.5, 1));\r\n\t\tthis.camera.transform.rotationEuler = (new Vector3(-15, 0, 0));\r\n\r\n\t\tthis.directionLight.color = new Laya.Color(1, 1, 1, 1);\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\").then(res=>{\r\n            this.scene.addChild(res.create());\r\n        });\r\n\t}\r\n\r\n    onDestroy(): void {\r\n        document.body.removeChild(this.div as Node);\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('njjzVB7aTgaP-ebMby57Ag')\r\nexport class ReflectionProbe extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\t\r\n    onAwake(): void {\r\n\t\t\r\n        super.base(this.camera);\r\n\t\t\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport InputManager = Laya.InputManager;\r\nimport Image = Laya.Image;\r\nimport Handler = Laya.Handler;\r\nimport Color = Laya.Color;\r\nimport Sprite = Laya.Sprite;\r\nimport RenderTexture = Laya.RenderTexture;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport Texture = Laya.Texture;\r\nimport Keyboard = Laya.Keyboard;\r\nimport Label = Laya.Label;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('saitX0-USp6kWQbVIKwJ8w')\r\nexport class Scene2DPlayer3D extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate orthographicPos: Vector3 = new Vector3(0, 0, 0);\r\n\t/** \u5F53\u524D\u6240\u5904\u7684\u65CB\u8F6C\u65B9\u4F4D */\r\n\tprivate _rotation: Vector3 = new Vector3(0, 0, 0);\r\n\tprivate rotationW: Vector3 = new Vector3(0, 0, 0);\r\n\tprivate rotationS: Vector3 = new Vector3(0, 180, 0);\r\n\tprivate rotationA: Vector3 = new Vector3(0, 90, 0);\r\n\tprivate rotationD: Vector3 = new Vector3(0, -90, 0);\r\n\t\r\n\tprivate sp3Role: Sprite3D = new Sprite3D();\r\n\r\n\tprivate spRole: Sprite = new Sprite();\r\n\t/** \u62D6\u5C3E\u7684\u8282\u70B9\u7CBE\u7075 */\r\n\tprivate spTrail: Sprite = new Sprite();\r\n\t/** \u62D6\u5C3E\u7684\u5F53\u524D\u8F6C\u5411 */\r\n\tprivate turnLeft: boolean = true;\r\n \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.create2D();\r\n\r\n\t\t//\u7531\u4E8E2D\u4E0E3D\u6DF7\u5408\uFF0C\u8981\u6D89\u53CA\u5230\u5C4F\u5E55\u9002\u914D\u540E\u7684\u50CF\u7D20\u6570\u503C\u8F6C\u6362\uFF0C\u6700\u597D\u5EF6\u8FDF\u51E0\u5E27\uFF0C\u4FDD\u969C\u5C4F\u5E55\u9002\u914D\u503C\u6B63\u786E\u540E\u518D\u6267\u884C\u76F8\u5173\u903B\u8F91\u3002\u5982\u679C\u662F\u7EE7\u627F\u4E86\u5F15\u64CE\u7684Script\uFF0C\u53EF\u4EE5\u4E0D\u7528\u5EF6\u8FDF\uFF0C\u76F4\u63A5\u5199\u5230onStart\u751F\u547D\u5468\u671F\u91CC\u5373\u53EF\r\n\t\tLaya.timer.frameOnce(5, this, () => {\r\n\t\t\tthis.sp3ToTexture(\"resources/res/threeDimen/skinModel/dude/dude.lh\", this.spRole, 2, true);\r\n\t\t\tthis.spRole.pos(285, 50);\r\n\t\t\tthis.sp3ToTexture(\"resources/res/threeDimen/trail/Cube.lh\", this.spTrail, 3);\r\n\t\t\tthis.spTrail.pos(100, 100);\r\n\t\t});\r\n\r\n\t\t//\u6BCF\u5E27\u5FAA\u73AF\r\n\t\tLaya.timer.frameLoop(1, this, this.onKeyDown);\r\n\r\n\t}\r\n\r\n\t/** \u521B\u5EFA2D\u76F8\u5173 */\r\n\tcreate2D(): void {\r\n\t\t//\u521B\u5EFA\u4E00\u4E2Aimage\u7EC4\u4EF6\u4F5C\u4E3A2D\u573A\u666F\u7684\u80CC\u666F\u56FE\r\n\t\tlet sceneBackGround: Image = new Image(\"resources/res/threeDimen/secne.jpg\");\r\n\t\tsceneBackGround.scale(0.5,0.5);\r\n\t\t//\u6DFB\u52A0\u5230\u821E\u53F0\u4E0A\r\n\t\tthis.owner.addChild(sceneBackGround);\r\n\r\n\t\t//\u6DFB\u52A02D\u7CBE\u7075\uFF0C\r\n\t\tsceneBackGround.addChild(this.spRole);\r\n\t\tsceneBackGround.addChild(this.spTrail);\r\n\r\n\t\t//\u6DFB\u52A0\u64CD\u4F5C\u63D0\u793A\u7684\u6587\u672C\r\n\t\tlet _label = new Label();\r\n\t\tthis.owner.addChild(_label);\r\n\t\t_label.text = \"\u70B9\u51FB\u5C4F\u5E55\u540E\uFF0C\u4F7F\u7528\u952E\u76D8 WSAD \u53EF\u4EE5\u63A7\u5236\u524D\u540E\u5DE6\u53F3\u79FB\u52A8\";\r\n\t\t_label.font = \"SimHei\";\r\n\t\t_label.fontSize = 25;\r\n\t\t_label.color = \"#FFFFFF\";\r\n\t\t_label.top = 10;\r\n\t\t_label.align = \"center\";\r\n\t\t_label.x = 300;\r\n\t}\r\n\r\n\t/** \u52A0\u8F7D3D\u7CBE\u7075\u753B\u52302D Texture\u4E0A \r\n\t * @param lh \u6A21\u578B\u7684\u5B57\u7B26\u4E32\u8DEF\u5F84\r\n\t * @param sp 2D\u7CBE\u7075\u8282\u70B9\uFF0C\u7528\u4E8E\u753B3D\u7684texture\r\n\t * @param layer \u624B\u52A8\u6307\u5B9A\u5C42ID\r\n\t * @param isRole \u662F\u5426\u662F\u53EF\u4EE5\u88AB\u63A7\u5236\u7684\u4E3B\u89D2\r\n\t*/\r\n\tsp3ToTexture(lh: string, sp: Sprite, layer: number, isRole: boolean = false): void {\r\n\t\t//\u52A0\u8F7D\u6A21\u578B\uFF0C\u5E76\u5728\u52A0\u8F7D\u5B8C\u4E4B\u540E\u7684\u56DE\u8C03\u51FD\u6570\u91CC\u5904\u7406\u903B\u8F91\r\n\t\tSprite3D.load(lh, Handler.create(this, (sp3: Sprite3D): void => {\r\n\t\t\t//\u628A\u52A0\u8F7D\u5B8C\u76843D\u7CBE\u7075\u6DFB\u52A0\u52303D\u573A\u666F\r\n\t\t\tthis.scene.addChild(sp3);\r\n\r\n\t\t\t//\u521B\u5EFA\u4E00\u4E2A3D\u6444\u50CF\u673A\r\n\t\t\tvar _camera: Camera = new Camera(0, 0.1, 1000);\r\n\t\t\tthis.scene.addChild(_camera);\r\n\t\t\t//\u8C03\u6574\u6444\u50CF\u673A\u89D2\u5EA6\r\n\t\t\t_camera.transform.rotationEuler = new Vector3(-45, 0, 0);\r\n\r\n\t\t\t//\u8BBE\u7F6E\u6B63\u4EA4\u76F8\u673A\u6A21\u5F0F\r\n\t\t\t_camera.orthographic = true;\r\n\t\t\t//\u6B63\u4EA4\u6295\u5F71\u5782\u76F4\u77E9\u9635\u5C3A\u5BF8\r\n\t\t\t_camera.orthographicVerticalSize = 10;\r\n\t\t\t_camera.clearColor = new Color(0, 0, 0, 0);\r\n\t\t\t//\u8F6C\u63622D\u5C4F\u5E55\u5750\u6807\u7CFB\u7EDF\u52303D\u6B63\u4EA4\u6295\u5F71\u4E0B\u7684\u5750\u6807\u7CFB\u7EDF\r\n\t\t\t_camera.convertScreenCoordToOrthographicCoord(new Vector3(800, 500, 0), this.orthographicPos);\r\n\t\t\tsp3.transform.position = this.orthographicPos;\r\n\t\t\tconsole.log(sp3.transform.position);\r\n\t\t\t//\u521D\u59CB\u5316\u7CBE\u7075\u7F29\u653E\u6BD4\u4F8B\r\n\t\t\tsp3.transform.localScale = new Vector3(1, 1, 1);\r\n\r\n\t\t\t//\u5982\u679C\u6709\u591A\u4E2A3D\u9700\u8981\u5206\u522B\u663E\u793A\u63A7\u5236\uFF0C\u6E05\u9664\u522B\u7684\u5C42\uFF0C\u7528\u4E8E\u6BCF\u4E00\u4E2A\u5C42\u53EA\u663E\u793A\u4E00\u4E2A\uFF0C\u53EA\u6709\u4E00\u4E2A\u7684\u8BDD\uFF0C\u53EF\u4EE5\u4E0D\u4F7F\u7528\u5C42\r\n\t\t\t_camera.removeAllLayers();\r\n\t\t\t//\u6DFB\u52A0\u4E00\u4E2A\u6444\u50CF\u673A\u5C42\r\n\t\t\t_camera.addLayer(layer);\r\n\t\t\t//\u4E00\u5B9A\u8981\u7ED9\u5BF9\u5E94\u7684\u6E32\u67D3\u5BF9\u8C61\u8282\u70B9\u8BBE\u7F6E\u5C42\u4E0E\u6444\u50CF\u673A\u4E00\u6837\u7684\u5C42\uFF0C\u5982\u679C\u4E0D\u6E05\u695A\u662F\u54EA\u4E2A\u8282\u70B9\uFF0C\u5C31\u5199\u4E2A\u5FAA\u73AF\uFF0C\u628A\u6240\u6709\u8282\u70B9\u90FD\u904D\u5386\u8BBE\u7F6E\u4E00\u4E0B\uFF0C\u5426\u5219\u4F1A\u5F71\u54CD\u663E\u793A\u7ED3\u679C\r\n\t\t\t(<Sprite3D>sp3.getChildAt(0).getChildAt(0)).layer = layer;\r\n\r\n\t\t\t//\u628A3D\u753B\u5230512\u5BBD\u9AD8\u7684\u7EB9\u7406\u4E0A\uFF0C\u518D\u6DFB\u52A0\u5230\u6444\u50CF\u673A\u7684\u76EE\u6807\u7EB9\u7406\uFF0C\u5F62\u6210\u52A8\u6001\u7ED1\u5B9A(\u4E00\u4E2A\u6444\u50CF\u673A\u53EA\u80FD\u7ED1\u4E00\u4E2A\uFF0C\u8981\u7ED1\u591A\u4E2A\u5C31\u8981\u521B\u5EFA\u591A\u4E2A\u6444\u50CF\u673A)\r\n\t\t\t_camera.renderTarget = new RenderTexture(512, 512, RenderTargetFormat.R16G16B16A16, RenderTargetFormat.DEPTHSTENCIL_24_8, false, 4);\r\n\t\t\t//\u518D\u5C06\u79BB\u5C4F3D\u753B\u52302D\u8282\u70B9\u4E0A\uFF0C\u81F3\u6B64\uFF0C\u5C31\u5B8C\u6210\u628A3D\u753B\u52302D\u7684\u57FA\u7840\u6E32\u67D3\u6D41\u7A0B\r\n\t\t\tsp.texture = new Texture(_camera.renderTarget);\r\n\r\n\t\t\t//\u6839\u636E\u53C2\u6570\u51B3\u5B9A\u662F\u5426\u8981\u63A7\u5236\u54EA\u4E2A\u8282\u70B9\r\n\t\t\tisRole && (this.sp3Role = sp3);\r\n\t\t}));\r\n\t}\r\n\r\n\t/** \u5728\u6BCF\u5E27\u7684\u5FAA\u73AF\u91CC\u5E27\u542C\u952E\u76D8\u4E8B\u4EF6\u5E76\u4F5C\u51FA\u5BF9\u5E94\u7684\u64CD\u4F5C\u903B\u8F91 */\r\n\tonKeyDown(): void {\r\n\t\t//\u8C03\u6574\u62D6\u5C3E\u8F6C\u5411\r\n\t\tif (this.spTrail.x < 20 && this.turnLeft) this.turnLeft = false;\r\n\t\telse if (this.spTrail.x > (this.pageWidth - 300) && !(this.turnLeft)) this.turnLeft = true;\r\n\t\t//\u63A7\u5236\u62D6\u5C3E\u7684\u81EA\u52A8\u79FB\u52A8\r\n\t\tif (this.turnLeft) this.spTrail.x -= 1;\r\n\t\telse this.spTrail.x += 1;\r\n\r\n\t\tif (InputManager.hasKeyDown(Keyboard.W)) {\r\n\t\t\tthis.spRole.y -= 1;\r\n\t\t\tthis.rotateRole(this.rotationW);\r\n\t\t} else if (InputManager.hasKeyDown(Keyboard.S)) {\r\n\t\t\tthis.spRole.y += 1;\r\n\t\t\tthis.rotateRole(this.rotationS);\r\n\t\t} else if (InputManager.hasKeyDown(Keyboard.A)) {\r\n\t\t\tthis.spRole.x -= 1;\r\n\t\t\tthis.rotateRole(this.rotationA);\r\n\t\t} else if (InputManager.hasKeyDown(Keyboard.D)) {\r\n\t\t\tthis.spRole.x += 1;\r\n\t\t\tthis.rotateRole(this.rotationD);\r\n\t\t}\r\n\t}\r\n\r\n\t/** \u6539\u53D8\u89D2\u8272\u7684\u671D\u5411 \r\n\t * @param r Vector3\u65CB\u8F6C\u503C\r\n\t */\r\n\tprivate rotateRole(r: Vector3): void {\r\n\t\tif (r === this._rotation) return;\r\n\t\t//\u6309\u4E16\u754C\u5750\u6807\u6539\u53D8\u5230\u6307\u5B9A\u7684\u65B9\u4F4D\r\n\t\tthis.sp3Role.transform.rotationEuler = r;\r\n\t\t//\u7EAA\u5F55\u5F53\u524D\u65B9\u4F4D\uFF0C\u907F\u514D\u91CD\u590D\u6539\u53D8\r\n\t\tthis._rotation = r;\r\n\t}\r\n\r\n\t\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('SYClKHysSwSLUuJ2-Y1Nwg')\r\nexport class Secne3DPlayer2D extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private layaMonkey3D:Laya.Sprite3D;\r\n    private layaMonkey2D:Laya.Image;\r\n    private _position:Laya.Vector3 = new Laya.Vector3();\r\n    private _outPos:Laya.Vector4 = new Laya.Vector4();\r\n    private scaleDelta:number = 0;\r\n    private clientScaleX = 0;\r\n    private clientScaleY = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.clientScaleY = Laya.stage.clientScaleX;\r\n        this.clientScaleX = Laya.stage.clientScaleY;\r\n\r\n        this.camera.transform.position = new Laya.Vector3(0, 0.75, 1.2);\r\n        this.camera.transform.rotationEuler = new Laya.Vector3( -30, 0, 0);\r\n        \r\n        \r\n        Laya.loader.load(\"resources/res/threeDimen/staticModel/grid/plane.lh\").then( (res)=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t} )\r\n    }\r\n\r\n    public onComplete(res: any): void {\r\n        \r\n        //\u52A0\u8F7D\u4E09\u7EF4\u5730\u9762\r\n        var grid = this.scene.addChild(res.create()) as Laya.Sprite3D;\r\n        this.layaMonkey2D = this.owner.addChild(new Laya.Image(\"resources/res/threeDimen/monkey.png\")) as Laya.Image;\r\n        this.layaMonkey2D.anchorX = 0.5;\r\n        this.layaMonkey2D.scale(0.5,0.5);\r\n        Laya.timer.frameLoop(1, this, this.animate);\r\n    }\r\n\r\n    private animate(): void {\r\n        this._position.x = Math.sin(this.scaleDelta += 0.01);\r\n        //\u8F6C\u6362\u5750\u6807\r\n        this.camera.viewport.project(this._position, this.camera.projectionViewMatrix, this._outPos);\r\n\r\n        let x = 0;\r\n        let y = 0;\r\n\r\n        // console.log(this._outPos.x,this._outPos.y);\r\n        //\u8D4B\u503C\u7ED92D        \r\n        if( Index.curPage && Laya.Browser.onPC)\r\n        {\r\n            x = this._outPos.x * Index.pageWidth / Laya.Browser.clientWidth;\r\n            y = this._outPos.y * Index.pageHeight / Laya.Browser.clientHeight;\r\n        }\r\n        else\r\n        {\r\n            x = this._outPos.x / this.clientScaleX;\r\n            y = this._outPos.y / this.clientScaleY;\r\n        }\r\n\r\n        // console.log(x, y);\r\n        // console.log(this.clientScaleX,this.clientScaleY);\r\n        this.layaMonkey2D.pos(x, y);\r\n    }\r\n \r\n}", "#define SHADER_NAME SeparableSSSGasFS\r\nconst int StepRange = 3;\r\nconst int SamplerNum = 17;\r\nuniform vec4 u_kernel[SamplerNum];\r\n\r\n//uv\r\nvarying vec2 v_Texcoord0;\r\n\r\nvec4 Sample17Nums(vec2 finalStep,vec4 colorBlurred,float depthM,vec4 colorM){\r\n      for (int i = 1; i < SamplerNum; i++) {\r\n        // Fetch color and depth for current sample:\r\n        vec2 offset = v_Texcoord0 + u_kernel[i].a * finalStep;\r\n        vec4 color = texture2D(u_MainTex, offset);\r\n\r\n            // // If the difference in depth is huge, we lerp color back to \"colorM\"://\u6DF1\u5EA6\u5DEE\u5F02\u8FC7\u5927 \u6211\u4EEC\u628A\u989C\u8272\u8FD8\u539F\u4E3A\u539F\u8272\r\n             float depth = texture2D(u_depthTex, offset).r;\r\n             float s = clamp(300.0 * abs(depthM - depth),0.0,1.0);\r\n            color.rgb = mix(color.rgb, colorM.rgb, s);\r\n\r\n        // Accumulate:\r\n        colorBlurred.rgb += u_kernel[i].rgb * color.rgb;\r\n       \r\n    }\r\n     return colorBlurred;\r\n}\r\n\r\n\r\nvoid main()\r\n{\r\n    vec4 colorM = texture2D(u_MainTex,v_Texcoord0);\r\n\r\n    //   if (initStencil) // (Checked in compile time, it's optimized away)\u5982\u679C\u6A21\u5177\u7F13\u51B2\u533A\u4E0D\u53EF\u7528\uFF0C\u8BF7\u521D\u59CB\u5316\u8BE5\u7F13\u51B2\u533A\uFF1A\r\n    //     if (SSSS_STREGTH_SOURCE == 0.0) discard;\r\n\r\n    float depthM = texture2D(u_depthTex,v_Texcoord0).r;\r\n    //\u8BA1\u7B97\u968F\u7740depth\u7684\u53D8\u5316ssswidth\u7684\u6BD4\u4F8B\r\n    float scale = u_distanceToProjectionWindow/depthM;\r\n    //\u8BA1\u7B97\u50CF\u7D20\u91C7\u6837\u6B65\u957F\r\n    vec2 finalStep = u_sssWidth *scale* u_blurDir;\r\n    finalStep *=colorM.a* 0.2;\r\n\r\n    vec4 colorBlurred = colorM;\r\n\r\n    colorBlurred.rgb*=u_kernel[0].rgb;\r\n    colorBlurred = Sample17Nums(finalStep,colorBlurred,depthM,colorM);\r\n    //\u7D2F\u8BA1\u5176\u4ED6\u91C7\u6837\r\n    //   for (int i = 1; i < SSSS_N_SAMPLES; i++) {\r\n    //     // Fetch color and depth for current sample:\r\n    //     float2 offset = texcoord + kernel[i].a * finalStep;\r\n    //     float4 color = SSSSSample(colorTex, offset);\r\n\r\n    //     #if SSSS_FOLLOW_SURFACE == 1\r\n    //     // If the difference in depth is huge, we lerp color back to \"colorM\":\r\n    //     float depth = SSSSSample(depthTex, offset).r;\r\n    //     float s = SSSSSaturate(300.0f * distanceToProjectionWindow *\r\n    //                            sssWidth * abs(depthM - depth));\r\n    //     color.rgb = SSSSLerp(color.rgb, colorM.rgb, s);\r\n    //     #endif\r\n\r\n    //     // Accumulate:\r\n    //     colorBlurred.rgb += kernel[i].rgb * color.rgb;\r\n    // }\r\n    gl_FragColor = colorBlurred;\r\n}\r\n\r\n", "#define SHADER_NAME SeparableSSSGasVS\r\n#include \"Camera.glsl\";\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main() {\t\r\n\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\r\n\tv_Texcoord0 = a_PositionTexcoord.zw;\r\n\tgl_Position = remapPositionZ(gl_Position);\r\n}", "\r\nimport SeprableSSSFS from \"../shader/SeparableSSS_GasBlur.fs\";\r\nimport SeprableSSSVS from \"../shader/SeparableSSS_GasBlur.vs\";\r\n\r\nimport Material = Laya.Material;\r\nimport ShaderDataType = Laya.ShaderDataType;\r\nimport BaseTexture = Laya.BaseTexture;\r\nimport Vector3 = Laya.Vector3;\r\nimport Shader3D = Laya.Shader3D;\r\nimport RenderState = Laya.RenderState;\r\nimport SubShader = Laya.SubShader;\r\nimport VertexMesh = Laya.VertexMesh;\r\nimport Vector4 = Laya.Vector4;\r\nimport Vector2 = Laya.Vector2;\r\nimport MathUtils3D = Laya.MathUtils3D;\r\n\r\n\r\nexport class SeparableSSS_BlitMaterial extends Material {\r\n\r\n\tstatic SHADERVALUE_COLORTEX: number;\r\n\tstatic SHADERVALUE_DEPTHTEX: number;\r\n\tstatic SHADERVALUE_BLURDIR: number;\r\n\tstatic SHADERVALUE_SSSWIDTH: number;\r\n\tstatic SHADERVALUE_DISTANCETOPROJECTIONWINDOW: number;\r\n\tstatic SHADERVALUE_KENEL: number;\r\n\r\n\tstatic SHADERDEFINE_SAMPLE_HIGH: any;\r\n\tstatic init() {\r\n\t\tSeparableSSS_BlitMaterial.SHADERVALUE_COLORTEX = Shader3D.propertyNameToID(\"u_MainTex\");\r\n\t\tSeparableSSS_BlitMaterial.SHADERVALUE_DEPTHTEX = Shader3D.propertyNameToID(\"u_depthTex\");\r\n\t\tSeparableSSS_BlitMaterial.SHADERVALUE_BLURDIR = Shader3D.propertyNameToID(\"u_blurDir\");\r\n\t\tSeparableSSS_BlitMaterial.SHADERVALUE_SSSWIDTH = Shader3D.propertyNameToID(\"u_sssWidth\");\r\n\t\tSeparableSSS_BlitMaterial.SHADERVALUE_DISTANCETOPROJECTIONWINDOW = Shader3D.propertyNameToID(\"u_distanceToProjectionWindow\");\r\n\t\tSeparableSSS_BlitMaterial.SHADERVALUE_KENEL = Shader3D.propertyNameToID(\"u_kernel\");\r\n\r\n\t\tvar attributeMap: { [name: string]: [number, ShaderDataType] } = {\r\n\t\t\t'a_PositionTexcoord': [VertexMesh.MESH_POSITION0, ShaderDataType.Vector4]\r\n\t\t};\r\n\t\tvar uniformMap: any  = {\r\n\t\t\t\"u_MainTex\": ShaderDataType.Texture2D,\r\n\t\t\t\"u_depthTex\": ShaderDataType.Texture2D,\r\n\t\t\t\"u_blurDir\": ShaderDataType.Vector2,\r\n\t\t\t\"u_sssWidth\": ShaderDataType.Float,\r\n\t\t\t\"u_distanceToProjectionWindow\": ShaderDataType.Float,\r\n\t\t};\r\n\t\tvar shader: Shader3D = Shader3D.add(\"SeparableSSS\", true, true);\r\n\t\tvar subShader: SubShader = new SubShader(attributeMap, uniformMap);\r\n\t\tshader.addSubShader(subShader);\r\n\t\tvar shaderpass = subShader.addShaderPass(SeprableSSSVS, SeprableSSSFS);\r\n\t\tvar renderState = shaderpass.renderState;\r\n\t\trenderState = shaderpass.renderState;\r\n\t\trenderState.depthTest = RenderState.DEPTHTEST_ALWAYS;\r\n\t\trenderState.depthWrite = false;\r\n\t\trenderState.cull = RenderState.CULL_NONE;\r\n\t\trenderState.blend = RenderState.BLEND_DISABLE;\r\n\t}\r\n\r\n\tprivate _fallOff: Vector3;\r\n\tprivate _strength: Vector3;\r\n\tprivate _nSampler: number;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.setShaderName(\"SeparableSSS\");\r\n\t\tthis._fallOff = new Vector3(1.0, 0.37, 0.3);\r\n\t\tthis._strength = new Vector3(0.48, 0.41, 0.28);\r\n\t\tthis._nSampler = 17;\r\n\t\tthis.sssWidth = 0.0012;\r\n\t\tthis.kenel = this.calculateKernel(this._nSampler, this._strength, this._fallOff);\r\n\t}\r\n\r\n\t/**\r\n\t * \u8BBE\u7F6Ediffuse\u5149\u7167\u56FE\u7247\r\n\t */\r\n\tset colorTex(value: BaseTexture) {\r\n\t\tthis.shaderData.setTexture(SeparableSSS_BlitMaterial.SHADERVALUE_COLORTEX, value);\r\n\r\n\t}\r\n\r\n\t//\u6A21\u7CCA\u91C7\u6837\u65B9\u5411  \u4E00\u822C\u662Fhorizontal\u4E00\u6B21 vertical\u4E00\u6B21\r\n\tset blurDir(value: Vector2) {\r\n\t\tthis.shaderData.setVector2(SeparableSSS_BlitMaterial.SHADERVALUE_BLURDIR, value);\r\n\t}\r\n\r\n\t//\u6DF1\u5EA6\u8D34\u56FE\r\n\tset depthTex(value: BaseTexture) {\r\n\t\tthis.shaderData.setTexture(SeparableSSS_BlitMaterial.SHADERVALUE_DEPTHTEX, value);\r\n\t}\r\n\t//\u91C7\u6837\u5BBD\u5EA6,\u9650\u5236\u518D0-0.025\r\n\tset sssWidth(value: number) {\r\n\t\tvalue = Math.max(value, 0);\r\n\t\tvalue = Math.min(value, 0.025);\r\n\t\tthis.shaderData.setNumber(SeparableSSS_BlitMaterial.SHADERVALUE_SSSWIDTH, value);\r\n\t}\r\n\r\n\t//\u8BBE\u7F6E\u6838\u7B97\u6CD5\u53D8\u91CF\r\n\tset kenel(value: Vector4[]) {\r\n\t\tlet shaderval: Float32Array = new Float32Array(value.length * 4);\r\n\t\tfor (let i = 0, n = value.length; i < n; i++) {\r\n\t\t\tlet ind = i * 4;\r\n\t\t\tshaderval[ind] = value[i].x;\r\n\t\t\tshaderval[ind + 1] = value[i].y;\r\n\t\t\tshaderval[ind + 2] = value[i].z;\r\n\t\t\tshaderval[ind + 3] = value[i].w;\r\n\t\t}\r\n\t\tthis.shaderData.setBuffer(SeparableSSS_BlitMaterial.SHADERVALUE_KENEL, shaderval);\r\n\t}\r\n\r\n\t//\u8870\u51CF\r\n\tset falloff(value: Vector3) {\r\n\t\t//@ts-ignore\r\n\t\tVector3.max(value, Vector3.ZERO, value);\r\n\t\t//@ts-ignore\r\n\t\tVector3.min(value, Vector3.ONE, value);\r\n\t\tthis._fallOff = value;\r\n\t\tthis.kenel = this.calculateKernel(this._nSampler, this._fallOff, this._strength);\r\n\t}\r\n\r\n\t//\u5F3A\u5EA6\r\n\tset strength(value: Vector3) {\r\n\t\t//@ts-ignore\r\n\t\tVector3.max(value, Vector3.ZERO, value);\r\n\t\t//@ts-ignore\r\n\t\tVector3.min(value, Vector3.ONE, value);\r\n\t\tthis._strength = value;\r\n\t\tthis.kenel = this.calculateKernel(this._nSampler, this._fallOff, this._strength);\r\n\t}\r\n\r\n\t//\u91C7\u6837\u6570\r\n\tset nSamples(value: number) {\r\n\t\tthis._nSampler = value;\r\n\t\tthis.kenel = this.calculateKernel(this._nSampler, this._fallOff, this._strength);\r\n\t}\r\n\r\n\t//camera\u7684view\u89D2\u5EA6\r\n\tset cameraFiledOfView(value: number) {\r\n\t\tlet distanceToProject = 1.0 / Math.tan(0.5 * value * MathUtils3D.Deg2Rad);\r\n\t\tthis._shaderValues.setNumber(SeparableSSS_BlitMaterial.SHADERVALUE_DISTANCETOPROJECTIONWINDOW, distanceToProject);\r\n\t}\r\n\r\n\t/**\r\n\t * @internal  \u8BA1\u7B97\u9AD8\u5EA6\u6A21\u62DF\u8FD1\u4F3C\u7684\u6838\u7B97\u6CD5\u51FD\u6570\r\n\t * @param nSamples \r\n\t * @param strength \r\n\t * @param falloff \r\n\t */\r\n\tprivate calculateKernel(nSamples: number, strength: Vector3, falloff: Vector3): Array<Vector4> {\r\n\t\tlet range = nSamples > 20 ? 3.0 : 2.0;\r\n\t\tlet exponent = 2.0;//\u6307\u6570\r\n\t\tlet Kernel: Array<Vector4> = new Array<Vector4>(nSamples);\r\n\t\t//caculate offset\u8BA1\u7B97\u504F\u79FB\r\n\t\tlet step = 2.0 * range / (nSamples - 1);\r\n\t\tfor (let i = 0; i < nSamples; i++) {\r\n\t\t\tlet o = -range + i * step;\r\n\t\t\tlet sign = o < 0.0 ? -1.0 : 1.0;\r\n\t\t\tKernel[i] = new Vector4();\r\n\t\t\tKernel[i].w = range * sign * Math.abs(Math.pow(o, exponent)) / Math.pow(range, exponent);\r\n\t\t}\r\n\r\n\t\t//caculate weights\u8BA1\u7B97\u6743\u91CD\r\n\t\tfor (let i = 0; i < nSamples; i++) {\r\n\t\t\tlet w0 = i > 0 ? Math.abs(Kernel[i].w - Kernel[i - 1].w) : 0.0;\r\n\t\t\tlet w1 = i < nSamples - 1 ? Math.abs(Kernel[i].w - Kernel[i + 1].w) : 0.0;\r\n\t\t\tlet area = (w0 + w1) / 2.0;\r\n\t\t\tlet t: Vector3 = this.prefile(Kernel[i].w, falloff);\r\n\t\t\tVector3.scale(t, area, t);\r\n\t\t\tKernel[i].x = t.x;\r\n\t\t\tKernel[i].y = t.y;\r\n\t\t\tKernel[i].z = t.z;\r\n\t\t}\r\n\r\n\t\tlet t = Kernel[Math.floor(nSamples / 2)];\r\n\t\tfor (var i = Math.floor(nSamples / 2); i > 0; i--) {\r\n\t\t\tKernel[i] = Kernel[i - 1];\r\n\t\t}\r\n\t\tKernel[0] = t;\r\n\r\n\t\tlet sum = new Vector3(0.0, 0.0, 0.0);\r\n\t\t//Calculate the sum of the weights, we will need to normalize them below:\r\n\t\tfor (let i = 0; i < nSamples; i++) {\r\n\t\t\t//Vector3.add(sum,nSamples[i],sum);\r\n\t\t\tsum.x += Kernel[i].x;\r\n\t\t\tsum.y += Kernel[i].y;\r\n\t\t\tsum.z += Kernel[i].z;\r\n\t\t}\r\n\r\n\t\t//Normalize the weights\r\n\t\tfor (let i = 0; i < nSamples; i++) {\r\n\t\t\tKernel[i].x /= sum.x;\r\n\t\t\tKernel[i].y /= sum.y;\r\n\t\t\tKernel[i].z /= sum.z;\r\n\t\t}\r\n\r\n\t\t// Tweak them using the desired strength. The first one is:\r\n\t\t//     lerp(1.0, kernel[0].rgb, strength)\r\n\t\tKernel[0].x = (1.0 - strength.x) + strength.x * Kernel[0].x;\r\n\t\tKernel[0].y = (1.0 - strength.y) + strength.y * Kernel[0].y;\r\n\t\tKernel[0].z = (1.0 - strength.z) + strength.z * Kernel[0].z;\r\n\r\n\t\tfor (let i = 1; i < nSamples; i++) {\r\n\t\t\tKernel[i].x *= strength.x;\r\n\t\t\tKernel[i].y *= strength.y;\r\n\t\t\tKernel[i].z *= strength.z;\r\n\t\t}\r\n\r\n\t\treturn Kernel;\r\n\t}\r\n\r\n\t/**\r\n\t * @internal\r\n\t * @param r \r\n\t * @param falloff \r\n\t */\r\n\tprefile(r: number, falloff: Vector3): Vector3 {\r\n\t\t//\u6211\u4EEC\u5C06[2007]\u4E2D\u5B9A\u4E49\u7684\u539F\u59CB\u76AE\u80A4\u8F6E\u5ED3\u7684\u7EA2\u8272\u901A\u9053\u7528\u4E8E\u6240\u6709\u4E09\u4E2A\u901A\u9053\u3002\u6211\u4EEC\u6CE8\u610F\u5230\u5B83\u53EF\u4EE5\u7528\u4E8E\u7EFF\u8272\u548C\u84DD\u8272\u901A\u9053\uFF08\u4F7F\u7528\u8870\u51CF\u53C2\u6570\u7F29\u653E\uFF09\uFF0C\u800C\u4E0D\u4F1A\u5F15\u5165\u660E\u663E\u7684\u5DEE\u5F02\uFF0C\u5E76\u5141\u8BB8\u5BF9\u8F6E\u5ED3\u8FDB\u884C\u5B8C\u5168\u63A7\u5236\u3002\r\n\t\t//0.100 * gaussian(0.0484, r) +\r\n\t\t//0.118 * gaussian( 0.187, r) +\r\n\t\t//0.113 * gaussian( 0.567, r) +\r\n\t\t//0.358 * gaussian(  1.99, r) +\r\n\t\t//0.078 * gaussian(  7.41, r);\r\n\t\t//\u628AVector3\u53D8\u4E3AArray\r\n\t\tlet falloffArray: Array<number> = [falloff.x, falloff.y, falloff.z];\r\n\r\n\t\tlet v1 = this.gaussian(0.0484, r, falloffArray);\r\n\t\tVector3.scale(v1, 0.100, v1);\r\n\r\n\t\tlet v2 = this.gaussian(0.187, r, falloffArray);\r\n\t\tVector3.scale(v2, 0.118, v2);\r\n\r\n\t\tlet v3 = this.gaussian(0.567, r, falloffArray);\r\n\t\tVector3.scale(v3, 0.113, v3);\r\n\r\n\t\tlet v4 = this.gaussian(1.99, r, falloffArray);\r\n\t\tVector3.scale(v4, 0.358, v4);\r\n\r\n\t\tlet v5 = this.gaussian(7.41, r, falloffArray);\r\n\t\tVector3.scale(v5, 0.078, v5);\r\n\r\n\t\tlet vec3 = new Vector3(v1.x + v2.x + v3.x + v4.x + v5.x,\r\n\t\t\tv1.y + v2.y + v3.y + v4.y + v5.y,\r\n\t\t\tv1.z + v2.z + v3.z + v4.z + v5.z);\r\n\t\treturn vec3;\r\n\t}\r\n\r\n\t/**\r\n\t * \u9AD8\u65AF\u51FD\u6570\r\n\t * @param variance \r\n\t * @param r \r\n\t * @param falloff \r\n\t */\r\n\tgaussian(variance: number, r: number, falloff: Array<number>): Vector3 {\r\n\t\t//\u6211\u4EEC\u4F7F\u7528\u8870\u51CF\u6765\u8C03\u6574\u8F6E\u5ED3\u7684\u5F62\u72B6\u3002\u8F83\u5927\u7684\u8870\u51CF\u4F7F\u5F62\u72B6\u66F4\u5BBD\uFF0C\u800C\u8F83\u5C0F\u7684\u8870\u51CF\u4F7F\u5F62\u72B6\u66F4\u7BAD\u5934\u3002\r\n\r\n\t\tlet g = new Vector3();\r\n\t\tlet gg = new Array<number>();\r\n\t\tfor (let i = 0; i < 3; i++) {\r\n\t\t\tlet rr = r / (falloff[i] + 0.001);\r\n\t\t\tgg[i] = Math.exp((-(rr * rr)) / (2.0 * variance)) / (2.0 * 3.14 * variance);\r\n\t\t}\r\n\t\tg.setValue(gg[0], gg[1], gg[2]);\r\n\t\treturn g;\r\n\t}\r\n}", "#define SHADER_NAME SeparableSSSRenderVS\r\n#include \"Camera.glsl\";\r\n#include \"VertexCommon.glsl\";\r\n#include \"Sprite3DVertex.glsl\";\r\n\r\nvarying vec2 v_Texcoord0;\r\nvarying vec4 v_ScreenTexcoord;\r\n\r\nvoid main() {\r\n\tVertex vertex;\r\n\tgetVertexParams(vertex);\r\n\tmat4 worldMat = getWorldMatrix();\r\n\tvec3 positionWS = (worldMat * vec4(vertex.positionOS, 1.0)).xyz;\r\n\tgl_Position = getPositionCS(positionWS);\r\n\tgl_Position= remapPositionZ(gl_Position);\r\n\tv_Texcoord0= transformUV(a_Texcoord0, u_TilingOffset);\r\n\t//v_ScreenTexcoord =vec2((gl_Position.x/gl_Position.w+1.0)*0.5, (gl_Position.y/gl_Position.w+1.0)*0.5);\r\n\tv_ScreenTexcoord = gl_Position*0.5;\r\n\tv_ScreenTexcoord.xy = vec2(v_ScreenTexcoord.x,v_ScreenTexcoord.y)+v_ScreenTexcoord.w;\r\n\tv_ScreenTexcoord.zw = gl_Position.zw;\r\n}", "#define SHADER_NAME SeparableSSSRenderFS\r\nvarying vec2 v_Texcoord0;\r\nvarying vec4 v_ScreenTexcoord;\r\n\r\nvoid main()\r\n{\r\n\tvec4 color;\r\n\tcolor =texture2D(sssssDiffuseTexture,v_ScreenTexcoord.xy/v_ScreenTexcoord.w)+texture2D(sssssSpecularTexture, v_ScreenTexcoord.xy/v_ScreenTexcoord.w);\r\n\r\n\tgl_FragColor = color;\r\n}\r\n\r\n", "import SSSSRenderVS from \"./../shader/SeparableSSS_Render.vs\";\r\nimport SSSSRenderFS from \"./../shader/SeparableSSS_Render.fs\";\r\n\r\nimport Material = Laya.Material;\r\nimport ShaderDataType = Laya.ShaderDataType;\r\nimport BaseTexture = Laya.BaseTexture;\r\nimport Vector3 = Laya.Vector3;\r\nimport Shader3D = Laya.Shader3D;\r\nimport RenderState = Laya.RenderState;\r\nimport SubShader = Laya.SubShader;\r\nimport VertexMesh = Laya.VertexMesh;\r\nimport Vector4 = Laya.Vector4;\r\nimport Vector2 = Laya.Vector2;\r\nimport MathUtils3D = Laya.MathUtils3D;\r\n\r\nexport class SeparableSSSRenderMaterial extends Material {\r\n\r\n    static SSSSDIFUSETEX: number;\r\n    static SSSSSPECULARTEX: number;\r\n    static TILINGOFFSET: number;\r\n\r\n    static init() {\r\n        SeparableSSSRenderMaterial.SSSSDIFUSETEX = Shader3D.propertyNameToID(\"sssssDiffuseTexture\");\r\n        SeparableSSSRenderMaterial.SSSSSPECULARTEX = Shader3D.propertyNameToID(\"sssssSpecularTexture\");\r\n        SeparableSSSRenderMaterial.TILINGOFFSET = Shader3D.propertyNameToID(\"u_TilingOffset\");\r\n        var shader: Shader3D = Shader3D.add(\"SeparableRender\", false, true);\r\n        var attributeMap: any = {\r\n            'a_Position': [VertexMesh.MESH_POSITION0, ShaderDataType.Vector4],\r\n\t\t\t'a_Normal': [VertexMesh.MESH_NORMAL0, ShaderDataType.Vector3],\r\n\t\t\t'a_Texcoord0': [VertexMesh.MESH_TEXTURECOORDINATE0, ShaderDataType.Vector2],\r\n\t\t\t'a_Tangent0': [VertexMesh.MESH_TANGENT0, ShaderDataType.Vector4],\r\n        };\r\n\r\n        var uniformMap: any = {\r\n            'sssssDiffuseTexture': ShaderDataType.Texture2D,\r\n            'sssssSpecularTexture': ShaderDataType.Texture2D,\r\n\t\t\t'u_TilingOffset': ShaderDataType.Vector4,\r\n\t\t\t'u_MvpMatrix': ShaderDataType.Matrix4x4\r\n        };\r\n        var subShader: SubShader = new SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        subShader.addShaderPass(SSSSRenderVS, SSSSRenderFS, \"Forward\");\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this.setShaderName(\"SeparableRender\");\r\n        this.renderModeSet();\r\n        this._shaderValues.setVector(SeparableSSSRenderMaterial.TILINGOFFSET, new Vector4(1, 1, 0, 0));\r\n    }\r\n\r\n    //\u6E32\u67D3\u6A21\u5F0F\r\n    renderModeSet() {\r\n        this.alphaTest = false;//\u6DF1\u5EA6\u6D4B\u8BD5\u5173\u95ED\r\n        this.renderQueue = Material.RENDERQUEUE_TRANSPARENT;//\u6E32\u67D3\u987A\u5E8F\u653E\u5728\u540E\u9762\r\n        this.depthWrite = true;\r\n        this.cull = RenderState.CULL_BACK;\r\n        this.blend = RenderState.BLEND_DISABLE;\r\n        this.depthTest = RenderState.DEPTHTEST_LESS;\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport { SeparableSSS_BlitMaterial } from \"./SeparableSSSRender/Material/SeparableSSS_BlitMaterial\";\r\nimport { SeparableSSSRenderMaterial } from \"./SeparableSSSRender/Material/SeparableSSS_RenderMaterial\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\nimport CameraEventFlags = Laya.CameraEventFlags;\r\nimport Shader3D = Laya.Shader3D;\r\nimport UnlitMaterial = Laya.UnlitMaterial;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector4 = Laya.Vector4;\r\nimport Loader = Laya.Loader;\r\nimport Button = Laya.Button;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport MeshFilter = Laya.MeshFilter;\r\nimport Camera = Laya.Camera;\r\nimport CommandBuffer = Laya.CommandBuffer;\r\nimport Mesh = Laya.Mesh;\r\nimport Viewport = Laya.Viewport;\r\nimport RenderTexture = Laya.RenderTexture;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport Vector2 = Laya.Vector2;\r\nimport FilterMode = Laya.FilterMode;\r\nimport Color = Laya.Color;\r\nimport DepthTextureMode = Laya.DepthTextureMode;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('PJvIZimlS-ylEVjvKxjBVg')\r\nexport class SeparableSSS_RenderDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    \r\n    blinnphongCharacter:MeshSprite3D;\r\n    SSSSSCharacter:MeshSprite3D;\r\n    characterBlinnphongMaterial:BlinnPhongMaterial;\r\n    pbrCharacter:MeshSprite3D;\r\n    pbrMaterial:PBRStandardMaterial;\r\n    //testPlane\r\n    planeMat:UnlitMaterial;\r\n    sssssBlitMaterail:SeparableSSS_BlitMaterial;\r\n    sssssRenderMaterial:SeparableSSSRenderMaterial;\r\n    private changeActionButton:Button;\r\n   \r\n    //reference:https://github.com/iryoku/separable-sss \r\n    //\u6D41\u7A0B\uFF1A\u5206\u522B\u6E32\u67D3\u76AE\u80A4Mesh\u7684\u6F2B\u53CD\u5C04\u90E8\u5206\u4EE5\u53CA\u6E32\u67D3\u76AE\u80A4Mesh\u7684\u9AD8\u5149\u90E8\u5206,\u5206\u522B\u5B58\u50A8\u5728\u4E0D\u540C\u7684FrameBuffer\u4E2D\r\n    //\u8FDB\u884C\u4E24\u6B21\u6839\u636Ekenerl\u7684\u9AD8\u65AF\u91C7\u6837\u6A21\u62DF\u591A\u6781\u5B50\u5149\u7167\u6A21\u578B\r\n    //\u518D\u5C06\u9AD8\u5149\u90E8\u5206\u4E0E\u6A21\u7CCA\u597D\u7684\u5730\u65B9\u91CD\u65B0\u76F8\u52A0\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\t\r\n    onAwake(): void {\r\n\t\t\r\n        super.base(this.camera);\r\n\r\n        Shader3D.debugMode = true;\r\n        this.camera.depthTextureMode = DepthTextureMode.Depth;\r\n        SeparableSSS_BlitMaterial.init();\r\n        SeparableSSSRenderMaterial.init();\r\n        \r\n        this.sssssBlitMaterail = new SeparableSSS_BlitMaterial();\r\n        this.sssssRenderMaterial = new SeparableSSSRenderMaterial();\r\n\t\t//\u9884\u52A0\u8F7D\u8D44\u6E90\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/LayaScene_separable-sss/Conventional/HeadBlinnphong.lh\").then((res)=>{\r\n\t\t\tthis.onPreLoadFinish(res);\r\n\t\t});\r\n\t}\r\n   \r\n    onPreLoadFinish(res:any){\r\n\r\n        //\u6253\u5F00depthTexture\r\n        this.blinnphongCharacter = res.create();\r\n        this.characterBlinnphongMaterial = <BlinnPhongMaterial>this.blinnphongCharacter.getComponent(MeshRenderer).sharedMaterial.clone();\r\n        //\u589E\u52A0Mesh\u8282\u70B9\r\n        let buf = this.createCommandBuffer(this.camera,this.blinnphongCharacter.getComponent(MeshFilter).sharedMesh);\r\n        this.camera.addCommandBuffer(CameraEventFlags.BeforeForwardOpaque,buf);\r\n        this.sssssBlitMaterail.cameraFiledOfView = this.camera.fieldOfView;\r\n\r\n        //\u589E\u52A0\u8282\u70B9\r\n        this.SSSSSCharacter = <MeshSprite3D>this.blinnphongCharacter.clone();\r\n        this.SSSSSCharacter.getComponent(MeshRenderer).sharedMaterial = this.sssssRenderMaterial;\r\n        this.scene.addChild(this.SSSSSCharacter);\r\n        this.scene.addChild(this.blinnphongCharacter);\r\n\r\n        this.blinnphongCharacter.active = true;\r\n        this.SSSSSCharacter.active = false;\r\n        \r\n    }\r\n\r\n    createCommandBuffer(camera:Camera,character:Mesh):CommandBuffer{\r\n        //\u8BB0\u5F55\u4E00\u4E0B\u6700\u5F00\u59CB\u7684\u6F2B\u53CD\u5C04\u989C\u8272\u548C\u9AD8\u5149\u989C\u8272\r\n        let oriColor = this.characterBlinnphongMaterial.albedoColor;\r\n        let oriSpec = this.characterBlinnphongMaterial.specularColor;\r\n\r\n        let buf: CommandBuffer = new CommandBuffer();\r\n        let viewPort: Viewport = camera.viewport;\r\n\r\n        //\u5728\u5EF6\u8FDF\u6E32\u67D3\u7BA1\u7EBF\u4E2D  \u53EF\u4EE5\u4E00\u4E0B\u628A\u4E09\u5F20\u56FE\u76F4\u63A5\u641E\u51FA\u6765\r\n        //\u5728\u6211\u4EEC\u524D\u5411\u6E32\u67D3\u7BA1\u7EBF\u4E2D  \u591A\u6D6A\u8D39\u4E86\u51E0\u6B21drawMesh\u7684\u6027\u80FD\r\n        //\u6DF1\u5EA6\u8D34\u56FE\r\n        let depthTexture = RenderTexture.createFromPool(viewPort.width, viewPort.height, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.DEPTH_16, false, 1, true, true);\r\n        buf.setRenderTarget(depthTexture);\r\n        buf.clearRenderTarget(true, true, new Color(0.5, 0.5, 0.5, 1.0));\r\n        buf.drawMesh(character, this.blinnphongCharacter.transform.worldMatrix, this.characterBlinnphongMaterial, 0,0);\r\n        depthTexture = depthTexture.depthStencilTexture as RenderTexture;\r\n        //\u5C06\u6F2B\u53CD\u5C04\u548C\u9AD8\u5149\u5206\u522B\u753B\u5230\u4E24\u4E2ARenderTexture\r\n        //\u6F2B\u53CD\u5C04\u989C\u8272\r\n        let diffuseRenderTexture = RenderTexture.createFromPool(viewPort.width, viewPort.height, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.DEPTH_16, false, 1, true, true);\r\n        buf.setRenderTarget(diffuseRenderTexture);\r\n        buf.clearRenderTarget(true, true, new Color(0.5, 0.5, 0.5, 1.0));\r\n        //@ts-ignore\r\n        buf.setShaderDataColor(this.characterBlinnphongMaterial.shaderData, BlinnPhongMaterial.ALBEDOCOLOR, oriColor);\r\n        //@ts-ignore\r\n        buf.setShaderDataColor(this.characterBlinnphongMaterial.shaderData, BlinnPhongMaterial.MATERIALSPECULAR, new Color(0.0, 0.0, 0.0, 0.0));\r\n        buf.drawMesh(character, this.blinnphongCharacter.transform.worldMatrix, this.characterBlinnphongMaterial, 0, 0);\r\n        // //\u9AD8\u5149\u989C\u8272\r\n        let specRrenderTexture = RenderTexture.createFromPool(viewPort.width, viewPort.height, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.DEPTH_16, false, 1, true, true);\r\n        buf.setRenderTarget(specRrenderTexture);\r\n        buf.clearRenderTarget(true, true, new Color(1.0, 0.0, 0.0, 0.0));\r\n        //@ts-ignore\r\n        buf.setShaderDataColor(this.characterBlinnphongMaterial.shaderData, BlinnPhongMaterial.MATERIALSPECULAR, oriSpec);\r\n        // @ts-ignore\r\n        buf.setShaderDataColor(this.characterBlinnphongMaterial.shaderData, BlinnPhongMaterial.ALBEDOCOLOR, new Color(0.0, 0.0, 0.0, 0.0));\r\n        buf.drawMesh(character, this.blinnphongCharacter.transform.worldMatrix, this.characterBlinnphongMaterial, 0, 0);\r\n        // // \u62FF\u5230\u4E09\u5F20\u56FE\u7247\u540E\uFF0C\u5BF9diffuse\u8D34\u56FE\u8FDB\u884C\u9AD8\u65AF\u6838\u6A21\u7CCA\r\n        buf.setShaderDataTexture(this.sssssBlitMaterail.shaderData, SeparableSSS_BlitMaterial.SHADERVALUE_DEPTHTEX, depthTexture);\r\n        let blurRenderTexture = RenderTexture.createFromPool(viewPort.width, viewPort.height, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.None, false, 1, false, true);\r\n        buf.setShaderDataVector2(this.sssssBlitMaterail.shaderData, SeparableSSS_BlitMaterial.SHADERVALUE_BLURDIR, new Vector2(10.0, 0.0));\r\n        buf.blitScreenQuadByMaterial(diffuseRenderTexture, blurRenderTexture, new Vector4(0, 0, 1.0, 1.0), this.sssssBlitMaterail, 0);\r\n        buf.setShaderDataVector2(this.sssssBlitMaterail.shaderData, SeparableSSS_BlitMaterial.SHADERVALUE_BLURDIR, new Vector2(0.0, 10.0));\r\n        buf.blitScreenQuadByMaterial(blurRenderTexture, diffuseRenderTexture, new Vector4(0.0, 0.0, 0.0, 0.0), this.sssssBlitMaterail, 0);\r\n        \r\n        // buf.blitScreenQuad(diffuseRenderTexture, null);\r\n\r\n        buf.setGlobalTexture(Shader3D.propertyNameToID(\"sssssDiffuseTexture\"), diffuseRenderTexture);\r\n        this.sssssRenderMaterial.shaderData.setTexture(Shader3D.propertyNameToID(\"sssssSpecularTexture\"), specRrenderTexture);\r\n        diffuseRenderTexture.filterMode = FilterMode.Point;\r\n        specRrenderTexture.filterMode = FilterMode.Point;\r\n\r\n\r\n        return buf;\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Camera = Laya.Camera;\r\nimport Vector3 = Laya.Vector3;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ROg07rPcQSaC3SPHcFyFfw')\r\nexport class showFont extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private cav: any;\r\n    private plane: Laya.MeshSprite3D;\r\n    private mat: Laya.UnlitMaterial;\r\n    private texture2D: Laya.Texture2D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\t\t\r\n        super.base(this.camera);\r\n\t\tvar scene = this.scene;\r\n        var camera = this.camera;\r\n        camera.transform.position = (new Vector3(0, 0, 15));\r\n        camera.transform.rotate(new Vector3(0, 0, 0), true, false);\r\n        camera.clearColor = new Laya.Color(0.2, 0.2, 0.2, 1.0);        \r\n\r\n        //\u8BBE\u7F6E\u4E00\u4E2A\u9762\u677F\u7528\u6765\u6E32\u67D3\r\n        this.plane = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(10, 10));\r\n        this.plane.transform.rotate(new Vector3(-90, 0, 0), true, false);\r\n        scene.addChild(this.plane);\r\n        //\u6750\u8D28\r\n        this.mat = new Laya.UnlitMaterial();\r\n        this.plane.meshRenderer.sharedMaterial = this.mat;\r\n\r\n        //\u753B\u5E03cavans\r\n        this.cav = Laya.Browser.createElement(\"canvas\");\r\n        var cxt = this.cav.getContext(\"2d\");\r\n        this.cav.width = 256;\r\n        this.cav.height = 256;\r\n        cxt.fillStyle = 'rgb(' + '132' + ',' + '240' + ',109)';\r\n        cxt.font = \"bold 50px \u5B8B\u4F53\";\r\n        cxt.textAlign = \"center\";//\u6587\u672C\u7684\u5BF9\u9F50\u65B9\u5F0F\r\n        cxt.textBaseline = \"center\";//\u6587\u672C\u76F8\u5BF9\u4E8E\u8D77\u70B9\u7684\u4F4D\u7F6E\r\n        //\u8BBE\u7F6E\u6587\u5B57,\u4F4D\u7F6E\r\n        cxt.fillText(\"LayaAir\", 100, 50, 200);//\u6709\u586B\u5145cxt.font=\"bold 60px \u5B8B\u4F53\";\r\n\r\n        cxt.strokeStyle = 'rgb(' + '200' + ',' + '125' + ',0)';\r\n        cxt.font = \"bold 40px \u9ED1\u4F53\";\r\n        cxt.strokeText(\"runtime\", 100, 100, 200);//\u53EA\u6709\u8FB9\u6846\r\n\r\n        //\u6587\u5B57\u8FB9\u6846\u7ED3\u5408\r\n        cxt.strokeStyle = 'rgb(' + '255' + ',' + '240' + ',109)';\r\n        cxt.font = \"bold 30px \u9ED1\u4F53\";\r\n        cxt.fillText(\"LayaBox\", 100, 150, 200);\r\n\r\n        cxt.strokeStyle = \"yellow\";\r\n        cxt.font = \"bold 30px \u9ED1\u4F53\";\r\n        cxt.strokeText(\"LayaBox\", 100, 150, 200);//\u53EA\u6709\u8FB9\u6846\r\n        this.texture2D = new Laya.Texture2D(256, 256, Laya.TextureFormat.R8G8B8A8, false, true, true);\r\n        this.texture2D.setImageData(this.cav, true, true);\r\n        this.mat.materialRenderMode = Laya.MaterialRenderMode.RENDERMODE_TRANSPARENT;\r\n\r\n        //\u7ED9\u6750\u8D28\u8D34\u56FE\r\n        this.mat.albedoTexture = this.texture2D;\r\n        (<Laya.BlinnPhongMaterial>this.plane.meshRenderer.sharedMaterial).cull = Laya.RenderState.CULL_NONE;\r\n        var rotate:Vector3 = new Vector3(0,0,1);\r\n        Laya.timer.frameLoop(1, this, ()=> {\r\n            this.plane.transform.rotate(rotate, true, false);\r\n        });\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Camera = Laya.Camera;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Loader = Laya.Loader;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('y4P2N3oCQhKxcWHwce9WdQ')\r\nexport class UI3D extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n        \r\n        //\u6570\u7EC4\u52A0\u8F7D\u65B9\u5F0F\r\n        var Resource:any[] = [\r\n            //\u53EF\u4EE5\u76F4\u63A5\u52A0\u8F7D\u5DF2\u7ECF\u5728IDE\u91CC\u5236\u4F5C\u597D\u7684lh\r\n            { url: \"resources/res/threeDimen/fbx/Danding.lh\", type: Loader.HIERARCHY },\r\n            { url: \"resources/res/ui/prefab/ui3d.lh\", type: Loader.HIERARCHY },\r\n            { url: \"resources/res/ui/prefab/ui3dpage.lh\", type: Loader.HIERARCHY }\r\n        ];\r\n\r\n        Laya.loader.load(Resource).then((res:any[])=> {\r\n\t\r\n\t\t\tvar dude:Laya.Sprite3D = this.scene.addChild(res[0].create()) as Laya.Sprite3D;\r\n\t\t\tdude.transform.position = new Laya.Vector3(0, 0, 0);\t\r\n            \r\n            //\u521B\u5EFA\u8840\u6761\r\n            let sprite3D = new Sprite3D();\r\n            dude.addChild(sprite3D);\r\n            let ui3dComponent: Laya.UI3D = sprite3D.addComponent(Laya.UI3D);\r\n            ui3dComponent.prefab = res[1];\r\n            ui3dComponent.renderMode = Laya.MaterialRenderMode.RENDERMODE_TRANSPARENT;\r\n            ui3dComponent.resolutionRate = 256;\r\n            ui3dComponent.billboard = true;\r\n            ui3dComponent.enableHit = false;\r\n            sprite3D.transform.localPositionY = 2.7;\r\n \r\n            //\u521B\u5EFA\u5DE6\u8FB9\u76843D UI\r\n            let sprite3DUI = new Sprite3D();\r\n            dude.addChild(sprite3DUI);\r\n            let ui3dComponent_ui: Laya.UI3D = sprite3DUI.addComponent(Laya.UI3D);\r\n            ui3dComponent_ui.prefab = res[2];\r\n            ui3dComponent_ui.renderMode = Laya.MaterialRenderMode.RENDERMODE_TRANSPARENT;\r\n            ui3dComponent_ui.resolutionRate = 256;\r\n            ui3dComponent_ui.scale = new Laya.Vector2(2,2);\r\n            ui3dComponent_ui.billboard = true;\r\n            ui3dComponent_ui.enableHit = true;\r\n            sprite3DUI.transform.position = new Laya.Vector3(-2,1.5,0);\r\n            // sprite3DUI.transform.localRotationEuler = new Laya.Vector3(0,45,0);          \r\n\t\t});\r\n\r\n\t}\r\n}\r\n\r\nclass UIScript extends Laya.Script {\r\n\r\n\t\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\tpublic onStart():void {\r\n        let tab :Laya.Tab = this.owner.getChildByName(\"Tab\") as Laya.Tab;\r\n        tab.selectHandler = new Laya.Handler(this, (index: number) => {\r\n            \r\n        });\r\n\t}\r\n\t\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport VideoTexture = Laya.VideoTexture;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport UnlitMaterial = Laya.UnlitMaterial;\r\nimport Camera = Laya.Camera;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport RenderTexture = Laya.RenderTexture;\r\nimport Script = Laya.Script;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Vector3 = Laya.Vector3;\r\nimport Color = Laya.Color;\r\nimport Vector4 = Laya.Vector4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('avdMFGmOQKmQbfZnEJro8A')\r\nexport class VideoPlayIn3DWorld extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private videoPlane: MeshSprite3D;\r\n    private isoneVideo:boolean = false;\r\n    private index: number = 0;\r\n    private videoTexture = new VideoTexture();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        var mirrorFloor: ChinarMirrorPlane = this.camera.addComponent(ChinarMirrorPlane) as ChinarMirrorPlane;\r\n        mirrorFloor.onlyMainCamera =  this.camera;\r\n        mirrorFloor.mirrorPlane =  this.scene.getChildByName(\"reflectionPlan\") as MeshSprite3D;   \r\n\r\n        //\u589E\u52A0\u89C6\u9891\r\n        this.videoPlane = this.scene.getChildByName(\"moveclip\") as MeshSprite3D;\r\n        this.createVideo(\"resources/res/av/mov_bbb.mp4\");\r\n        super.addBottomButton( [\"\u5207\u6362ogg\",\"\u5207\u6362webm\",\"\u5207\u6362mp4\"] , this, [this.setType, this.setType, this.setType] );\r\n\r\n    }\r\n\r\n    onDestroy(): void {\r\n        this.videoTexture.pause();\r\n        this.videoTexture.destroy();        \r\n    }\r\n\r\n    private createVideo(url: string): void {\r\n        \r\n        if(!this.isoneVideo){\r\n            this.videoTexture.source = url;\r\n            this.videoTexture.play();\r\n            this.videoTexture.loop = true;\r\n    \r\n            let mat = new UnlitMaterial();\r\n            mat.albedoTexture = this.videoTexture;\r\n            this.videoPlane.getComponent(MeshRenderer).sharedMaterial = mat;\r\n            this.isoneVideo = true;\r\n        }        \r\n    }\r\n\r\n    //\u652F\u6301\u4E09\u79CD\u7C7B\u578B\u7684\u89C6\u9891\u6587\u4EF6\r\n\tsetType() {\r\n        this.isoneVideo = false;\r\n\t\tthis.index++;\r\n\t\tif (this.index % 3 === 1) {\r\n\t\t\tthis.createVideo(\"resources/res/av/mov_bbb.ogg\");\r\n\t\t}\r\n\t\telse if (this.index % 3 === 2) {\r\n\t\t\tthis.createVideo(\"resources/res/av/mov_bbb.webm\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.createVideo(\"resources/res/av/mov_bbb.mp4\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport class ChinarMirrorPlane extends Script {\r\n\r\n    //\u8FD9\u91CC\u7684mesh\u5FC5\u987B\u662F-5-5\u7684plane\u677F\uFF0C\u4FEE\u6539\u4E86mesh\u7684\u8BDD\u9700\u8981\u4FEE\u6539\u8FD9\u91CC\r\n    public static oriPa: Vector3 = new Vector3(5, 0, -5);\r\n    public static oriPb: Vector3 = new Vector3(-5, 0, -5);\r\n    public static oriPc: Vector3 = new Vector3(5, 0, 5);\r\n\r\n    public _mirrorPlane: MeshSprite3D;\r\n    public mainCamera: Camera;\r\n    private mirrorCamera: Camera = new Camera(); // \u955C\u50CF\u6444\u50CF\u673A\r\n\r\n    private renderTexture: RenderTexture = RenderTexture.createFromPool(1024, 1024, RenderTargetFormat.R8G8B8, RenderTargetFormat.DEPTH_16, false, 1);\r\n\r\n    public estimateViewFrustum: boolean = true;\r\n    public setNearClipPlane: boolean = true;\r\n    public nearClipDistanceOffset: number = -0.01;\r\n\r\n    private vn: Vector3 = new Vector3(); // \u5C4F\u5E55\u7684\u6CD5\u7EBF\r\n    private l: number; //\u5230\u5C4F\u5E55\u5DE6\u8FB9\u7F18\u7684\u8DDD\u79BB\r\n    private r: number; //\u5230\u5C4F\u5E55\u53F3\u8FB9\u7F18\u7684\u8DDD\u79BB\r\n    private b: number; //\u5230\u5C4F\u5E55\u4E0B\u8FB9\u7F18\u7684\u8DDD\u79BB\r\n    private t: number; //\u5230\u5C4F\u5E55\u4E0A\u8FB9\u7F18\u7684\u8DDD\u79BB\r\n    private d: number; //\u4ECE\u955C\u50CF\u6444\u50CF\u673A\u5230\u5C4F\u5E55\u7684\u8DDD\u79BB\r\n    private n: number; //\u955C\u50CF\u6444\u50CF\u673A\u7684\u8FD1\u526A\u5207\u9762\u7684\u8DDD\u79BB\r\n    private f: number; //\u955C\u50CF\u6444\u50CF\u673A\u7684\u8FDC\u526A\u5207\u9762\u7684\u8DDD\u79BB\r\n    private pa: Vector3 = new Vector3(); //\u4E16\u754C\u5750\u6807\u7CFB\u7684\u5DE6\u4E0B\u89D2\r\n    private pb: Vector3 = new Vector3(); //\u4E16\u754C\u5750\u6807\u7CFB\u7684\u53F3\u4E0B\u89D2\r\n    private pc: Vector3 = new Vector3(); //\u4E16\u754C\u5750\u6807\u7CFB\u7684\u5DE6\u4E0A\u89D2\r\n    private pe: Vector3 = new Vector3(); //\u955C\u50CF\u89C2\u5BDF\u89D2\u5EA6\u7684\u4E16\u754C\u5750\u6807\u4F4D\u7F6E\r\n    private va: Vector3 = new Vector3(); //\u4ECE\u955C\u50CF\u6444\u50CF\u673A\u5230\u5DE6\u4E0B\u89D2\r\n    private vb: Vector3 = new Vector3(); //\u4ECE\u955C\u50CF\u6444\u50CF\u673A\u5230\u53F3\u4E0B\u89D2\r\n    private vc: Vector3 = new Vector3(); //\u4ECE\u955C\u50CF\u6444\u50CF\u673A\u5230\u5DE6\u4E0A\u89D2\r\n    private vr: Vector3 = new Vector3(); //\u5C4F\u5E55\u7684\u53F3\u4FA7\u65CB\u8F6C\u8F74\r\n    private vu: Vector3 = new Vector3(); //\u5C4F\u5E55\u7684\u4E0A\u4FA7\u65CB\u8F6C\u8F74\r\n    private p: Matrix4x4 = new Matrix4x4();\r\n    private rm: Matrix4x4 = new Matrix4x4();\r\n    private tm: Matrix4x4 = new Matrix4x4();\r\n\r\n    private static tempMat: Matrix4x4 = new Matrix4x4();\r\n    private static tempV3 = new Vector3();\r\n\r\n    set mirrorPlane(value: MeshSprite3D) {\r\n        this._mirrorPlane = value;\r\n        var material: UnlitMaterial = new UnlitMaterial();\r\n        let value1:MeshSprite3D = value as MeshSprite3D;\r\n        value1.getComponent(MeshRenderer).sharedMaterial = material;\r\n        material.albedoTexture = this.renderTexture;\r\n        material.tilingOffset = new Vector4(-1, 1, 0, 0);\r\n    }\r\n\r\n    set onlyMainCamera(value: Camera) {\r\n        (value.scene as Scene3D).addChild(this.mirrorCamera);\r\n        this.mainCamera = value;\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onStart(): void {\r\n        //this.mirrorCamera = this.owner as Camera;'\r\n        this.mirrorCamera.renderTarget = this.renderTexture;\r\n        this.mirrorCamera.clearColor = new Color(0.0, 0.0, 0.0, 1.0);\r\n\r\n    }\r\n\r\n    onUpdate(): void {\r\n        if (this.mirrorCamera == null || this._mirrorPlane == null || this.mainCamera == null) {\r\n            return;\r\n        }\r\n        this._mirrorPlane.transform.worldMatrix.invert(ChinarMirrorPlane.tempMat);\r\n        Vector3.transformV3ToV3(this.mainCamera.transform.position, ChinarMirrorPlane.tempMat, ChinarMirrorPlane.tempV3);\r\n        ChinarMirrorPlane.tempV3.y = -ChinarMirrorPlane.tempV3.y;\r\n        Vector3.transformV3ToV3(ChinarMirrorPlane.tempV3, this._mirrorPlane.transform.worldMatrix, ChinarMirrorPlane.tempV3);\r\n        this.mirrorCamera.transform.position = ChinarMirrorPlane.tempV3;\r\n\r\n        // todo: plane \u56DB\u4E2A\u89D2\u7684\u70B9\u5750\u6807\r\n        Vector3.transformV3ToV3(ChinarMirrorPlane.oriPa, this._mirrorPlane.transform.worldMatrix, this.pa); // \u4E16\u754C\u5750\u6807\u7CFB\u7684\u5DE6\u4E0B\u89D2\r\n        Vector3.transformV3ToV3(ChinarMirrorPlane.oriPb, this._mirrorPlane.transform.worldMatrix, this.pb); // \u4E16\u754C\u5750\u6807\u7CFB\u7684\u53F3\u4E0B\u89D2\r\n        Vector3.transformV3ToV3(ChinarMirrorPlane.oriPc, this._mirrorPlane.transform.worldMatrix, this.pc); // \u4E16\u754C\u5750\u6807\u7CFB\u7684\u5DE6\u4E0A\u89D2\r\n\r\n        this.pe = this.mirrorCamera.transform.position; //\u955C\u50CF\u89C2\u5BDF\u89D2\u5EA6\u7684\u4E16\u754C\u5750\u6807\u4F4D\u7F6E\r\n        this.n = this.mirrorCamera.nearPlane; // \u955C\u50CF\u6444\u50CF\u673A\u7684\u8FD1\u526A\u5207\u9762\u7684\u8DDD\u79BB\r\n        this.f = this.mirrorCamera.farPlane; // \u955C\u50CF\u6444\u50CF\u673A\u7684\u8FDC\u526A\u5207\u9762\u7684\u8DDD\u79BB\r\n\r\n        Vector3.subtract(this.pa, this.pe, this.va); // \u4ECE\u955C\u50CF\u6444\u50CF\u673A\u5230\u5DE6\u4E0B\u89D2\r\n        Vector3.subtract(this.pb, this.pe, this.vb); // \u4ECE\u955C\u50CF\u6444\u50CF\u673A\u5230\u53F3\u4E0B\u89D2\r\n        Vector3.subtract(this.pc, this.pe, this.vc); // \u4ECE\u955C\u50CF\u6444\u50CF\u673A\u5230\u5DE6\u4E0A\u89D2\r\n        Vector3.subtract(this.pb, this.pa, this.vr); // \u5C4F\u5E55\u7684\u53F3\u4FA7\u65CB\u8F6C\u8F74\r\n        Vector3.subtract(this.pc, this.pa, this.vu); // \u5C4F\u5E55\u7684\u4E0A\u4FA7\u65CB\u8F6C\u8F74\r\n\r\n        // \u5982\u679C\u770B\u5411\u955C\u5B50\u7684\u80CC\u9762\r\n        Vector3.cross(this.va, this.vc, ChinarMirrorPlane.tempV3);\r\n        if (Vector3.dot(ChinarMirrorPlane.tempV3, this.vb) < 0.0) {\r\n            Vector3.scale(this.vu, -1, this.vu);\r\n            this.pc.cloneTo(this.pa);\r\n            Vector3.add(this.pa, this.vr, this.pb);\r\n            Vector3.add(this.pa, this.vu, this.pc);\r\n            Vector3.subtract(this.pa, this.pe, this.va);\r\n            Vector3.subtract(this.pb, this.pe, this.vb);\r\n            Vector3.subtract(this.pc, this.pe, this.vc);\r\n        }\r\n\r\n        Vector3.normalize(this.vr, this.vr);\r\n        Vector3.normalize(this.vu, this.vu);\r\n        Vector3.cross(this.vr, this.vu, ChinarMirrorPlane.tempV3);\r\n        Vector3.normalize(ChinarMirrorPlane.tempV3, this.vn);\r\n        this.d = Vector3.dot(this.va, this.vn);\r\n        if (this.setNearClipPlane) {\r\n            this.n = this.d + this.nearClipDistanceOffset;\r\n            this.mirrorCamera.nearPlane = this.n;\r\n        }\r\n\r\n        this.l = Vector3.dot(this.vr, this.va) * this.n / this.d;\r\n        this.r = Vector3.dot(this.vr, this.vb) * this.n / this.d;\r\n        this.b = Vector3.dot(this.vu, this.va) * this.n / this.d;\r\n        this.t = Vector3.dot(this.vu, this.vc) * this.n / this.d;\r\n\r\n        // \u6295\u5F71\u77E9\u9635\r\n        this.p.elements[0] = 2.0 * this.n / (this.r - this.l);\r\n        this.p.elements[4] = 0;\r\n        this.p.elements[8] = (this.r + this.l) / (this.r - this.l);\r\n        this.p.elements[12] = 0.0;\r\n\r\n        this.p.elements[1] = 0.0;\r\n        this.p.elements[5] = 2.0 * this.n / (this.t - this.b);\r\n        this.p.elements[9] = (this.t + this.b) / (this.t - this.b);\r\n        this.p.elements[13] = 0.0;\r\n\r\n        this.p.elements[2] = 0;\r\n        this.p.elements[6] = 0;\r\n        this.p.elements[10] = (this.f + this.n) / (this.n - this.f);\r\n        this.p.elements[14] = (2.0 * this.f * this.n / (this.n - this.f)) / 2;\r\n\r\n        this.p.elements[3] = 0;\r\n        this.p.elements[7] = 0;\r\n        this.p.elements[11] = -1;\r\n        this.p.elements[15] = 0;\r\n\r\n        this.p.elements[0] *= -1;\r\n        this.p.elements[5] *= -1;\r\n        this.p.elements[14] *= -1;\r\n\r\n        // \u65CB\u8F6C & \u5E73\u79FB \u77E9\u9635\r\n        this.rm.elements[0] = this.vr.x;\r\n        this.rm.elements[4] = this.vr.y;\r\n        this.rm.elements[8] = this.vr.z;\r\n        this.rm.elements[12] = this.pe.x;\r\n\r\n        this.rm.elements[1] = this.vu.x;\r\n        this.rm.elements[5] = this.vu.y;\r\n        this.rm.elements[9] = this.vu.z;\r\n        this.rm.elements[13] = this.pe.z;\r\n\r\n        this.rm.elements[2] = this.vn.x;\r\n        this.rm.elements[6] = this.vn.y;\r\n        this.rm.elements[10] = this.vn.z;\r\n        this.rm.elements[14] = this.pe.y;\r\n\r\n        this.rm.elements[3] = 0;\r\n        this.rm.elements[7] = 0;\r\n        this.rm.elements[11] = 0;\r\n        this.rm.elements[15] = 1;\r\n\r\n        this.mirrorCamera.projectionMatrix = this.p;\r\n        this.rm.invert(ChinarMirrorPlane.tempMat);\r\n        this.mirrorCamera.transform.worldMatrix = ChinarMirrorPlane.tempMat;\r\n        if (!this.estimateViewFrustum) return;\r\n\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('djeqMdrZQVq9hwWb4TXATw')\r\nexport class Text_AutoSize extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\t\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\t// \u8BE5\u6587\u672C\u81EA\u52A8\u9002\u5E94\u5C3A\u5BF8\r\n\t\tvar autoSizeText: Text = this.createSampleText();\r\n\t\tautoSizeText.overflow = Text.VISIBLE;\r\n\t\tautoSizeText.y = 50;\r\n\r\n\t\t// \u8BE5\u6587\u672C\u88AB\u9650\u5236\u4E86\u5BBD\u5EA6\r\n\t\tvar widthLimitText: Text = this.createSampleText();\r\n\t\twidthLimitText.width = 100;\r\n\t\twidthLimitText.height = 70;\r\n\t\twidthLimitText.y = 180;\r\n\t\twidthLimitText.overflow = Text.HIDDEN;\r\n\r\n\t\t//\u8BE5\u6587\u672C\u88AB\u9650\u5236\u4E86\u9AD8\u5EA6 \r\n\t\tvar heightLimitText: Text = this.createSampleText();\r\n\t\theightLimitText.height = 20;\r\n\t\theightLimitText.y = 320;\r\n\t}\r\n\r\n\tprivate createSampleText(): Text {\r\n\t\tvar text: Text = new Text();\r\n\t\ttext.overflow = Text.HIDDEN;\r\n\r\n\t\ttext.color = \"#FFFFFF\";\r\n\t\ttext.font = \"Impact\";\r\n\t\ttext.fontSize = 20;\r\n\t\ttext.borderColor = \"#FFFF00\";\r\n\t\ttext.x = 80;\r\n\r\n\t\tthis.box2D.addChild(text);\r\n\t\ttext.text = \"A POWERFUL HTML5 ENGINE ON FLASH TECHNICAL\\n\" + \"A POWERFUL HTML5 ENGINE ON FLASH TECHNICAL\\n\" + \"A POWERFUL HTML5 ENGINE ON FLASH TECHNICAL\";\r\n\t\treturn text;\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Text = Laya.Text;\r\nimport BitmapFont = Laya.BitmapFont;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('9OK6zw57TKySeBPOZ_2XUg')\r\nexport class Text_BitmapFont extends BaseScript {\r\n\r\n    private fontName: string = \"diyFont\";\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\t\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.loadFont();\r\n\t}\r\n\r\n\tprivate loadFont(): void {\r\n\t\tLaya.loader.load(\"resources/res/bitmapFont/test.fnt\", Laya.Loader.FONT).then((res: BitmapFont) => {\r\n\t\t\tthis.onFontLoaded(res);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onFontLoaded(bitmapFont: BitmapFont): void {\r\n\t\t\r\n\t\tText.registerBitmapFont(this.fontName, bitmapFont);\r\n\r\n\t\tthis.createText(this.fontName);\r\n\t}\r\n\r\n\tprivate createText(font: string): void {\r\n\t\tvar txt: Text = new Text();\r\n\t\ttxt.width = 250;\r\n\t\ttxt.wordWrap = true;\r\n\t\ttxt.text = \"Do one thing at a time, and do well.\";\r\n\t\ttxt.font = font;\r\n\t\ttxt.leading = 5;\r\n\t\ttxt.x = this.pageWidth - txt.width >> 1;\r\n\t\ttxt.y = this.pageHeight - txt.height >> 1;\r\n\t\tthis.box2D.addChild(txt);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('B1NNFDOZRSWUUl6mXoq4SA')\r\nexport class Text_ComplexStyle extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createText();\r\n\t}\r\n\r\n\tprivate createText(): void {\r\n\t\tvar txt: Text = new Text();\r\n\t\t//\u7ED9\u6587\u672C\u7684text\u5C5E\u6027\u8D4B\u503C\r\n\t\ttxt.text = \"Layabox\u662F\u6027\u80FD\u6700\u5F3A\u7684HTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411Flash\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\";\r\n\t\t//\u8BBE\u7F6E\u5BBD\u5EA6\uFF0C\u9AD8\u5EA6\u81EA\u52A8\u5339\u914D\r\n\t\ttxt.width = 400;\r\n\t\t//\u81EA\u52A8\u6362\u884C\r\n\t\ttxt.wordWrap = true;\r\n\r\n\t\ttxt.align = \"center\";\r\n\t\ttxt.fontSize = 40;\r\n\t\ttxt.font = \"Microsoft YaHei\";\r\n\t\ttxt.color = \"#ff0000\";\r\n\t\ttxt.bold = true;\r\n\t\ttxt.leading = 5;\r\n\r\n\t\t//\u8BBE\u7F6E\u63CF\u8FB9\u5C5E\u6027\r\n\t\ttxt.stroke = 2;\r\n\t\ttxt.strokeColor = \"#ffffff\";\r\n\r\n\t\ttxt.borderColor = \"#00ff00\"\r\n\r\n\t\ttxt.x = (this.pageWidth - txt.textWidth) / 2;\r\n\t\ttxt.y = (this.pageHeight - txt.textHeight) / 2;\r\n\r\n\t\tthis.box2D.addChild(txt);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Input = Laya.Input;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('N37ZwjnxS-OvZSnwhURRcw')\r\nexport class Text_Editable extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createInput();\r\n\t}\r\n\r\n\tprivate createInput(): void {\r\n\t\tvar inputText: Input = new Input();\r\n\r\n\t\tinputText.size(350, 100);\r\n\t\tinputText.x = this.pageWidth - inputText.width >> 1;\r\n\t\tinputText.y = this.pageHeight - inputText.height >> 1;\r\n\r\n\t\tinputText.text = \"\u8FD9\u6BB5\u6587\u672C\u4E0D\u53EF\u7F16\u8F91\uFF0C\u4F46\u53EF\u590D\u5236\";\r\n\t\tinputText.editable = false;\r\n\r\n\t\t// \u8BBE\u7F6E\u5B57\u4F53\u6837\u5F0F\r\n\t\tinputText.bold = true;\r\n\t\tinputText.bgColor = \"#666666\";\r\n\t\tinputText.color = \"#ffffff\";\r\n\t\tinputText.fontSize = 20;\r\n\r\n\t\tthis.box2D.addChild(inputText);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('aSBZRjakRGqlOjN6ldKBNQ')\r\nexport class Text_HTML extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createParagraph();\r\n\t}\r\n\r\n\tprivate createParagraph(): void {\r\n\t\tvar t = new Laya.Text();\r\n\t\tt.html = true;\r\n\t\tt.fontSize = 50;\r\n\t\tt.zOrder = 90000;\r\n\t\tt.text = '<font color=#e3d26a>\u4F7F\u7528</font><br/>';\r\n\t\tt.text += '<font color=#409ed7><b>\u6587\u672C\u7684</b>HTML</font><br/>';\r\n        t.text += '<font color=#10d269><i>\u521B\u5EFA\u7684</i></font><br/>';\r\n        t.text += '<font color=#dfbfc9><u>HTML\u5BCC\u6587\u672C</u></font>';\r\n\t\tthis.box2D.addChild(t);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Input = Laya.Input;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('QWCOsI9hQOS7udoDqLJuJA')\r\nexport class Text_InputMultiline extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createInput();\r\n\t}\r\n\r\n\tprivate createInput(): void {\r\n\t\tvar inputText: Input = new Input();\r\n\r\n\t\t// \u79FB\u52A8\u7AEF\u8F93\u5165\u63D0\u793A\u7B26\r\n\t\tinputText.prompt = \"Type some word...\";\r\n\r\n\t\t//\u591A\u884C\u8F93\u5165\r\n\t\tinputText.multiline = true;\r\n\t\tinputText.wordWrap = true;\r\n\r\n\t\tinputText.size(350, 100);\r\n\t\tinputText.x = this.pageWidth - inputText.width >> 1;\r\n\t\tinputText.y = this.pageHeight - inputText.height >> 1;\r\n\t\tinputText.padding = [2, 2, 2, 2];\r\n\r\n\t\tinputText.bgColor = \"#666666\";\r\n\t\tinputText.color = \"#ffffff\";\r\n\t\tinputText.fontSize = 20;\r\n\r\n\t\tthis.box2D.addChild(inputText);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Input = Laya.Input;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('GA2IRNWnRuaNmw-IKDUySg')\r\nexport class Text_InputSingleline extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createInput();\r\n\t}\r\n\r\n\tprivate createInput(): void {\r\n\t\tvar inputText: Input = new Input();\r\n\r\n\t\tinputText.size(350, 100);\r\n\t\tinputText.x = this.pageWidth - inputText.width >> 1;\r\n\t\tinputText.y = this.pageHeight - inputText.height >> 1;\r\n\r\n\t\t// \u79FB\u52A8\u7AEF\u8F93\u5165\u63D0\u793A\u7B26\r\n\t\tinputText.prompt = \"Type some word...\";\r\n\r\n\t\t// \u8BBE\u7F6E\u5B57\u4F53\u6837\u5F0F\r\n\t\tinputText.bold = true;\r\n\t\tinputText.bgColor = \"#666666\";\r\n\t\tinputText.color = \"#ffffff\";\r\n\t\tinputText.fontSize = 20;\r\n\r\n\t\tthis.box2D.addChild(inputText);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Input = Laya.Input;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('X8P3-C_KTZKta9NyGxaWaA')\r\nexport class Text_MaxChars extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createInput();\r\n\t}\r\n\r\n\tprivate createInput(): void {\r\n\t\tvar inputText: Input = new Input();\r\n\r\n\t\tinputText.size(350, 100);\r\n\t\tinputText.x = this.pageWidth - inputText.width >> 1;\r\n\t\tinputText.y = this.pageHeight - inputText.height >> 1;\r\n\r\n\t\t// \u8BBE\u7F6E\u5B57\u4F53\u6837\u5F0F\r\n\t\tinputText.bold = true;\r\n\t\tinputText.bgColor = \"#666666\";\r\n\t\tinputText.color = \"#ffffff\";\r\n\t\tinputText.fontSize = 20;\r\n\r\n\t\tinputText.maxChars = 5;\r\n\r\n\t\tthis.box2D.addChild(inputText);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('IOo-T897SfG0JxiUAAcYQw')\r\nexport class Text_Overflow extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createTexts();\r\n\t}\r\n\r\n\tprivate createTexts(): void {\r\n\t\tvar t1: Text = this.createText();\r\n\t\tt1.overflow = Text.VISIBLE;\r\n\t\tt1.pos(10, 10);\r\n\r\n\t\tvar t2: Text = this.createText();\r\n\t\tt2.overflow = Text.SCROLL;\r\n\t\tt2.pos(10, 110);\r\n\r\n\t\tvar t3: Text = this.createText();\r\n\t\tt3.overflow = Text.HIDDEN;\r\n\t\tt3.pos(10, 210);\r\n\t}\r\n\r\n\tprivate createText(): Text {\r\n\t\tvar txt: Text = new Text();\r\n\r\n\t\ttxt.text =\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\\n\" +\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\\n\" +\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\";\r\n\r\n\t\ttxt.borderColor = \"#FFFF00\";\r\n\r\n\t\ttxt.size(300, 50);\r\n\t\ttxt.fontSize = 20;\r\n\t\ttxt.color = \"#ffffff\";\r\n\r\n\t\tthis.box2D.addChild(txt);\r\n\r\n\t\treturn txt;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Text = Laya.Text;\r\nimport Input = Laya.Input;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ORBgKZ6mRgeUL2jW4Q5OXA')\r\nexport class Text_Restrict extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createTexts();\r\n\t}\r\n\r\n\tprivate createTexts(): void {\r\n\t\tthis.createLabel(\"\u53EA\u5141\u8BB8\u8F93\u5165\u6570\u5B57\uFF1A\").pos(50, 20);\r\n\t\tvar input: Input = this.createInput();\r\n\t\tinput.pos(50, 50);\r\n\t\tinput.restrict = \"0-9\";\r\n\r\n\t\tthis.createLabel(\"\u53EA\u5141\u8BB8\u8F93\u5165\u5B57\u6BCD\uFF1A\").pos(50, 100);\r\n\t\tinput = this.createInput();\r\n\t\tinput.pos(50, 130);\r\n\t\tinput.restrict = \"a-zA-Z\";\r\n\r\n\t\tthis.createLabel(\"\u53EA\u5141\u8BB8\u8F93\u5165\u4E2D\u6587\u5B57\u7B26\uFF1A\").pos(50, 180);\r\n\t\tinput = this.createInput();\r\n\t\tinput.pos(50, 210);\r\n\t\tinput.restrict = \"\\u4e00-\\u9fa5\";\r\n\t}\r\n\r\n\tprivate createLabel(text: string): Text {\r\n\t\tvar label: Text = new Text();\r\n\t\tlabel.text = text;\r\n\t\tlabel.color = \"white\";\r\n\t\tlabel.fontSize = 20;\r\n\t\tthis.box2D.addChild(label);\r\n\t\treturn label;\r\n\t}\r\n\r\n\tprivate createInput(): Input {\r\n\t\tvar input: Input = new Input();\r\n\t\tinput.size(200, 30);\r\n\r\n\t\tinput.borderColor = \"#FFFF00\";\r\n\t\tinput.bold = true;\r\n\t\tinput.fontSize = 20;\r\n\t\tinput.color = \"#FFFFFF\";\r\n\t\tinput.padding = [0, 4, 0, 4];\r\n\r\n\t\tthis.box2D.addChild(input);\r\n\t\treturn input;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ZL9uIoGzQsGiXGRpZuB6kg')\r\nexport class Text_Scroll extends BaseScript {\r\n\tprivate txt: Text;\r\n\tprivate prevX: number = 0;\r\n\tprivate prevY: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createText();\r\n\t}\r\n\r\n\tprivate createText(): void {\r\n\t\tthis.txt = new Text();\r\n\t\tthis.txt.overflow = Text.SCROLL;\r\n\t\tthis.txt.text =\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\\n\" +\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\\n\" +\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\\n\" +\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\\n\" +\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\\n\" +\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\";\r\n\r\n\t\tthis.txt.size(200, 100);\r\n\t\tthis.txt.x = this.pageWidth - this.txt.width >> 1;\r\n\t\tthis.txt.y = this.pageHeight - this.txt.height >> 1;\r\n\r\n\t\tthis.txt.borderColor = \"#FFFF00\";\r\n\r\n\t\tthis.txt.fontSize = 20;\r\n\t\tthis.txt.color = \"#ffffff\";\r\n\r\n\t\tthis.box2D.addChild(this.txt);\r\n\r\n\t\tthis.txt.on(Event.MOUSE_DOWN, this, this.startScrollText);\r\n\t}\r\n\r\n\t/* \u5F00\u59CB\u6EDA\u52A8\u6587\u672C */\r\n\tprivate startScrollText(e: Event): void {\r\n\t\tthis.prevX = this.txt.mouseX;\r\n\t\tthis.prevY = this.txt.mouseY;\r\n\r\n\t\tthis.box2D.on(Event.MOUSE_MOVE, this, this.scrollText);\r\n\t\tthis.box2D.on(Event.MOUSE_UP, this, this.finishScrollText);\r\n\t}\r\n\r\n\t/* \u505C\u6B62\u6EDA\u52A8\u6587\u672C */\r\n\tprivate finishScrollText(e: Event): void {\r\n\t\tthis.box2D.off(Event.MOUSE_MOVE, this, this.scrollText);\r\n\t\tthis.box2D.off(Event.MOUSE_UP, this, this.finishScrollText);\r\n\t}\r\n\r\n\t/* \u9F20\u6807\u6EDA\u52A8\u6587\u672C */\r\n\tprivate scrollText(e: Event): void {\r\n\t\tvar nowX: number = this.txt.mouseX;\r\n\t\tvar nowY: number = this.txt.mouseY;\r\n\r\n\t\tthis.txt.scrollX += this.prevX - nowX;\r\n\t\tthis.txt.scrollY += this.prevY - nowY;\r\n\r\n\t\tthis.prevX = nowX;\r\n\t\tthis.prevY = nowY;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('zebVtgUYQUymP5PWWYXq0g')\r\nexport class Text_UBB extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createParagraph();\r\n\t}\r\n\r\n\tprivate createParagraph(): void {\r\n\t\tvar t = new Laya.Text();\r\n\t\tt.ubb = true;\r\n\t\tt.fontSize = 50;\r\n\t\tt.zOrder = 90000;\r\n\t\tt.text = '[color=#e3d26a]\u4F7F\u7528[/color]<br/>';\r\n\t\tt.text +='[color=#0bbd71]U[/color][color=#ff133c][u]B[/u][color][color=#409ed7][b]B[/b][/color]<br/>';\r\n\t\tt.text +='[color=#6ad2e3]\u521B\u5EFA\u7684[/color]<br/>';\r\n\t\tt.text +='[color=#d26ae3]UBB\u6587\u672C[/color]<br/>';\r\n\t\tthis.box2D.addChild(t);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('Y8OBOQ_vS8a0gzKixzWqDQ')\r\nexport class Text_Underline extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createTexts();\r\n\t}\r\n\r\n\tprivate createTexts(): void {\r\n\t\tthis.createText('left', 1, null, 100, 10);\r\n\t\tthis.createText('center', 2, \"#00BFFF\", 155, 150);\r\n\t\tthis.createText('right', 3, \"#FF7F50\", 210, 290);\r\n\t}\r\n\r\n\tprivate createText(align: string, underlineWidth: number, underlineColor: string, x: number, y: number): Text {\r\n\t\tvar txt: Text = new Text();\r\n\r\n\t\ttxt.text = \"Layabox\\n\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\\n\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\\n\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\";\r\n\r\n\t\ttxt.size(300, 50);\r\n\t\ttxt.fontSize = 20;\r\n\t\ttxt.color = \"#ffffff\";\r\n\t\ttxt.align = align;\r\n\r\n\t\t// \u8BBE\u7F6E\u4E0B\u5212\u7EBF\r\n\t\ttxt.underline = true;\r\n\t\ttxt.underlineColor = underlineColor;\r\n\r\n\t\ttxt.pos(x, y);\r\n\r\n\t\tthis.box2D.addChild(txt);\r\n\r\n\t\treturn txt;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('6yH8-U-bRLmGk6HG2Z1Vxg')\r\nexport class Text_WordWrap extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createText();\r\n\t}\r\n\r\n\tprivate createText(): void {\r\n\t\tvar txt: Text = new Text();\r\n\r\n\t\ttxt.text = \"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\";\r\n\r\n\t\ttxt.width = 300;\r\n\r\n\t\ttxt.fontSize = 40;\r\n\t\ttxt.color = \"#ffffff\";\r\n\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u4E3A\u591A\u884C\u6587\u672C\r\n\t\ttxt.wordWrap = true;\r\n\r\n\t\ttxt.x = this.pageWidth - txt.width >> 1;\r\n\t\ttxt.y = this.pageHeight - txt.height >> 1;\r\n\r\n\t\tthis.box2D.addChild(txt);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Tween = Laya.Tween;\r\nimport Ease = Laya.Ease;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('Q0j0OCRDRMW1bm__7SERCg')\r\nexport class Interaction_CustomEvent extends BaseScript {\r\n\r\n    static ROTATE: string = \"rotate\";\r\n\r\n\tprivate sp: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createSprite();\r\n\t}\r\n\r\n\tprivate createSprite(): void {\r\n\t\tthis.sp = new Sprite();\r\n\t\tthis.sp.graphics.drawRect(0, 0, 200, 200, \"#D2691E\");\r\n\t\tthis.sp.anchorX = 0.5;\r\n\t\tthis.sp.anchorY = 0.5;\r\n\r\n\t\tthis.sp.x = this.pageWidth / 2;\r\n\t\tthis.sp.y = this.pageHeight / 2;\r\n\r\n\t\tthis.sp.size(200, 200);\r\n\t\tthis.box2D.addChild(this.sp);\r\n\r\n\t\tthis.sp.on(Interaction_CustomEvent.ROTATE, this, this.onRotate);\t// \u4FA6\u542C\u81EA\u5B9A\u4E49\u7684\u4E8B\u4EF6\r\n\t\tthis.sp.on(Event.CLICK, this, this.onSpriteClick);\r\n\t}\r\n\r\n\tprivate onSpriteClick(e: Event = null): void {\r\n\t\tvar randomAngle: number = Math.random() * 180;\r\n\t\t//\u53D1\u9001\u81EA\u5B9A\u4E49\u4E8B\u4EF6\r\n\t\tthis.sp.event(Interaction_CustomEvent.ROTATE, [randomAngle]);\r\n\t}\r\n\r\n\t// \u89E6\u53D1\u81EA\u5B9A\u4E49\u7684rotate\u4E8B\u4EF6\r\n\tprivate onRotate(newAngle: number): void {\r\n\t\tTween.to(this.sp, { \"rotation\": newAngle }, 1000, Ease.elasticOut);\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Texture = Laya.Texture;\r\nimport Rectangle = Laya.Rectangle;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('lTEz83EISMmzj_hReDodIw')\r\nexport class Interaction_Drag extends BaseScript {\r\n\r\n\tprivate ApePath: string = \"resources/res/apes/monkey2.png\";\r\n\r\n\tprivate ape: Sprite;\r\n\tprivate dragRegion: Rectangle;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(this.ApePath).then( ()=>{\r\n            this.setup();\r\n        } );\r\n\t}\r\n\r\n\tprivate setup(_e: any = null): void {\r\n\t\tthis.createApe();\r\n\t\tthis.showDragRegion();\r\n\t}\r\n\r\n\tprivate createApe(): void {\r\n\t\tthis.ape = new Sprite();\r\n\r\n\t\tthis.ape.loadImage(this.ApePath);\r\n\t\tthis.box2D.addChild(this.ape);\r\n\r\n\t\tvar texture: Texture = Laya.loader.getRes(this.ApePath);\r\n\t\tthis.ape.pivot(texture.width / 2, texture.height / 2);\r\n\t\tthis.ape.x = this.pageWidth / 2;\r\n\t\tthis.ape.y = this.pageHeight / 2;\r\n\r\n\t\tthis.ape.on(Event.MOUSE_DOWN, this, this.onStartDrag);\r\n\t}\r\n\r\n\tprivate showDragRegion(): void {\r\n\t\t//\u62D6\u52A8\u9650\u5236\u533A\u57DF\r\n\t\tvar dragWidthLimit: number = 350;\r\n\t\tvar dragHeightLimit: number = 200;\r\n\t\tthis.dragRegion = new Rectangle(this.pageWidth - dragWidthLimit >> 1, this.pageHeight - dragHeightLimit >> 1, dragWidthLimit, dragHeightLimit);\r\n\r\n\t\t//\u753B\u51FA\u62D6\u52A8\u9650\u5236\u533A\u57DF\r\n\t\tthis.box2D.graphics.drawRect(\r\n\t\t\tthis.dragRegion.x, this.dragRegion.y, this.dragRegion.width, this.dragRegion.height,\r\n\t\t\tnull, \"#FFFFFF\", 2);\r\n\t}\r\n\r\n\tprivate onStartDrag(e: Event = null): void {\r\n\t\t//\u9F20\u6807\u6309\u4E0B\u5F00\u59CB\u62D6\u62FD(\u8BBE\u7F6E\u4E86\u62D6\u52A8\u533A\u57DF\u548C\u8D85\u754C\u5F39\u56DE\u7684\u6ED1\u52A8\u6548\u679C)\r\n\t\tthis.ape.startDrag(this.dragRegion, true, 100);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.ape) {\r\n\t\t\tthis.ape.off(Event.MOUSE_DOWN, this, this.onStartDrag);\r\n\t\t}\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('YKPK-Kr2S6Ow6eVoQxWlNw')\r\nexport class Interaction_FixInteractiveRegion extends BaseScript {\r\n\r\n\tprivate logger: Text;\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.buildWorld();\r\n\t\tthis.createLogger();\r\n\t}\r\n\r\n\tprivate buildWorld(): void {\r\n\t\tthis.createCoralRect();\r\n\t\tthis.createDeepSkyblueRect();\r\n\t\tthis.createDarkOrchidRect();\r\n\r\n\t\t// \u8BBE\u7F6E\u821E\u53F0\r\n\t\tthis.box2D.on(Event.MOUSE_DOWN, this, this.onDown);\r\n\t}\r\n\r\n\tprivate createCoralRect(): void {\r\n\t\tvar coralRect: Sprite = new Sprite();\r\n\t\tcoralRect.graphics.drawRect(0, 0, this.pageWidth, this.pageHeight / 2, \"#FF7F50\");\r\n\r\n\t\t//\u8BBE\u7F6E\u540D\u79F0\r\n\t\tcoralRect.name = \"\u73CA\u745A\u8272\u5BB9\u5668\";\r\n\t\tcoralRect.size(this.pageWidth, this.pageHeight / 2);\r\n\t\tthis.box2D.addChild(coralRect);\r\n\r\n\t\tcoralRect.on(Event.MOUSE_DOWN, this, this.onDown);\r\n\t}\r\n\r\n\tprivate createDeepSkyblueRect(): void {\r\n\t\tvar deepSkyblueRect: Sprite = new Sprite();\r\n\t\tdeepSkyblueRect.graphics.drawRect(0, 0, 100, 100, \"#00BFFF\");\r\n\t\t//\u8BBE\u7F6E\u540D\u79F0\r\n\t\tdeepSkyblueRect.name = \"\u5929\u84DD\u8272\u77E9\u5F62\";\r\n\t\t//\u8BBE\u7F6E\u5BBD\u9AD8\uFF08\u8981\u63A5\u6536\u9F20\u6807\u4E8B\u4EF6\u5FC5\u987B\u8BBE\u7F6E\u5BBD\u9AD8\uFF0C\u5426\u5219\u4E0D\u4F1A\u88AB\u547D\u4E2D\uFF09  \r\n\t\tdeepSkyblueRect.size(100, 100);\r\n\t\tdeepSkyblueRect.pos(10, 10);\r\n\t\tthis.box2D.addChild(deepSkyblueRect);\r\n\r\n\t\tdeepSkyblueRect.on(Event.MOUSE_DOWN, this, this.onDown);\r\n\t}\r\n\r\n\tprivate createDarkOrchidRect(): void {\r\n\t\tvar darkOrchidRect: Sprite = new Sprite();\r\n\t\tdarkOrchidRect.name = \"\u6697\u7D2B\u8272\u77E9\u5F62\u5BB9\u5668\";\r\n\t\tdarkOrchidRect.graphics.drawRect(-100, -100, 200, 200, \"#9932CC\");\r\n\r\n\t\tdarkOrchidRect.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n\t\tthis.box2D.addChild(darkOrchidRect);\r\n\r\n\t\t// \u4E3Atrue\u65F6\uFF0C\u78B0\u649E\u533A\u57DF\u4F1A\u88AB\u4FEE\u6B63\u4E3A\u5B9E\u9645\u663E\u793A\u8FB9\u754C\r\n\t\t// mouseThrough\u547D\u540D\u771F\u662F\u5177\u6709\u5F3A\u70C8\u7684\u8BEF\u5BFC\u6027\r\n\t\tdarkOrchidRect.mouseThrough = true;\r\n\t\tdarkOrchidRect.on(Event.MOUSE_DOWN, this, this.onDown);\r\n\t}\r\n\r\n\tprivate createLogger(): void {\r\n\t\tthis.logger = new Text();\r\n\t\tthis.logger.size(this.pageWidth, this.pageHeight);\r\n\t\tthis.logger.align = 'right';\r\n\t\tthis.logger.fontSize = 20;\r\n\t\tthis.logger.color = \"#FFFFFF\";\r\n\t\tthis.box2D.addChild(this.logger);\r\n\t}\r\n\r\n\t/**\u4FA6\u542C\u5904\u7406\u65B9\u6CD5*/\r\n\tprivate onDown(e: Event = null): void {\r\n\t\tthis.logger.text += \"\u70B9\u51FB - \" + e.target.name + \"\\n\";\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tthis.box2D.off(Event.MOUSE_DOWN, this, this.onDown);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Ease = Laya.Ease;\r\nimport Tween = Laya.Tween;\r\nimport Texture = Laya.Texture;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('51C7ozfLR4aC5BtlY6LjOg')\r\nexport class Interaction_Hold extends BaseScript {\r\n\r\n    private HOLD_TRIGGER_TIME: number = 1000;\r\n\tprivate apePath: string = \"resources/res/apes/monkey2.png\";\r\n\t//\u89E6\u53D1hold\u4E8B\u4EF6\u65F6\u95F4\u4E3A1\u79D2\r\n\tprivate ape: Sprite;\r\n\tprivate isApeHold: boolean;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        this.base();\r\n        \r\n\t\tLaya.loader.load(this.apePath).then( ()=>{\r\n            this.createApe();\r\n        } );\r\n\t}\r\n\r\n\tprivate createApe(_e: any = null): void {\r\n\t\t// \u6DFB\u52A0\u4E00\u53EA\u7329\u7329\r\n\t\tthis.ape = new Sprite();\r\n\t\tthis.ape.loadImage(this.apePath);\r\n\r\n\t\tvar texture: Texture = Laya.loader.getRes(this.apePath);\r\n\t\tthis.ape.pivot(texture.width / 2, texture.height / 2);\r\n\t\tthis.ape.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n\t\tthis.ape.scale(0.8, 0.8);\r\n\t\tthis.box2D.addChild(this.ape);\r\n\r\n\t\t// \u9F20\u6807\u4EA4\u4E92\r\n\t\tthis.ape.on(Event.MOUSE_DOWN, this, this.onApePress);\r\n\t}\r\n\r\n\tprivate onApePress(e: Event = null): void {\r\n\t\t// \u9F20\u6807\u6309\u4E0B\u540E\uFF0CHOLD_TRIGGER_TIME\u6BEB\u79D2\u540Ehold\r\n\t\tLaya.timer.once(this.HOLD_TRIGGER_TIME, this, this.onHold);\r\n\t\tthis.box2D.on(Event.MOUSE_UP, this, this.onApeRelease);\r\n\t}\r\n\r\n\tprivate onHold(e: any = null): void {\r\n\t\tTween.to(this.ape, { \"scaleX\": 1, \"scaleY\": 1 }, 500, Ease.bounceOut);\r\n\t\tthis.isApeHold = true;\r\n\t}\r\n\r\n\t/** \u9F20\u6807\u653E\u5F00\u540E\u505C\u6B62hold */\r\n\tprivate onApeRelease(e: any = null): void {\r\n\t\t// \u9F20\u6807\u653E\u5F00\u65F6\uFF0C\u5982\u679C\u6B63\u5728hold\uFF0C\u5219\u64AD\u653E\u653E\u5F00\u7684\u6548\u679C\r\n\t\tif (this.isApeHold) {\r\n\t\t\tthis.isApeHold = false;\r\n\t\t\tTween.to(this.ape, { \"scaleX\": 0.8, \"scaleY\": 0.8 }, 300);\r\n\t\t}\r\n\t\telse // \u5982\u679C\u672A\u89E6\u53D1hold\uFF0C\u7EC8\u6B62\u89E6\u53D1hold\r\n\t\t\tLaya.timer.clear(this, this.onHold);\r\n\r\n\t\tthis.box2D.off(Event.MOUSE_UP, this, this.onApeRelease);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.ape) {\r\n\t\t\tthis.ape.off(Event.MOUSE_DOWN, this, this.onApePress);\r\n\t\t}\r\n\t\tLaya.timer.clear(this, this.onHold);\r\n\t\tthis.box2D.off(Event.MOUSE_UP, this, this.onApeRelease);\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('q89OHTT-RsqvbFkx3p8Dug')\r\nexport class Interaction_Keyboard extends BaseScript {\r\n\r\n\tprivate logger: Text;\r\n\tprivate keyDownList: any[];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.listenKeyboard();\r\n\t\tthis.createLogger();\r\n\r\n\t\tLaya.timer.frameLoop(1, this, this.keyboardInspector);\r\n\t}\r\n\r\n\tprivate listenKeyboard(): void {\r\n\t\tthis.keyDownList = [];\r\n\r\n\t\t//\u6DFB\u52A0\u952E\u76D8\u6309\u4E0B\u4E8B\u4EF6,\u4E00\u76F4\u6309\u7740\u67D0\u6309\u952E\u5219\u4F1A\u4E0D\u65AD\u89E6\u53D1\r\n\t\tLaya.stage.on(Event.KEY_DOWN, this, this.onKeyDown);\r\n\t\t//\u6DFB\u52A0\u952E\u76D8\u62AC\u8D77\u4E8B\u4EF6\r\n\t\tLaya.stage.on(Event.KEY_UP, this, this.onKeyUp);\r\n\t}\r\n\r\n\t/**\u952E\u76D8\u6309\u4E0B\u5904\u7406*/\r\n\tonKeyDown(e: any = null): void {\r\n\t\tthis.keyDownList[e[\"keyCode\"]] = true;\r\n\t}\r\n\r\n\t/**\u952E\u76D8\u62AC\u8D77\u5904\u7406*/\r\n\tonKeyUp(e: any = null): void {\r\n\t\tdelete this.keyDownList[e[\"keyCode\"]];\r\n\t}\r\n\r\n\tprivate keyboardInspector(e: any = null): void {\r\n\t\tvar numKeyDown: number = this.keyDownList.length;\r\n\r\n\t\tvar newText: string = '[ ';\r\n\t\tfor (var i: number = 0; i < numKeyDown; i++) {\r\n\t\t\tif (this.keyDownList[i]) {\r\n\t\t\t\tnewText += i + \" \";\r\n\t\t\t}\r\n\t\t}\r\n\t\tnewText += ']';\r\n\r\n\t\tthis.logger.changeText(newText);\r\n\t}\r\n\r\n\t/**\u6DFB\u52A0\u63D0\u793A\u6587\u672C*/\r\n\tprivate createLogger(): void {\r\n\t\tthis.logger = new Text();\r\n\r\n\t\tthis.logger.size(this.pageWidth, this.pageHeight);\r\n\t\tthis.logger.fontSize = 30;\r\n\t\tthis.logger.font = \"SimHei\";\r\n\t\tthis.logger.wordWrap = true;\r\n\t\tthis.logger.color = \"#FFFFFF\";\r\n\t\tthis.logger.align = 'center';\r\n\t\tthis.logger.valign = 'middle';\r\n\r\n\t\tthis.box2D.addChild(this.logger);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.keyboardInspector);\r\n        this.box2D.off(Event.KEY_DOWN, this, this.onKeyDown);\r\n\t\tthis.box2D.off(Event.KEY_UP, this, this.onKeyUp);\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('q7i7Q8EXT6qfcJuPzvInNw')\r\nexport class Interaction_Mouse extends BaseScript {\r\n\r\n\tprivate txt: Text;\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.createInteractiveTarget();\r\n\t\tthis.createLogger();\r\n\t}\r\n\r\n\tprivate createInteractiveTarget(): void {\r\n\t\tvar rect: Sprite = new Sprite();\r\n\t\trect.graphics.drawRect(0, 0, 200, 200, \"#D2691E\");\r\n\r\n\t\trect.size(200, 200);\r\n\t\trect.x = (this.pageWidth - 200) / 2;\r\n\t\trect.y = (this.pageHeight - 200) / 2;\r\n\t\tthis.box2D.addChild(rect);\r\n\r\n\t\t//\u589E\u52A0\u9F20\u6807\u4E8B\u4EF6\r\n\t\trect.on(Event.MOUSE_DOWN, this, this.mouseHandler);\r\n\t\trect.on(Event.MOUSE_UP, this, this.mouseHandler);\r\n\t\trect.on(Event.RIGHT_MOUSE_DOWN, this, this.mouseHandler);\r\n\t\trect.on(Event.RIGHT_MOUSE_UP, this, this.mouseHandler);\r\n\t\trect.on(Event.CLICK, this, this.mouseHandler);\r\n\t\trect.on(Event.RIGHT_CLICK, this, this.mouseHandler);\r\n\t\trect.on(Event.MOUSE_MOVE, this, this.mouseHandler);\r\n\t\trect.on(Event.MOUSE_OVER, this, this.mouseHandler);\r\n\t\trect.on(Event.MOUSE_OUT, this, this.mouseHandler);\r\n\t\trect.on(Event.DOUBLE_CLICK, this, this.mouseHandler);\r\n\t\trect.on(Event.MOUSE_WHEEL, this, this.mouseHandler);\r\n\t}\r\n\r\n\t/**\r\n\t * \u9F20\u6807\u54CD\u5E94\u4E8B\u4EF6\u5904\u7406\r\n\t */\r\n\tprivate mouseHandler(e: Event = null): void {\r\n\t\tswitch (e.type) {\r\n\t\t\tcase Event.MOUSE_DOWN:\r\n\t\t\t\tthis.appendText(\"\\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\\n\u5DE6\u952E\u6309\u4E0B\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.MOUSE_UP:\r\n\t\t\t\tthis.appendText(\"\\n\u5DE6\u952E\u62AC\u8D77\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.CLICK:\r\n\t\t\t\tthis.appendText(\"\\n\u5DE6\u952E\u70B9\u51FB\\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.RIGHT_MOUSE_DOWN:\r\n\t\t\t\tthis.appendText(\"\\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\\n\u53F3\u952E\u6309\u4E0B\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.RIGHT_MOUSE_UP:\r\n\t\t\t\tthis.appendText(\"\\n\u53F3\u952E\u62AC\u8D77\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.RIGHT_CLICK:\r\n\t\t\t\tthis.appendText(\"\\n\u53F3\u952E\u5355\u51FB\\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.MOUSE_MOVE:\r\n\t\t\t\t// \u5982\u679C\u4E0A\u4E00\u4E2A\u64CD\u4F5C\u662F\u79FB\u52A8\uFF0C\u63D0\u793A\u4FE1\u606F\u4EC5\u52A0\u5165.\u5B57\u7B26\r\n\t\t\t\tif (/\u9F20\u6807\u79FB\u52A8\\.*$/.test(this.txt.text))\r\n\t\t\t\t\tthis.appendText(\".\");\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.appendText(\"\\n\u9F20\u6807\u79FB\u52A8\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.MOUSE_OVER:\r\n\t\t\t\tthis.appendText(\"\\n\u9F20\u6807\u7ECF\u8FC7\u76EE\u6807\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.MOUSE_OUT:\r\n\t\t\t\tthis.appendText(\"\\n\u9F20\u6807\u79FB\u51FA\u76EE\u6807\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.DOUBLE_CLICK:\r\n\t\t\t\tthis.appendText(\"\\n\u9F20\u6807\u5DE6\u952E\u53CC\u51FB\\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.MOUSE_WHEEL:\r\n\t\t\t\tthis.appendText(\"\\n\u9F20\u6807\u6EDA\u8F6E\u6EDA\u52A8\");\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate appendText(value: string): void {\r\n\t\tthis.txt.text += value;\r\n\t\tthis.txt.scrollY = this.txt.maxScrollY;\r\n\t}\r\n\r\n\t/**\u6DFB\u52A0\u63D0\u793A\u6587\u672C*/\r\n\tprivate createLogger(): void {\r\n\t\tthis.txt = new Text();\r\n\r\n\t\tthis.txt.overflow = Text.SCROLL;\r\n\t\tthis.txt.text = \"\u8BF7\u628A\u9F20\u6807\u79FB\u5230\u5230\u77E9\u5F62\u65B9\u5757,\u5DE6\u53F3\u952E\u64CD\u4F5C\u89E6\u53D1\u76F8\u5E94\u4E8B\u4EF6\\n\";\r\n\t\tthis.txt.size(this.pageWidth, this.pageHeight);\r\n\t\tthis.txt.pos(10, 50);\r\n\t\tthis.txt.fontSize = 20;\r\n\t\tthis.txt.wordWrap = true;\r\n\t\tthis.txt.color = \"#FFFFFF\";\r\n\r\n\t\tthis.box2D.addChild(this.txt);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('AF7NBVJmR5uwOwWLYBor3A')\r\nexport class Interaction_Rotate extends BaseScript {\r\n\r\n    private sp: Sprite;\r\n    private preRadian: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        this.setup();\r\n    }\r\n\r\n    private setup(): void {\r\n        this.createSprite();\r\n\r\n        this.box2D.on(Event.MOUSE_UP, this, this.onMouseUp);\r\n        this.box2D.on(Event.MOUSE_OUT, this, this.onMouseUp);\r\n    }\r\n\r\n    private createSprite(): void {\r\n        this.sp = new Sprite();\r\n        var w: number = 200, h: number = 300;\r\n        this.sp.graphics.drawRect(0, 0, w, h, \"#FF7F50\");\r\n        this.sp.size(w, h);\r\n        this.sp.pivot(w / 2, h / 2);\r\n        this.sp.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n        this.box2D.addChild(this.sp);\r\n\r\n        this.sp.on(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n    }\r\n\r\n    onMouseDown(e: Event): void {\r\n        let touches = e.touches;\r\n\r\n        if (touches && touches.length == 2) {\r\n            this.preRadian = Math.atan2(\r\n                touches[0].pos.y - touches[1].pos.y,\r\n                touches[0].pos.x - touches[1].pos.y);\r\n\r\n            this.box2D.on(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n        }\r\n    }\r\n\r\n    onMouseMove(e: Event): void {\r\n        var touches = e.touches;\r\n        if (touches && touches.length == 2) {\r\n            var nowRadian: number = Math.atan2(\r\n                touches[0].pos.y - touches[1].pos.y,\r\n                touches[0].pos.x - touches[1].pos.x);\r\n\r\n            this.sp.rotation += 180 / Math.PI * (nowRadian - this.preRadian);\r\n\r\n            this.preRadian = nowRadian;\r\n        }\r\n    }\r\n\r\n    onMouseUp(e: Event): void {\r\n        this.box2D.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n    }\r\n\r\n    onDestroy(): void {\r\n        if (this.sp) {\r\n            this.sp.off(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n        }\r\n        this.box2D.off(Event.MOUSE_UP, this, this.onMouseUp);\r\n        this.box2D.off(Event.MOUSE_OUT, this, this.onMouseUp);\r\n        this.box2D.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport ITouchInfo = Laya.ITouchInfo;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('Sbw2-FweTqCYl-5zyW0gug')\r\nexport class Interaction_Scale extends BaseScript {\r\n\r\n    //\u4E0A\u6B21\u8BB0\u5F55\u7684\u4E24\u4E2A\u89E6\u6A21\u70B9\u4E4B\u95F4\u8DDD\u79BB\r\n    private lastDistance: number = 0;\r\n    private sp: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n        this.setup();\r\n    }\r\n\r\n    private setup(): void {\r\n        this.createSprite();\r\n\r\n        this.box2D.on(Event.MOUSE_UP, this, this.onMouseUp);\r\n        this.box2D.on(Event.MOUSE_OUT, this, this.onMouseUp);\r\n    }\r\n\r\n    private createSprite(): void {\r\n        this.sp = new Sprite();\r\n        var w: number = 300, h: number = 300;\r\n        this.sp.graphics.drawRect(0, 0, w, h, \"#FF7F50\");\r\n        this.sp.size(w, h);\r\n        this.sp.pivot(w / 2, h / 2);\r\n        this.sp.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n        this.box2D.addChild(this.sp);\r\n\r\n        this.sp.on(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n    }\r\n\r\n    onMouseDown(e: Event = null): void {\r\n        var touches = e.touches;\r\n\r\n        if (touches && touches.length == 2) {\r\n            this.lastDistance = this.getDistance(touches);\r\n\r\n            this.box2D.on(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n        }\r\n    }\r\n\r\n    onMouseMove(e: Event = null): void {\r\n        var distance: number = this.getDistance(e.touches);\r\n\r\n        //\u5224\u65AD\u5F53\u524D\u8DDD\u79BB\u4E0E\u4E0A\u6B21\u8DDD\u79BB\u53D8\u5316\uFF0C\u786E\u5B9A\u662F\u653E\u5927\u8FD8\u662F\u7F29\u5C0F\r\n        const factor: number = 0.01;\r\n        this.sp.scaleX += (distance - this.lastDistance) * factor;\r\n        this.sp.scaleY += (distance - this.lastDistance) * factor;\r\n\r\n        this.lastDistance = distance;\r\n    }\r\n\r\n    onMouseUp(e: Event = null): void {\r\n        this.box2D.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n    }\r\n\r\n    /**\u8BA1\u7B97\u4E24\u4E2A\u89E6\u6478\u70B9\u4E4B\u95F4\u7684\u8DDD\u79BB*/\r\n    private getDistance(touches: ReadonlyArray<ITouchInfo>): number {\r\n        var distance: number = 0;\r\n        if (touches && touches.length == 2) {\r\n            var dx: number = touches[0].pos.x - touches[1].pos.x;\r\n            var dy: number = touches[0].pos.y - touches[1].pos.y;\r\n\r\n            distance = Math.sqrt(dx * dx + dy * dy);\r\n        }\r\n        return distance;\r\n    }\r\n\r\n    onDestroy(): void {\r\n        if (this.sp) {\r\n            this.sp.off(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n        }\r\n        this.box2D.off(Event.MOUSE_UP, this, this.onMouseUp);\r\n        this.box2D.off(Event.MOUSE_OUT, this, this.onMouseUp);\r\n        this.box2D.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Tween = Laya.Tween;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('c2_eQcP_TJK440Pq1xTEmQ')\r\nexport class Interaction_Swipe extends BaseScript {\r\n\r\n    \t//swipe\u6EDA\u52A8\u8303\u56F4\r\n\tprivate TrackLength: number = 200;\r\n\t//\u89E6\u53D1swipe\u7684\u62D6\u52A8\u8DDD\u79BB\r\n\tprivate TOGGLE_DIST: number = this.TrackLength / 2;\r\n\r\n\tprivate buttonPosition: number;\r\n\tprivate beginPosition: number;\r\n\tprivate endPosition: number;\r\n\r\n\tprivate button: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.createSprtie();\r\n\t\tthis.drawTrack();\r\n\t}\r\n\r\n\tprivate createSprtie(): void {\r\n\t\tconst w: number = 50;\r\n\t\tconst h: number = 30;\r\n\r\n\t\tthis.button = new Sprite();\r\n\t\tthis.button.graphics.drawRect(0, 0, w, h, \"#FF7F50\");\r\n\t\tthis.button.anchorX = 0.5;\r\n\t\tthis.button.anchorY = 0.5;\r\n\t\t//\u8BBE\u7F6E\u5BBD\u9AD8\uFF08\u8981\u63A5\u6536\u9F20\u6807\u4E8B\u4EF6\u5FC5\u987B\u8BBE\u7F6E\u5BBD\u9AD8\uFF0C\u5426\u5219\u4E0D\u4F1A\u88AB\u547D\u4E2D\uFF09  \r\n\t\tthis.button.size(w, h);\r\n\t\tthis.button.x = (this.pageWidth - this.TrackLength) / 2;\r\n\t\tthis.button.y = this.pageHeight / 2;\r\n\r\n\t\tthis.button.on(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n\r\n\t\tthis.box2D.addChild(this.button);\r\n\t\t//\u5DE6\u4FA7\u4E34\u754C\u70B9\u8BBE\u4E3A\u5706\u5F62\u521D\u59CB\u4F4D\u7F6E\r\n\t\tthis.beginPosition = this.button.x;\r\n\t\t//\u53F3\u4FA7\u4E34\u754C\u70B9\u8BBE\u7F6E\r\n\t\tthis.endPosition = this.beginPosition + this.TrackLength;\r\n\t}\r\n\r\n\tprivate drawTrack(): void {\r\n\t\tvar graph: Sprite = new Sprite();\r\n\t\tthis.box2D.graphics.drawLine(\r\n\t\t\tthis.beginPosition, this.pageHeight / 2,\r\n\t\t\tthis.endPosition, this.pageHeight / 2,\r\n\t\t\t\"#FFFFFF\", 20);\r\n\t\tthis.box2D.addChild(graph);\r\n\t}\r\n\r\n\t/**\u6309\u4E0B\u4E8B\u4EF6\u5904\u7406*/\r\n\tonMouseDown(e: Event = null): void {\r\n\t\t//\u6DFB\u52A0\u9F20\u6807\u79FB\u5230\u4FA6\u542C\r\n\t\tthis.box2D.on(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n\t\tthis.buttonPosition = this.button.x;\r\n\r\n\t\tthis.box2D.on(Event.MOUSE_UP, this, this.onMouseUp);\r\n\t\tthis.box2D.on(Event.MOUSE_OUT, this, this.onMouseUp);\r\n\t}\r\n\t/**\u79FB\u5230\u4E8B\u4EF6\u5904\u7406*/\r\n\tonMouseMove(e: Event = null): void {\r\n\t\tthis.button.x = Math.max(Math.min(this.box2D.mouseX, this.endPosition), this.beginPosition);\r\n\t}\r\n\r\n\t/**\u62AC\u8D77\u4E8B\u4EF6\u5904\u7406*/\r\n\tonMouseUp(e: Event = null): void {\r\n\t\tthis.box2D.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n\t\tthis.box2D.off(Event.MOUSE_UP, this, this.onMouseUp);\r\n\t\tthis.box2D.off(Event.MOUSE_OUT, this, this.onMouseUp);\r\n\r\n\t\t// \u6ED1\u52A8\u5230\u76EE\u7684\u5730\r\n\t\tvar dist: number = this.box2D.mouseX - this.buttonPosition;\r\n\r\n\t\tvar targetX = this.beginPosition;\r\n\t\tif (dist > this.TOGGLE_DIST)\r\n\t\t\ttargetX = this.endPosition;\r\n\t\tTween.to(this.button, { x: targetX }, 100);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.button) {\r\n\t\t\tthis.button.off(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n\t\t}\r\n\t\tthis.box2D.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n\t\tthis.box2D.off(Event.MOUSE_UP, this, this.onMouseUp);\r\n\t\tthis.box2D.off(Event.MOUSE_OUT, this, this.onMouseUp);\r\n\t\tthis.box2D.graphics.clear();\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Event = Laya.Event;\r\nimport Mesh = Laya.Mesh;\r\nimport Text = Laya.Text;\r\nimport Quaternion = Laya.Quaternion;\r\nimport HitResult = Laya.HitResult;\r\nimport Vector2 = Laya.Vector2;\r\nimport Ray = Laya.Ray;\r\nimport MeshFilter = Laya.MeshFilter;\r\nimport MeshColliderShape = Laya.MeshColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Loader = Laya.Loader;\r\nimport Label = Laya.Label;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('XM6h10CRSluLFSq9rtOdGg')\r\nexport class MouseInteraction extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    private _ray: Ray;\r\n\tprivate _outHitResult: HitResult = new HitResult();\r\n\tprivate point: Vector2 = new Vector2();\r\n\tprivate text: Text = new Text();\r\n\tprivate tmpVector: Vector3 = new Vector3(0, 0, 0);\r\n\tprivate infoText: Label;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 0.7, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n\t\t//\u6279\u91CF\u9884\u52A0\u8F7D\u8D44\u6E90\r\n\t\tLaya.loader.load([\"resources/res/threeDimen/staticModel/grid/plane.lh\", \"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"]).then(()=>{\r\n\t\t\tthis.onComplete();\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tprivate onComplete(): void {\r\n\t\t//\u52A0\u8F7D\u5730\u9762\r\n\t\tvar grid: Sprite3D = (<Sprite3D>this.scene.addChild(Loader.createNodes(\"resources/res/threeDimen/staticModel/grid/plane.lh\")));\r\n\t\t//\u6307\u5B9A\u7CBE\u7075\u7684\u56FE\u5C42\r\n\t\tgrid.layer = 10;\r\n\t\t//\u52A0\u8F7D\u9759\u6001\u5C0F\u7334\u5B50\r\n\t\tvar staticLayaMonkey: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(Loader.getRes(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\"))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tstaticLayaMonkey.meshRenderer.material = Loader.getRes(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/Materials/T_Diffuse.lmat\");\r\n\t\t//\u8BBE\u7F6E\u4F4D\u7F6E\r\n\t\tstaticLayaMonkey.transform.position = new Vector3(0, 0, 0.5);\r\n\t\t//\u8BBE\u7F6E\u7F29\u653E\r\n\t\tstaticLayaMonkey.transform.localScale = new Vector3(0.3, 0.3, 0.3);\r\n\t\t//\u8BBE\u7F6E\u65CB\u8F6C\r\n\t\tstaticLayaMonkey.transform.rotation = new Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\r\n\t\t//\u514B\u9686sprite3d\r\n\t\tthis.tmpVector.setValue(0.0, 0, 0.5);\r\n\t\tvar layaMonkey_clone1: MeshSprite3D = (<MeshSprite3D>Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this.tmpVector));\r\n\t\tvar layaMonkey_clone2: MeshSprite3D = (<MeshSprite3D>Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this.tmpVector));\r\n\t\tvar layaMonkey_clone3: MeshSprite3D = (<MeshSprite3D>Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this.tmpVector));\r\n\t\t//\u8BBE\u7F6E\u7CBE\u7075\u540D\u5B57\r\n\t\tstaticLayaMonkey.name = \"\u5927\u718A\";\r\n\t\tlayaMonkey_clone1.name = \"\u4E8C\u718A\";\r\n\t\tlayaMonkey_clone2.name = \"\u4E09\u718A\";\r\n\t\tlayaMonkey_clone3.name = \"\u5C0F\u718A\";\r\n\r\n\t\t//\u5E73\u79FB\r\n\t\tthis.tmpVector.setValue(1.5, 0, 0.0);\r\n\t\tlayaMonkey_clone1.transform.translate(this.tmpVector);\r\n\t\tthis.tmpVector.setValue(-1.5, 0, 0.0);\r\n\t\tlayaMonkey_clone2.transform.translate(this.tmpVector);\r\n\t\tthis.tmpVector.setValue(2.5, 0, 0.0);\r\n\t\tlayaMonkey_clone3.transform.translate(this.tmpVector);\r\n\t\t//\u65CB\u8F6C\r\n\t\tthis.tmpVector.setValue(0, 60, 0);\r\n\t\tlayaMonkey_clone2.transform.rotate(this.tmpVector, false, false);\r\n\t\t//\u7F29\u653E\r\n\t\tthis.tmpVector.setValue(0.1, 0.1, 0.1);\r\n\t\tvar scale: Vector3 = new Vector3(0.1, 0.1, 0.1);\r\n\t\tlayaMonkey_clone3.transform.localScale = this.tmpVector;\r\n\r\n\t\t//\u7ED9\u6A21\u578B\u6DFB\u52A0\u78B0\u649E\u7EC4\u4EF6\r\n\t\tvar meshCollider: PhysicsCollider = staticLayaMonkey.addComponent(PhysicsCollider);\r\n\t\t//\u521B\u5EFA\u7F51\u683C\u78B0\u649E\u5668\r\n\t\tvar meshShape: MeshColliderShape = new MeshColliderShape();\r\n\t\t//\u83B7\u53D6\u6A21\u578B\u7684mesh\r\n\t\tmeshShape.mesh = (<Mesh>staticLayaMonkey.meshFilter.sharedMesh);\r\n\t\t//\u8BBE\u7F6E\u6A21\u578B\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\tmeshCollider.colliderShape = meshShape;\r\n\r\n\t\tvar meshCollider1: PhysicsCollider = layaMonkey_clone1.addComponent(PhysicsCollider);\r\n\t\tvar meshShape1: MeshColliderShape = new MeshColliderShape();\r\n\t\tmeshShape1.mesh = (<Mesh>layaMonkey_clone1.getComponent(MeshFilter).sharedMesh);\r\n\t\tmeshCollider1.colliderShape = meshShape1;\r\n\r\n\t\tvar meshCollider2: PhysicsCollider = layaMonkey_clone2.addComponent(PhysicsCollider);\r\n\t\tvar meshShape2: MeshColliderShape = new MeshColliderShape();\r\n\t\tmeshShape2.mesh = (<Mesh>layaMonkey_clone2.getComponent(MeshFilter).sharedMesh);\r\n\t\tmeshCollider2.colliderShape = meshShape2;\r\n\r\n\t\tvar meshCollider3: PhysicsCollider = layaMonkey_clone3.addComponent(PhysicsCollider);\r\n\t\tvar meshShape3: MeshColliderShape = new MeshColliderShape();\r\n\t\tmeshShape3.mesh = (<Mesh>layaMonkey_clone3.getComponent(MeshFilter).sharedMesh);\r\n\t\tmeshCollider3.colliderShape = meshShape3;\r\n\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n\t\tthis.text.y = 50;\r\n\r\n\t\t//\u5C04\u7EBF\u521D\u59CB\u5316\uFF08\u5FC5\u987B\u521D\u59CB\u5316\uFF09\r\n\t\tthis._ray = new Ray(new Vector3(0, 0, 0), new Vector3(0, 0, 0));\r\n\t\t//\u6DFB\u52A0\u9F20\u6807\u4E8B\u4EF6\r\n\t\tthis.addMouseEvent();\r\n\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\tthis.text.name = \"text\";\r\n\t\tthis.text.overflow = Text.HIDDEN;\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.font = \"Impact\";\r\n\t\tthis.text.fontSize = 20;\r\n\t\tthis.text.x = this.pageWidth / 2 - 60;\r\n\t\tthis.owner.addChild(this.text);\r\n\r\n\t\tstaticLayaMonkey.addComponent(SceneScript);\r\n\t\tlayaMonkey_clone1.addComponent(SceneScript);\r\n\t\tlayaMonkey_clone2.addComponent(SceneScript);\r\n\t\tlayaMonkey_clone3.addComponent(SceneScript);\r\n\r\n\t\t//\u8BBE\u7F6E\u64CD\u4F5C\u63D0\u793A\u6846\r\n\t\tthis.infoText = new Laya.Label();\r\n\t\tthis.infoText.x = this.pageWidth / 2;\r\n\t\tthis.infoText.y = 10;\r\n\t\tthis.infoText.width = this.pageWidth;\r\n\t\tthis.infoText.anchorX = 0.5;\r\n\t\tthis.infoText.align = \"center\";\r\n\t\tthis.infoText.text = \"\u70B9\u51FB\u6BCF\u4E2A\u5BF9\u8C61\";\r\n\t\tthis.infoText.overflow = Laya.Text.HIDDEN;\r\n\t\tthis.infoText.color = \"#FFFFFF\";\r\n\t\tthis.infoText.font = \"Impact\";\r\n\t\tthis.infoText.fontSize = 25;\r\n\t\tthis.owner.addChild(this.infoText);\t\t\r\n\r\n\t}\r\n\r\n\tprivate addMouseEvent(): void {\r\n\t\t//\u9F20\u6807\u4E8B\u4EF6\u76D1\u542C\r\n\t\tthis.owner.on(Event.MOUSE_DOWN, this, this.onStageMouseDown);\r\n\t}\r\n\r\n\tonStageMouseDown(e:Event): void {\r\n\r\n\t\tthis.point.x = e.target.mouseX;\r\n\t\tthis.point.y = e.target.mouseY;\r\n\r\n\t\tif( Index.curPage )\r\n        {\r\n            this.point.x = this.point.x * Index.screenWidth / Index.pageWidth;\r\n            this.point.y = this.point.y * Index.screenHeight / Index.pageHeight;\r\n        }\r\n        else\r\n        {\r\n        }\r\n\r\n\t\tlet point1 = new Laya.Point(this.point.x,this.point.y);\r\n\t\tconsole.log(e.target.mouseX,e.target.mouseY);\r\n\t\t// point1 = Index.curPage.localToGlobal(point1);\r\n\t\tthis.point.x = point1.x;\r\n\t\tthis.point.y = point1.y;\r\n\r\n\r\n\t\t//\u4EA7\u751F\u5C04\u7EBF\r\n\t\tthis.camera.viewportPointToRay(this.point, this._ray);\r\n\t\t//\u62FF\u5230\u5C04\u7EBF\u78B0\u649E\u7684\u7269\u4F53\r\n\t\tthis.scene.physicsSimulation.rayCast(this._ray, this._outHitResult);\r\n\t\t//\u5982\u679C\u78B0\u649E\u5230\u7269\u4F53\r\n\t\tif (this._outHitResult.succeeded) {\r\n\t\t\t//\u5220\u9664\u78B0\u649E\u5230\u7684\u7269\u4F53\r\n\t\t\tthis.text.text = \"\u78B0\u649E\u5230\u4E86\" + this._outHitResult.collider.owner.name;\r\n\t\t\tconsole.log(\"\u78B0\u649E\u5230\u7269\u4F53\uFF01\uFF01\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nclass SceneScript extends Laya.Script {\r\n\tprivate meshSprite: MeshSprite3D;\r\n\tprivate text: Laya.Text;\r\n\tprivate _albedoColor: Laya.Color = new Laya.Color(0.0, 0.0, 0.0, 1.0);\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tonAwake(): void {\r\n\t\tthis.meshSprite = (<MeshSprite3D>this.owner);\r\n\t\tthis.text = (<Laya.Text>this.owner.getChildByName(\"text\"));\r\n\t}\r\n\r\n\t/**\r\n\t * \u8986\u5199\u7EC4\u4EF6\u66F4\u65B0\u65B9\u6CD5\uFF08\u76F8\u5F53\u4E8E\u5E27\u5FAA\u73AF\uFF09\r\n\t */\r\n\tonUpdate(): void {\r\n\t}\r\n\r\n\t//\u7269\u4F53\u5FC5\u987B\u62E5\u6709\u78B0\u649E\u7EC4\u4EF6\uFF08Collider\uFF09\r\n\t//\u5F53\u88AB\u9F20\u6807\u70B9\u51FB\r\n\tonMouseDown(): void {\r\n\t\tthis.text.text = \"\u78B0\u649E\u5230\u4E86\" + this.owner.name;\r\n\t\t//\u4ECE\u7236\u5BB9\u5668\u9500\u6BC1\u6211\u81EA\u5DF1\r\n\t\t//box.removeSelf();\r\n\t}\r\n\r\n\t//\u5F53\u4EA7\u751F\u78B0\u649E\r\n\tonCollisionEnter(collision: Laya.Collision): void {\r\n\t\t((<BlinnPhongMaterial>this.meshSprite.meshRenderer.sharedMaterial)).albedoColor = this._albedoColor;\r\n\t\t// box.removeSelf();\r\n\t}\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Text = Laya.Text;\r\nimport Vector2 = Laya.Vector2;\r\nimport Label = Laya.Label;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('3Qbr_ASiT9OMlGzP24n_1A')\r\nexport class MultiTouch extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tpublic static text: Label;\r\n\tprivate infoText: Label;\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * \u7EC4\u4EF6\u88AB\u6FC0\u6D3B\u540E\u6267\u884C\uFF0C\u6B64\u65F6\u6240\u6709\u8282\u70B9\u548C\u7EC4\u4EF6\u5747\u5DF2\u521B\u5EFA\u5B8C\u6BD5\uFF0C\u6B64\u65B9\u6CD5\u53EA\u6267\u884C\u4E00\u6B21\r\n     */\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 0.8, 1.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\").then((res)=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t})\r\n\t}\r\n\r\n\tprivate onComplete(res:any): void {\r\n\t\t//\u52A0\u8F7D\u5C0F\u7334\u5B50\u7CBE\u7075\r\n\t\tvar monkey: Sprite3D = res.create();\r\n\t\t//\u7334\u5B50\u7CBE\u7075\u6DFB\u52A0\u7EC4\u4EF6\uFF08\u811A\u672C\uFF09\r\n\t\tmonkey.addComponent(MonkeyScript);\r\n\t\tthis.scene.addChild(monkey);\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u89C2\u5BDF\u76EE\u6807\u4E3A\u5C0F\u7334\u5B50\r\n\t\tthis.camera.transform.lookAt(monkey.transform.position, new Vector3(0, 1, 0));\r\n\r\n\t\tMultiTouch.text = new Label();\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n\t\tMultiTouch.text.text = \"\u89E6\u63A7\u70B9\u5F52\u96F6\";\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\tMultiTouch.text.name = \"ceshi\";\r\n\t\tMultiTouch.text.width = this.pageWidth;\r\n\t\tMultiTouch.text.align = \"center\";\r\n\t\tMultiTouch.text.anchorX = 0.5;\r\n\t\tMultiTouch.text.overflow = Text.HIDDEN;\r\n\t\tMultiTouch.text.color = \"#FFFFFF\";\r\n\t\tMultiTouch.text.font = \"Impact\";\r\n\t\tMultiTouch.text.fontSize = 25;\r\n\t\tMultiTouch.text.x = this.pageWidth / 2;\r\n\t\tMultiTouch.text.y = 70;\r\n\t\tthis.owner.addChild(MultiTouch.text);\r\n\r\n\t\t//\u8BBE\u7F6E\u64CD\u4F5C\u63D0\u793A\u6846\r\n\t\tthis.infoText = new Laya.Label();\r\n\t\tthis.infoText.x = this.pageWidth / 2;\r\n\t\tthis.infoText.y = 20;\r\n\t\tthis.infoText.width = this.pageWidth;\r\n\t\tthis.infoText.anchorX = 0.5;\r\n\t\tthis.infoText.align = \"center\";\r\n\t\tthis.infoText.text = \"\u5355\u6307\u65CB\u8F6C\uFF0C\u53CC\u6307\u7F29\u653E(\u8BF7\u4F7F\u7528\u624B\u673A\u8BBE\u5907)\";\r\n\t\tthis.infoText.overflow = Laya.Text.HIDDEN;\r\n\t\tthis.infoText.color = \"#FFFFFF\";\r\n\t\tthis.infoText.font = \"Impact\";\r\n\t\tthis.infoText.fontSize = 25;\r\n\t\tthis.owner.addChild(this.infoText);\r\n\t}\r\n}\r\n\r\nclass MonkeyScript extends Laya.Script {\r\n\r\n\tprivate _scene: Scene3D;\r\n\tprivate _text: Label;\r\n\tprivate _camera: Camera;\r\n\tprivate rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\tprivate lastPosition: Vector2 = new Vector2(0, 0);\r\n\tprivate distance: number = 0.0;\r\n\tprivate disVector1: Vector2 = new Vector2(0, 0);\r\n\tprivate disVector2: Vector2 = new Vector2(0, 0);\r\n\tprivate isTwoTouch: boolean = false;\r\n\tprivate first: boolean = true;\r\n\tprivate twoFirst: boolean = true;\r\n\tprivate tmpVector: Vector3 = new Vector3(0, 0, 0);\r\n\r\n\tonAwake(): void {\r\n\t}\r\n\r\n\tonStart(): void {\r\n\t\tthis._scene = (<Scene3D>((<Sprite3D>this.owner)).parent);\r\n\t\tthis._text = MultiTouch.text;\r\n\t\tthis._camera = (<Camera>this._scene.getChildByName(\"Main Camera\"));\r\n\t}\r\n\r\n\tonUpdate(): void {\r\n\t\tvar touchCount: number = Laya.InputManager.touchCount;\r\n\t\tif (1 === touchCount) {\r\n\t\t\t//\u5224\u65AD\u662F\u5426\u4E3A\u4E24\u6307\u89E6\u63A7\uFF0C\u64A4\u53BB\u4E00\u6839\u624B\u6307\u540E\u5F15\u53D1\u7684touchCount===1\r\n\t\t\tif (this.isTwoTouch) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._text.text = \"\u89E6\u63A7\u70B9\u4E3A1\";\r\n\t\t\t//\u83B7\u53D6\u5F53\u524D\u7684\u89E6\u63A7\u70B9\uFF0C\u6570\u91CF\u4E3A1\r\n\t\t\tvar touch = Laya.InputManager.touches[0];\r\n\t\t\t//\u662F\u5426\u4E3A\u65B0\u4E00\u6B21\u89E6\u78B0\uFF0C\u5E76\u672A\u53D1\u751F\u79FB\u52A8\r\n\t\t\tif (this.first) {\r\n\t\t\t\t//\u83B7\u53D6\u89E6\u78B0\u70B9\u7684\u4F4D\u7F6E\r\n\t\t\t\tthis.lastPosition.x = touch.pos.x;\r\n\t\t\t\tthis.lastPosition.y = touch.pos.y;\r\n\t\t\t\tthis.first = false;\r\n\t\t\t} else {\r\n\t\t\t\t//\u79FB\u52A8\u89E6\u78B0\u70B9\r\n\t\t\t\tvar deltaY: number = touch.pos.y - this.lastPosition.y;\r\n\t\t\t\tvar deltaX: number = touch.pos.x - this.lastPosition.x;\r\n\t\t\t\tthis.lastPosition.x = touch.pos.x;\r\n\t\t\t\tthis.lastPosition.y = touch.pos.y;\r\n\t\t\t\t//\u6839\u636E\u79FB\u52A8\u7684\u8DDD\u79BB\u8FDB\u884C\u65CB\u8F6C\r\n\t\t\t\tthis.tmpVector.setValue(1 * deltaY / 2, 1 * deltaX / 2, 0);\r\n\t\t\t\t((<Sprite3D>this.owner)).transform.rotate(this.tmpVector, true, false);\r\n\t\t\t}\r\n\t\t} else if (2 === touchCount) {\r\n\t\t\tthis._text.text = \"\u89E6\u63A7\u70B9\u4E3A2\";\r\n\t\t\tthis.isTwoTouch = true;\r\n\t\t\t//\u83B7\u53D6\u4E24\u4E2A\u89E6\u78B0\u70B9\r\n\t\t\tvar touch = Laya.InputManager.touches[0];\r\n\t\t\tvar touch2 = Laya.InputManager.touches[1];\r\n\t\t\t//\u662F\u5426\u4E3A\u65B0\u4E00\u6B21\u89E6\u78B0\uFF0C\u5E76\u672A\u53D1\u751F\u79FB\u52A8\r\n\t\t\tif (this.twoFirst) {\r\n\t\t\t\t//\u83B7\u53D6\u89E6\u78B0\u70B9\u7684\u4F4D\u7F6E\r\n\t\t\t\tthis.disVector1.x = touch.pos.x - touch2.pos.x;\r\n\t\t\t\tthis.disVector1.y = touch.pos.y - touch2.pos.y;\r\n\t\t\t\tthis.distance = Vector2.scalarLength(this.disVector1);\r\n\t\t\t\tthis.twoFirst = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.disVector2.x = touch.pos.x - touch2.pos.x;\r\n\t\t\t\tthis.disVector2.y = touch.pos.y - touch2.pos.y;\r\n\t\t\t\tvar distance2: number = Vector2.scalarLength(this.disVector2);\r\n\t\t\t\t//\u6839\u636E\u79FB\u52A8\u7684\u8DDD\u79BB\u8FDB\u884C\u7F29\u653E\r\n\t\t\t\tthis.tmpVector.setValue(0, 0, -0.01 * (distance2 - this.distance));\r\n\t\t\t\tthis._camera.transform.translate(this.tmpVector);\r\n\t\t\t\tthis.distance = distance2;\r\n\t\t\t}\r\n\t\t} else if (0 === touchCount) {\r\n\t\t\tthis._text.text = \"\u89E6\u63A7\u70B9\u5F52\u96F6\";\r\n\t\t\tthis.first = true;\r\n\t\t\tthis.twoFirst = true;\r\n\t\t\tthis.lastPosition.x = 0;\r\n\t\t\tthis.lastPosition.y = 0;\r\n\t\t\tthis.isTwoTouch = false;\r\n\t\t}\r\n\t}\r\n\r\n\tonLateUpdate(): void {\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Animator = Laya.Animator;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport Text = Laya.Text;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Button = Laya.Button;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('nuIOBTqeSVuHHYonPX61Ug')\r\nexport class AnimatorDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate _animator: Animator;\r\n\tprivate _changeActionButton: Button;\r\n\tprivate _changeActionButton2: Button;\r\n\tprivate _PlayStopIndex: number = 0;\r\n\tprivate _curStateIndex: number = 0;\r\n\tprivate _text: Text = new Text();\r\n\tprivate _textName: Text = new Text();\r\n\tprivate _curActionName: string = null;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 3, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\r\n        Laya.loader.load(\"resources/res/threeDimen/skinModel/BoneLinkScene/PangZi.lh\").then(res=>{\r\n            this.onLoadFinish(res);\r\n        });\r\n    }\r\n\r\n    private onLoadFinish(res:any): void {\r\n\r\n        //\u521D\u59CB\u5316\u89D2\u8272\u7CBE\u7075\r\n        var role: Sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n        //\u521D\u59CB\u5316\u80D6\u5B50\r\n        var pangzi: Sprite3D = (<Sprite3D>role.addChild(res.create()));\r\n        //\u83B7\u53D6\u52A8\u753B\u7EC4\u4EF6\r\n        this._animator = (<Animator>pangzi.getChildAt(0).getComponent(Animator));\r\n        //\u521B\u5EFA\u52A8\u4F5C\u72B6\u6001\r\n        var state1: AnimatorState = new AnimatorState();\r\n        //\u52A8\u4F5C\u540D\u79F0\r\n        state1.name = \"hello\";\r\n        //\u52A8\u4F5C\u64AD\u653E\u8D77\u59CB\u65F6\u95F4\r\n        state1.clipStart = 296 / 581;\r\n        //\u52A8\u4F5C\u64AD\u653E\u7ED3\u675F\u65F6\u95F4\r\n        state1.clipEnd = 346 / 581;\r\n        //\u8BBE\u7F6E\u52A8\u4F5C\r\n        state1.clip = this._animator.getDefaultState().clip;\r\n        //\u5FAA\u73AF\u6A21\u5F0F\r\n        state1.clip.islooping = true;\r\n        //\u4E3A\u52A8\u753B\u72B6\u6001\u6DFB\u52A0\u52A8\u753B\u72B6\u6001\u811A\u672C\r\n        state1.addScript(CustomAnimatorStateScript);\r\n        //\u4E3A\u52A8\u753B\u7EC4\u4EF6\u6DFB\u52A0\u4E00\u4E2A\u52A8\u4F5C\u72B6\u6001\r\n        this._animator.getControllerLayer(0).addState(state1);\r\n\r\n        var state2: AnimatorState = new AnimatorState();\r\n        state2.name = \"ride\";\r\n        state2.clipStart = 0 / 581;\r\n        state2.clipEnd = 33 / 581;\r\n        state2.clip = this._animator.getDefaultState().clip;\r\n        state2.clip.islooping = true;\r\n        state2.addScript(CustomAnimatorStateScript);\r\n        this._animator.getControllerLayer(0).addState(state2);\r\n        this._animator.speed = 0.0;\r\n\r\n        var state3: AnimatorState = new AnimatorState();\r\n        state3.name = \"\u52A8\u4F5C\u72B6\u6001\u4E09\";\r\n        state3.clipStart = 34 / 581;\r\n        state3.clipEnd = 100 / 581;\r\n        state3.clip = this._animator.getDefaultState().clip;\r\n        state3.clip.islooping = true;\r\n        state3.addScript(CustomAnimatorStateScript);\r\n        this._animator.getControllerLayer(0).addState(state3);\r\n        this._animator.speed = 0.0;\r\n\r\n        var state4: AnimatorState = new AnimatorState();\r\n        state4.name = \"\u52A8\u4F5C\u72B6\u6001\u56DB\";\r\n        state4.clipStart = 101 / 581;\r\n        state4.clipEnd = 200 / 581;\r\n        state4.clip = this._animator.getDefaultState().clip;\r\n        state4.clip.islooping = true;\r\n        state4.addScript(CustomAnimatorStateScript);\r\n        this._animator.getControllerLayer(0).addState(state4);\r\n        this._animator.speed = 0.0;\r\n\r\n        var state5: AnimatorState = new AnimatorState();\r\n        state5.name = \"\u52A8\u4F5C\u72B6\u6001\u4E94\"; \r\n        state5.clipStart = 201 / 581;\r\n        state5.clipEnd = 295 / 581;\r\n        state5.clip = this._animator.getDefaultState().clip;\r\n        state5.clip.islooping = true;\r\n        state5.addScript(CustomAnimatorStateScript);\r\n        this._animator.getControllerLayer(0).addState(state5);\r\n        this._animator.speed = 0.0;\r\n\r\n        var state6: AnimatorState = new AnimatorState();\r\n        state6.name = \"\u52A8\u4F5C\u72B6\u6001\u516D\";\r\n        state6.clipStart = 345 / 581;\r\n        state6.clipEnd = 581 / 581;\r\n        state6.clip = this._animator.getDefaultState().clip;\r\n        state6.clip.islooping = true;\r\n        state6.addScript(CustomAnimatorStateScript);\r\n        this._animator.getControllerLayer(0).addState(state6);\r\n        this._animator.speed = 0.0;\r\n\r\n        this.loadUI();\r\n\t\tthis._textName.width = 300;\r\n\t\tthis._textName.align = \"center\";\r\n\t\tthis._textName.x = ( this.pageWidth - this._textName.width) / 2;\r\n        this._textName.y = 10;\r\n        this._textName.overflow = Text.HIDDEN;\r\n        this._textName.color = \"#FFFFFF\";\r\n        this._textName.fontSize = 16;\r\n        this._textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\";\r\n        this.owner.addChild(this._textName);\r\n\r\n\t\tthis._text.width = 300;\r\n\t\tthis._text.align = \"center\";\r\n\t\tthis._text.x = ( this.pageWidth - this._text.width) / 2;\r\n        this._text.y = 50;\r\n        this._text.overflow = Text.HIDDEN;\r\n        this._text.color = \"#FFFFFF\";\r\n        this._text.fontSize = 16;\r\n        this._text.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u8FDB\u5EA6\uFF1A\";\r\n        this.owner.addChild(this._text);\r\n\r\n        Laya.timer.frameLoop(1, this, this.onFrame);\r\n\r\n        this._curActionName = \"hello\";\r\n        this._animator.play(this._curActionName);\r\n    }\r\n\r\n    private loadUI(): void {\r\n\r\n        this._changeActionButton = (<Button>this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u64AD\u653E\u52A8\u753B\")));\r\n        this._changeActionButton.size(150, 40);\r\n        this._changeActionButton.labelSize = 16;\r\n        this._changeActionButton.sizeGrid = \"21,83,22,76\";\r\n        this._changeActionButton.stateNum = 1;\r\n        this._changeActionButton.labelColors = \"#ffffff\";\r\n        this._changeActionButton.pos(this.pageWidth / 2 - this._changeActionButton.width - 10, this.pageHeight - 50);\r\n        this._changeActionButton.on(Event.CLICK, this, this.stypeFun0);\r\n\r\n        this._changeActionButton2 = (<Button>this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u5207\u6362\u52A8\u4F5C\u72B6\u6001\")));\r\n        this._changeActionButton2.size(150, 40);\r\n        this._changeActionButton2.labelSize = 16;\r\n        this._changeActionButton2.sizeGrid = \"21,83,22,76\";\r\n        this._changeActionButton2.stateNum = 1;\r\n        this._changeActionButton2.labelColors = \"#ffffff\";\r\n        this._changeActionButton2.pos(this.pageWidth / 2 + 10, this.pageHeight - 50);\r\n        this._changeActionButton2.on(Event.CLICK, this, this.stypeFun1);\r\n\r\n    }\r\n\r\n    stypeFun0(label:string = \"\u64AD\u653E\u52A8\u753B\")\r\n    {\r\n        this._PlayStopIndex++;\r\n        if (this._PlayStopIndex % 3 == 0) {\r\n            this._changeActionButton.label = \"\u64AD\u653E\u52A8\u753B\";\r\n            //\u6682\u505C\u52A8\u753B\r\n            this._animator.speed = 0.0;\r\n        } else if (this._PlayStopIndex % 3 == 1) {\r\n            this._changeActionButton.label = \"\u52A8\u753B\u878D\u5408\";\r\n            this._animator.play(this._curActionName);\r\n            //\u64AD\u653E\u52A8\u753B\r\n            this._animator.speed = 1.0;\r\n        } else if (this._PlayStopIndex % 3 == 2) {\r\n            this._changeActionButton.label = \"\u6682\u505C\u52A8\u753B\";\r\n            this._animator.crossFade(this._curActionName , 0.5);\r\n            //\u64AD\u653E\u52A8\u753B\r\n            this._animator.speed = 1.0;\r\n        }\r\n        label = this._changeActionButton.label;\r\n    }\r\n\r\n    stypeFun1(curStateIndex:any =0)\r\n    {\r\n        this._curStateIndex++;\r\n        if (this._curStateIndex % 6 == 0) {\r\n            this._changeActionButton.label = \"\u6682\u505C\u52A8\u753B\";\r\n            this._animator.speed = 0.0;\r\n            this._animator.play(\"hello\");\r\n            this._curActionName = \"hello\";\r\n            this._textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"hello\";\r\n            this._animator.speed = 1.0;\r\n        } else if (this._curStateIndex % 6 == 1) {\r\n            this._changeActionButton.label = \"\u6682\u505C\u52A8\u753B\";\r\n            this._animator.speed = 0.0;\r\n            this._animator.play(\"ride\");\r\n            this._curActionName = \"ride\";\r\n            this._textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"ride\";\r\n            this._animator.speed = 1.0;\r\n        } else if (this._curStateIndex % 6 == 2) {\r\n            this._changeActionButton.label = \"\u6682\u505C\u52A8\u753B\";\r\n            this._animator.speed = 0.0;\r\n            this._animator.play(\"\u52A8\u4F5C\u72B6\u6001\u4E09\");\r\n            this._curActionName = \"\u52A8\u4F5C\u72B6\u6001\u4E09\";\r\n            this._textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"\u52A8\u4F5C\u72B6\u6001\u4E09\";\r\n            this._animator.speed = 1.0;\r\n        } else if (this._curStateIndex % 6 == 3) {\r\n            this._changeActionButton.label = \"\u6682\u505C\u52A8\u753B\";\r\n            this._animator.speed = 0.0;\r\n            this._animator.play(\"\u52A8\u4F5C\u72B6\u6001\u56DB\");\r\n            this._curActionName = \"\u52A8\u4F5C\u72B6\u6001\u56DB\";\r\n            this._textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"\u52A8\u4F5C\u72B6\u6001\u56DB\";\r\n            this._animator.speed = 1.0;\r\n        } else if (this._curStateIndex % 6 == 4) {\r\n            this._changeActionButton.label = \"\u6682\u505C\u52A8\u753B\";\r\n            this._animator.speed = 0.0;\r\n            this._animator.play(\"\u52A8\u4F5C\u72B6\u6001\u4E94\");\r\n            this._curActionName = \"\u52A8\u4F5C\u72B6\u6001\u4E94\";\r\n            this._textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"\u52A8\u4F5C\u72B6\u6001\u4E94\";\r\n            this._animator.speed = 1.0;\r\n        } else if (this._curStateIndex % 6 == 5) {\r\n            this._changeActionButton.label = \"\u6682\u505C\u52A8\u753B\";\r\n            this._animator.speed = 0.0;\r\n            this._animator.play(\"\u52A8\u4F5C\u72B6\u6001\u516D\");\r\n            this._curActionName = \"\u52A8\u4F5C\u72B6\u6001\u516D\";\r\n            this._textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"\u52A8\u4F5C\u72B6\u6001\u516D\";\r\n            this._animator.speed = 1.0;\r\n        }\r\n        curStateIndex = this._curStateIndex;\r\n    }\r\n\r\n    private onFrame(): void {\r\n        if (this._animator.speed > 0.0) {\r\n            //\u83B7\u53D6\u64AD\u653E\u72B6\u6001\u7684\u5F52\u4E00\u5316\u65F6\u95F4\r\n            var curNormalizedTime: string = this._animator.getControllerLayer(0).getCurrentPlayState().normalizedTime.toFixed(2);\r\n            this._text.text = \"\u5F53\u524D\u52A8\u753B\u72B6\u6001\u8FDB\u5EA6\uFF1A\" + curNormalizedTime;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport class CustomAnimatorStateScript extends Laya.AnimatorStateScript {\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t/**\r\n\t* \u52A8\u753B\u72B6\u6001\u5F00\u59CB\u65F6\u6267\u884C\u3002\r\n\t*/\r\n\tonStateEnter(): void {\r\n\t\tconsole.log(\"\u52A8\u753B\u5F00\u59CB\u64AD\u653E\u4E86\");\r\n\t}\r\n\t/**\r\n\t * \u52A8\u753B\u72B6\u6001\u8FD0\u884C\u4E2D\r\n\t * @param normalizeTime 0-1\u52A8\u753B\u64AD\u653E\u72B6\u6001\r\n\t */\r\n\tonStateUpdate(normalizeTime: number): void {\r\n\t\tconsole.log(\"\u52A8\u753B\u72B6\u6001\u66F4\u65B0\u4E86\");\r\n\t}\r\n\r\n\t/**\r\n\t* \u52A8\u753B\u72B6\u6001\u9000\u51FA\u65F6\u6267\u884C\u3002\r\n\t*/\r\n\tonStateExit(): void {\r\n\t\tconsole.log(\"\u52A8\u753B\u9000\u51FA\u4E86\");\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Animator = Laya.Animator;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport Text = Laya.Text;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport AnimatorStateScript = Laya.AnimatorStateScript;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('D1wUKonZQrSAK55LM_Wgdw')\r\nexport class AnimatorStateScriptDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate animator: Animator;\r\n\tprivate curStateIndex: number = 0;\r\n\tprivate text: Text = new Text();\r\n\tprivate textName: Text = new Text();\r\n\tprivate curActionName: string = null;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 3, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\r\n        Laya.loader.load(\"resources/res/threeDimen/skinModel/BoneLinkScene/PangZi.lh\").then(res=>{\r\n            this.onLoadFinish(res);\r\n        });\r\n\t}\r\n\r\n\tprivate onLoadFinish(res:any): void {\r\n\r\n\t\t//\u521D\u59CB\u5316\u89D2\u8272\u7CBE\u7075\r\n\t\tvar role: Sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\t\t//\u521D\u59CB\u5316\u80D6\u5B50\r\n\t\tvar pangzi: Sprite3D = (<Sprite3D>role.addChild(res.create()));\r\n\t\t//\u83B7\u53D6\u52A8\u753B\u7EC4\u4EF6\r\n\t\tthis.animator = (<Animator>pangzi.getChildAt(0).getComponent(Animator));\r\n\t\t//\u521B\u5EFA\u52A8\u4F5C\u72B6\u6001\r\n\t\tvar state1: AnimatorState = new AnimatorState();\r\n\t\t//\u52A8\u4F5C\u540D\u79F0\r\n\t\tstate1.name = \"hello\";\r\n\t\t//\u52A8\u4F5C\u64AD\u653E\u8D77\u59CB\u65F6\u95F4\r\n\t\tstate1.clipStart = 296 / 581;\r\n\t\t//\u52A8\u4F5C\u64AD\u653E\u7ED3\u675F\u65F6\u95F4\r\n\t\tstate1.clipEnd = 346 / 581;\r\n\t\t//\u8BBE\u7F6E\u52A8\u4F5C\r\n\t\tstate1.clip = this.animator.getDefaultState().clip;\r\n\t\t//\u5FAA\u73AF\u6A21\u5F0F\r\n\t\tstate1.clip.islooping = true;\r\n\t\t//\u4E3A\u52A8\u753B\u72B6\u6001\u6DFB\u52A0\u52A8\u753B\u72B6\u6001\u811A\u672C\r\n\t\tvar asst1 = state1.addScript(AnimatorStateScriptTest) as AnimatorStateScriptTest;\r\n\t\tasst1.text = this.text;\r\n\t\tthis.animator.speed = 0.0;\r\n\t\t//\u4E3A\u52A8\u753B\u7EC4\u4EF6\u6DFB\u52A0\u4E00\u4E2A\u52A8\u4F5C\u72B6\u6001\r\n\t\tthis.animator.getControllerLayer(0).addState(state1);\r\n\r\n\t\tvar state2: AnimatorState = new AnimatorState();\r\n\t\tstate2.name = \"ride\";\r\n\t\tstate2.clipStart = 0 / 581;\r\n\t\tstate2.clipEnd = 33 / 581;\r\n\t\tstate2.clip = this.animator.getDefaultState().clip;\r\n\t\tstate2.clip.islooping = true;\r\n\t\tvar asst2 = state2.addScript(AnimatorStateScriptTest) as AnimatorStateScriptTest;\r\n\t\tasst2.text = this.text;\r\n\t\tthis.animator.getControllerLayer(0).addState(state2);\r\n\r\n\r\n\t\tvar state3: AnimatorState = new AnimatorState();\r\n\t\tstate3.name = \"\u52A8\u4F5C\u72B6\u6001\u4E09\";\r\n\t\tstate3.clipStart = 34 / 581;\r\n\t\tstate3.clipEnd = 100 / 581;\r\n\t\tstate3.clip = this.animator.getDefaultState().clip;\r\n\t\tstate3.clip.islooping = true;\r\n\t\tthis.animator.speed = 0.0;\r\n\t\tvar asst3 = state3.addScript(AnimatorStateScriptTest) as AnimatorStateScriptTest;\r\n\t\tasst3.text = this.text;\r\n\t\tthis.animator.getControllerLayer(0).addState(state3);\r\n\r\n\t\tthis.textName.width = 300;\r\n\t\tthis.textName.align = \"center\";\r\n\t\tthis.textName.x = ( this.pageWidth - this.textName.width) / 2;\r\n\t\tthis.textName.y = 10;\r\n\t\tthis.textName.overflow = Text.HIDDEN;\r\n\t\tthis.textName.color = \"#FFFFFF\";\r\n\t\tthis.textName.fontSize = 16;\r\n\t\tthis.textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\";\r\n\t\tthis.box2D.addChild(this.textName);\r\n\r\n\t\tthis.text.width = 300;\r\n\t\tthis.text.align = \"center\";\r\n\t\tthis.text.x = ( this.pageWidth - this.text.width) / 2;\r\n        this.text.y = 50;\r\n\t\tthis.text.overflow = Text.HIDDEN;\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.fontSize = 16;\r\n\t\tthis.text.text = \"\u52A8\u753B\u72B6\u6001\uFF1A\";\r\n\t\tthis.box2D.addChild(this.text);\r\n\r\n\t\tsuper.addBottomButton( [\"\u5207\u6362\u52A8\u4F5C\u72B6\u6001\",\"\u5207\u6362\u52A8\u4F5C\u72B6\u6001\",\"\u5207\u6362\u52A8\u4F5C\u72B6\u6001\"] , this, [this.change, this.change, this.change] );\r\n\t}\r\n\r\n\tchange() {\r\n\r\n\t\tthis.curStateIndex++;\r\n\t\tif (this.curStateIndex % 3 == 0) {\r\n\t\t\tthis.animator.speed = 0.0;\r\n\t\t\tthis.animator.play(\"hello\");\r\n\t\t\tthis.textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"hello\";\r\n\t\t\tthis.animator.speed = 1.0;\r\n\t\t} else if (this.curStateIndex % 3 == 1) {\r\n\t\t\tthis.animator.speed = 0.0;\r\n\t\t\tthis.animator.play(\"ride\");\r\n\t\t\tthis.textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"ride\";\r\n\t\t\tthis.animator.speed = 1.0;\r\n\t\t} else if (this.curStateIndex % 3 == 2) {\r\n\t\t\tthis.animator.speed = 0.0;\r\n\t\t\tthis.animator.play(\"\u52A8\u4F5C\u72B6\u6001\u4E09\");\r\n\t\t\tthis.textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"\u52A8\u4F5C\u72B6\u6001\u4E09\";\r\n\t\t\tthis.animator.speed = 1.0;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass AnimatorStateScriptTest extends AnimatorStateScript {\r\n\t\r\n\tprivate _text: Text = null;\r\n\r\n\tget text(): Text {\r\n\t\treturn this._text;\r\n\t}\r\n\tset text(value: Text) {\r\n\t\tthis._text = value;\r\n\t}\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t/**\r\n\t * \u52A8\u753B\u72B6\u6001\u5F00\u59CB\u65F6\u6267\u884C\u3002\r\n\t */\r\n\tonStateEnter(): void {\r\n\t\tconsole.log(\"\u52A8\u753B\u5F00\u59CB\u64AD\u653E\u4E86\");\r\n\t\tthis._text.text = \"\u52A8\u753B\u72B6\u6001\uFF1A\u52A8\u753B\u5F00\u59CB\u64AD\u653E\";\r\n\t}\r\n\r\n\t/**\r\n\t * \u52A8\u753B\u72B6\u6001\u8FD0\u884C\u4E2D\r\n\t * @param normalizeTime 0-1\u52A8\u753B\u64AD\u653E\u72B6\u6001\r\n\t */\r\n\t onStateUpdate(normalizeTime: number): void {\r\n\t\tconsole.log(\"\u52A8\u753B\u72B6\u6001\u66F4\u65B0\u4E86\");\r\n\t\tthis._text.text = \"\u52A8\u753B\u72B6\u6001\uFF1A\u52A8\u753B\u66F4\u65B0\u4E2D\";\r\n\t}\r\n\r\n\t/**\r\n\t* \u52A8\u753B\u72B6\u6001\u9000\u51FA\u65F6\u6267\u884C\u3002\r\n\t*/\r\n\tonStateExit(): void {\r\n\t\tconsole.log(\"\u52A8\u753B\u9000\u51FA\u4E86\");\r\n\t\tthis._text.text = \"\u52A8\u753B\u72B6\u6001\uFF1A\u52A8\u753B\u5F00\u59CB\u9000\u51FA\";\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Animator = Laya.Animator;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport AnimationClip = Laya.AnimationClip;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('UMTxFgK1QXmDYMjFi1ApUg')\r\nexport class CameraAnimation extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n\r\n    private _animator: Animator;\r\n    private _animatorState: AnimatorState;\r\n    private _animatorClip: AnimationClip;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        //\u83B7\u53D6\u52A8\u753B\u7EC4\u4EF6\r\n        this._animator = (<Animator>this.camera.getComponent(Animator));\r\n        //\u83B7\u53D6\u52A8\u753B\u72B6\u6001\r\n        this._animatorState = this._animator.getControllerLayer(0).getAnimatorState(\"a1\");       \r\n        //\u83B7\u53D6\u52A8\u753BClip\r\n        this._animatorClip = this._animatorState.clip;\r\n\r\n        //\u52A8\u753B\u7684\u7F16\u8F91\u8FC7\u7A0B\u5728IDE\u7684\u65F6\u95F4\u8F74\u52A8\u753B\u4E2D\u5B8C\u6210\uFF0C\u5E76\u6DFB\u52A0\u5230\u52A8\u753B\u72B6\u6001\u673A\u4E2D\uFF0C\u4EE3\u7801\u53EF\u4EE5\u5207\u6362\u52A8\u753B\r\n        console.log(this._animatorClip);        \r\n\r\n        super.addBottomButton( [\"\u5207\u6362\u52A8\u753B\",\"\u5207\u6362\u52A8\u753B\"] , this, [this.changeAnimation2, this.changeAnimation1] );\r\n\r\n        //\u52A0\u8F7D.lani\u6587\u4EF6 \r\n        Laya.loader.load(\"resources/res/threeDimen/scene/cameraDonghua/Conventional/Assets/a2.lani\").then(res=>{\r\n            let clip = res;\r\n            //\u521B\u5EFA\u52A8\u4F5C\u72B6\u6001\r\n            var state1: AnimatorState = new AnimatorState();\r\n            //\u52A8\u4F5C\u540D\u79F0\r\n            state1.name = \"a2\";\r\n            //\u8BBE\u7F6E\u52A8\u4F5C\r\n            state1.clip = clip;\r\n            //\u5FAA\u73AF\u6A21\u5F0F\r\n            state1.clip.islooping = true;\r\n            //\u4E3A\u52A8\u753B\u7EC4\u4EF6\u6DFB\u52A0\u65B0\u7684\u52A8\u4F5C\u72B6\u6001\r\n            this._animator.getControllerLayer(0).addState(state1);\r\n            \r\n        });            \r\n    }\r\n\r\n\tchangeAnimation2 (): void {\r\n\t\tthis._animator.play(\"a2\");\r\n\t}       \r\n    \r\n\tchangeAnimation1 (): void {\r\n\t\tthis._animator.play(\"a1\");\r\n\t}     \r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Camera = Laya.Camera;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Animator = Laya.Animator;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport AnimationClip = Laya.AnimationClip;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('8hcBBcLGQ3-GVBjRftqBoQ')\r\nexport class MaterialAnimation extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private _animator: Animator;\r\n    private _animatorState: AnimatorState;\r\n    private _animatorClip: AnimationClip;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        //\u83B7\u5F97Sprite3D\r\n        var cube: Sprite3D = <Sprite3D>this.scene.getChildByName(\"Cube\");\r\n        //\u83B7\u53D6\u52A8\u753B\u7EC4\u4EF6\r\n        this._animator = (<Animator>cube.getComponent(Animator));\r\n        //\u83B7\u53D6\u52A8\u753B\u72B6\u6001\r\n        this._animatorState = this._animator.getControllerLayer(0).getAnimatorState(\"Color\");       \r\n        //\u83B7\u53D6\u52A8\u753BClip\r\n        this._animatorClip = this._animatorState.clip;\r\n\r\n        //\u52A8\u753B\u7684\u7F16\u8F91\u8FC7\u7A0B\u5728IDE\u7684\u65F6\u95F4\u8F74\u52A8\u753B\u4E2D\u5B8C\u6210\uFF0C\u5E76\u6DFB\u52A0\u5230\u52A8\u753B\u72B6\u6001\u673A\u4E2D\uFF0C\u4EE3\u7801\u53EF\u4EE5\u5207\u6362\u52A8\u753B\r\n        console.log(this._animatorClip);\r\n\r\n        //super.addBottomButton( [\"\u5207\u6362\u52A8\u753B\",\"\u5207\u6362\u52A8\u753B\"] , this, [this.changeAnimation, this.changeAnimation] );\r\n\r\n        //\u52A0\u8F7D.lani\u6587\u4EF6 resources\\res\\threeDimen\\materialScene\\Conventional\\Assets\\LayaAir3D\r\n        // Laya.loader.load(\"resources/res/threeDimen/materialScene/Conventional/Assets/LayaAir3D/Specular Animation.lani\").then(res=>{\r\n        //     let SpecularClip = res;\r\n        //     //\u521B\u5EFA\u52A8\u4F5C\u72B6\u6001\r\n        //     var state1: AnimatorState = new AnimatorState();\r\n        //     //\u52A8\u4F5C\u540D\u79F0\r\n        //     state1.name = \"SpecularColor\";\r\n        //     //\u8BBE\u7F6E\u52A8\u4F5C\r\n        //     state1.clip = SpecularClip;\r\n        //     //\u5FAA\u73AF\u6A21\u5F0F\r\n        //     state1.clip.islooping = true;\r\n        //     //\u4E3A\u52A8\u753B\u7EC4\u4EF6\u6DFB\u52A0\u4E00\u4E2A\u52A8\u4F5C\u72B6\u6001\r\n        //     this._animator.getControllerLayer(0).addState(state1);\r\n\r\n            \r\n        // });        \r\n\r\n    }\r\n\r\n\t// changeAnimation (): void {\r\n\t// \tthis._animator.play(\"SpecularColor\");\r\n\t// }    \r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Handler = Laya.Handler;\r\n\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Animator = Laya.Animator;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport AnimationClip = Laya.AnimationClip;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('KJyG1HWNR4KNdxu072BoKQ')\r\nexport class RigidbodyAnimationDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private _animator: Animator;\r\n    private _animatorState: AnimatorState;\r\n    private _animatorClip: AnimationClip;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        //\u83B7\u5F97Sprite3D\r\n        var cube: Sprite3D = <Sprite3D>this.scene.getChildByName(\"Cube\");\r\n        //\u83B7\u53D6\u52A8\u753B\u7EC4\u4EF6\r\n        this._animator = (<Animator>cube.getComponent(Animator));\r\n        //\u83B7\u53D6\u52A8\u753B\u72B6\u6001\r\n        this._animatorState = this._animator.getControllerLayer(0).getAnimatorState(\"a1\");       \r\n        //\u83B7\u53D6\u52A8\u753BClip\r\n        this._animatorClip = this._animatorState.clip;\r\n\r\n        //\u52A8\u753B\u7684\u7F16\u8F91\u8FC7\u7A0B\u5728IDE\u7684\u65F6\u95F4\u8F74\u52A8\u753B\u4E2D\u5B8C\u6210\uFF0C\u5E76\u6DFB\u52A0\u5230\u52A8\u753B\u72B6\u6001\u673A\u4E2D\uFF0C\u4EE3\u7801\u53EF\u4EE5\u5207\u6362\u52A8\u753B\r\n        console.log(this._animatorClip);        \r\n\r\n\r\n        super.addBottomButton( [\"\u5207\u6362\u52A8\u753B\",\"\u5207\u6362\u52A8\u753B\"] , this, [this.changeAnimation2, this.changeAnimation1] );\r\n\r\n        //\u52A0\u8F7D.lani\u6587\u4EF6 \r\n        Laya.loader.load(\"resources/res/threeDimen/scene/LayaScene_RigidbodyAnimation/Conventional/Assets/LayaAir3D/a2.lani\").then(res=>{\r\n            let clip = res;\r\n            //\u521B\u5EFA\u52A8\u4F5C\u72B6\u6001\r\n            var state1: AnimatorState = new AnimatorState();\r\n            //\u52A8\u4F5C\u540D\u79F0\r\n            state1.name = \"a2\";\r\n            //\u8BBE\u7F6E\u52A8\u4F5C\r\n            state1.clip = clip;\r\n            //\u5FAA\u73AF\u6A21\u5F0F\r\n            state1.clip.islooping = true;\r\n            //\u4E3A\u52A8\u753B\u7EC4\u4EF6\u6DFB\u52A0\u65B0\u7684\u52A8\u4F5C\u72B6\u6001\r\n            this._animator.getControllerLayer(0).addState(state1);\r\n            \r\n        });           \r\n    }\r\n\r\n\tchangeAnimation2 (): void {\r\n\t\tthis._animator.play(\"a2\");\r\n\t}       \r\n    \r\n\tchangeAnimation1 (): void {\r\n\t\tthis._animator.play(\"a1\");\r\n\t}         \r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Animator = Laya.Animator;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('BAD-7dYzRqqpZMLVWKU-hA')\r\nexport class SimpleSkinAnimationInstance extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\r\n\tprivate animatorName: string[][] = [\r\n\t\t[\"PickUp\", \"PotionDrink\", \"BattleWalkRight\", \"VictoryStart\", \"DefendStart\", \"Die\", \"Interact\", \"VictoryMaintain\"],\r\n\t\t[\"DefendHit_SwordAndShield\", \"SwordAndShiled2\", \"Defend_SwordAndShield\", \"SwordAndShiled\", \"Attack04_Start_SwordAndShield\", \"Attack04_SwordAndShiled\"],\r\n\t];\r\n\t\r\n\tprivate oriSprite3D:Sprite3D;\r\n\tprivate widthNums:number = 20;\r\n\tprivate step:number = 2.5;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(-16.4, 2.96, 24.3);\r\n\t\tthis.camera.transform.localRotationEuler = new Vector3(-7.5, -30, 0.0);\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).intensity = 0.5;\r\n\r\n\t\t//\u901A\u8FC73.0\u7684\u52A8\u753B\u70D8\u57F9\uFF0C\u5C06\u6240\u6709\u52A8\u4F5C\u63D0\u524D\u8BA1\u7B97\u4E00\u6B21\uFF1B\u5C06\u6240\u6709\u7684\u9AA8\u9ABC\u8282\u70B9\u9884\u8BA1\u7B97\uFF0C\u5B58\u5165\u5185\u5B58\u4E2D\uFF1Bgpu\u76F4\u63A5\u901A\u8FC7\u5185\u5B58\u8BFB\u53D6\u5BF9\u5E94\u8282\u70B9\u7684\u77E9\u9635\u503C\uFF1B\u8FDB\u884C\u6E32\u67D3\r\n\t\tvar res = [\r\n\t\t\t\"resources/res/threeDimen/texAnimation/Attack01/Attack01.lh\",\r\n\t\t\t\"resources/res/threeDimen/texAnimation/role/role.lh\",\r\n\t\t];\r\n\t\tLaya.loader.load(res).then(() => {\r\n\t\t\tthis.oriSprite3D = Loader.createNodes(res[0]);\r\n\t\t\tthis.sceneBuild(0);\r\n\t\t\t// add other model\r\n\t\t\tthis.oriSprite3D = Loader.createNodes(res[1]);\r\n\t\t\tthis.sceneBuild(1);\r\n\t\t});\r\n\t}\r\n\r\n\tcloneSprite(pos: Vector3, quaterial: Vector3, aniNameIndex: number) {\r\n\t\t//\u514B\u9686\u4E00\u4E2ASprite3D\r\n\t\tvar clonesprite: Sprite3D = this.oriSprite3D.clone() as Sprite3D;\r\n\t\tthis.scene.addChild(clonesprite);\r\n\t\tvar animate: Animator = clonesprite.getComponent(Animator);\r\n\t\tvar nums: number = Math.round(Math.random() * 5);\r\n\t\tanimate.play(this.animatorName[aniNameIndex][nums], 0, Math.random());\r\n\t\tclonesprite.transform.position = pos;\r\n\t\tclonesprite.transform.rotationEuler = quaterial;\r\n\t}\r\n\r\n\tsceneBuild(aniNameIndex: number) {\r\n\t\tvar left: number = -0.5 * this.step * (this.widthNums);\r\n\t\tvar right: number = -1 * left;\r\n\t\tfor (var i: number = left; i < right; i += this.step)\r\n\t\t\tfor (var j: number = left; j < right; j += this.step) {\r\n\t\t\t\tvar xchange: number = (Math.random() - 0.5) * 5;\r\n\t\t\t\tvar zchange: number = (Math.random() - 0.5) * 5;\r\n\t\t\t\tvar quaterial: Vector3 = new Vector3(0, Math.random() * 180, 0);\r\n\t\t\t\tthis.cloneSprite(new Vector3(i + xchange, 0, j + zchange), quaterial, aniNameIndex);\r\n\t\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Text = Laya.Text;\r\nimport BitmapFont = Laya.BitmapFont;\r\nimport Handler = Laya.Handler;\r\nimport Event = Laya.Event;\r\nimport Browser = Laya.Browser;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('LO4NU51pSQCSRRh6VLToAQ')\r\nexport class SkeletonMask extends BaseScript {\r\n\r\n\t@property(Laya.Camera)\r\n\tprivate camera: Camera;\r\n\t@property(Laya.Scene3D)\r\n\tprivate scene: Scene3D;\r\n\r\n\tprivate fontName: string = \"fontClip\";\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tonAwake(): void {\r\n\r\n\t\tsuper.base(this.camera);\r\n\r\n\t\tthis.loadFont();\r\n\r\n\t\t//\u52A0\u8F7D\u573A\u666F\r\n\t\tScene3D.load(\"resources/res/threeDimen/LayaScene_MaskModelTest/Conventional/MaskModelTest.ls\", Handler.create(this, (scene: Scene3D) => {\r\n\t\t\t(<Scene3D>this.scene.addChild(scene));\r\n\t\t}));\r\n\t}\r\n\r\n\r\n\tprivate loadFont(): void {\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/LayaScene_MaskModelTest/font/fontClip.fnt\", Laya.Loader.FONT).then((res: BitmapFont) => {\r\n\t\t\tthis.onFontLoaded(res);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onFontLoaded(bitmapFont: BitmapFont): void {\r\n\t\tText.registerBitmapFont(this.fontName, bitmapFont);\r\n\t\tthis.createText(this.fontName);\r\n\t\tthis.createText1(this.fontName);\r\n\t\tthis.createText2(this.fontName);\r\n\t}\r\n\r\n\tprivate createText(font: string): void {\r\n\t\tvar txt: Text = new Text();\r\n\t\ttxt.width = 250;\r\n\t\ttxt.wordWrap = true;\r\n\t\ttxt.text = \"\u5E26\u6709\u9AA8\u9ABC\u906E\u7F69\u7684\u52A8\u753B\";\r\n\t\ttxt.color = \"#FFFFFFFF\";\r\n\t\ttxt.size(200, 300);\r\n\t\ttxt.leading = 5;\r\n\t\ttxt.fontSize = 15;\r\n\t\ttxt.zOrder = 999999999;\r\n\t\t// txt.scale(Browser.pixelRatio, Browser.pixelRatio);\r\n\t\ttxt.pos(this.box2D.width / 2 - 50, this.box2D.height / 2);\r\n\t\tthis.box2D.on(Event.RESIZE, txt, () => {\r\n\t\t\ttxt.pos(this.box2D.width / 2 - 50, this.box2D.height / 2);\r\n\t\t});\r\n\t\tthis.box2D.addChild(txt);\r\n\t}\r\n\r\n\tcreateText1(font: string) {\r\n\t\tvar txt = new Text();\r\n\t\ttxt.width = 250;\r\n\t\ttxt.wordWrap = true;\r\n\t\ttxt.text = \"\u6B63\u5E38\u52A8\u753B\u4E00\";\r\n\t\ttxt.color = \"#FFFFFFFF\";\r\n\t\ttxt.size(200, 300);\r\n\t\ttxt.leading = 5;\r\n\t\ttxt.fontSize = 15;\r\n\t\ttxt.zOrder = 999999999;\r\n\t\ttxt.pos(this.box2D.width / 2 - 240, this.box2D.height / 2);\r\n\t\tthis.box2D.on(Event.RESIZE, txt, () => {\r\n\t\t\ttxt.pos(this.box2D.width / 2 - 240, this.box2D.height / 2);\r\n\t\t});\r\n\t\tthis.box2D.addChild(txt);\r\n\t}\r\n\r\n\tcreateText2(font: string) {\r\n\t\tvar txt = new Text();\r\n\t\ttxt.width = 250;\r\n\t\ttxt.wordWrap = true;\r\n\t\ttxt.text = \"\u6B63\u5E38\u52A8\u753B\u4E8C\";\r\n\t\ttxt.color = \"#FFFFFFFF\";\r\n\t\ttxt.size(200, 300);\r\n\t\ttxt.leading = 5;\r\n\t\ttxt.zOrder = 999999999;\r\n\t\ttxt.fontSize = 15;\r\n\t\ttxt.pos(this.box2D.width / 2 + 140, this.box2D.height / 2);\r\n\t\tthis.box2D.on(Event.RESIZE, txt, () => {\r\n\t\t\ttxt.pos(this.box2D.width / 2 + 140, this.box2D.height / 2);\r\n\t\t});\r\n\t\tthis.box2D.addChild(txt);\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Quaternion = Laya.Quaternion;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('xip9AaABR-iwnpc1z5FQ2w')\r\nexport class DirectionLightDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate _quaternion: Quaternion = new Quaternion();\r\n\tprivate _direction: Vector3 = new Vector3();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0.7, 1.3));\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\t//\u65B9\u5411\u5149\u7684\u989C\u8272\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\t//\u52A0\u8F7D\u5730\u9762\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/staticModel/grid/plane.lh\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"];\r\n\t\tLaya.loader.load(resource).then((res:any[])=>{\r\n\r\n\t\t\tthis.scene.addChild(res[0].create());\r\n\t\t\tthis.scene.addChild(res[1].create());\r\n\r\n\t\t\t//\u8BBE\u7F6E\u65F6\u949F\u5B9A\u65F6\u6267\u884C\r\n\t\t\tLaya.timer.frameLoop(1, this, this.roll);\r\n\t\t});\r\n\r\n\t}\r\n\r\n\troll(): void{\r\n\t\t//\u4ECE\u6B27\u62C9\u89D2\u751F\u6210\u56DB\u5143\u6570\uFF08\u987A\u5E8F\u4E3AYaw\u3001Pitch\u3001Roll\uFF09\r\n\t\tQuaternion.createFromYawPitchRoll(0.025, 0, 0, this._quaternion);\r\n\t\t//\u6839\u636E\u56DB\u5143\u6570\u65CB\u8F6C\u4E09\u7EF4\u5411\u91CF\r\n\t\tthis.directionLight.transform.worldMatrix.getForward(this._direction);\r\n\t\tVector3.transformQuat(this._direction, this._quaternion, this._direction);\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(this._direction);\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\t}\r\n\r\n    onDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.roll);\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport SpotLight = Laya.SpotLight;\r\nimport PointLight = Laya.PointLight;\r\nimport Transform3D = Laya.Transform3D;\r\nimport LightSprite = Laya.LightSprite;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('41CVaVFcT823sM34ncAa9Q')\r\nexport class MultiLight extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tvar moveScript: LightMoveScript = this.camera.addComponent(LightMoveScript);\r\n\t\tvar moverLights: LightSprite[] = moveScript.lights;\r\n\t\tvar offsets: Vector3[] = moveScript.offsets;\r\n\t\tvar moveRanges: Vector3[] = moveScript.moveRanges;\r\n\t\tmoverLights.length = 15;\r\n\t\tfor (var i: number = 0; i < 15; i++) {\r\n\t\t\tvar pointLight: PointLight = (<PointLight>this.scene.addChild(new PointLight()));\r\n\t\t\tpointLight.range = 2.0 + Math.random() * 8.0;\r\n\t\t\tpointLight.color.setValue(Math.random(), Math.random(), Math.random(), 1);\r\n\t\t\tpointLight.intensity = 6.0 + Math.random() * 8;\r\n\t\t\tmoverLights[i] = pointLight;\r\n\t\t\toffsets[i] = new Vector3((Math.random() - 0.5) * 10, pointLight.range * 0.75, (Math.random() - 0.5) * 10);\r\n\t\t\tmoveRanges[i] = new Vector3((Math.random() - 0.5) * 40, 0, (Math.random() - 0.5) * 40);\r\n\t\t}\r\n\r\n\t\tvar spotLight: SpotLight = (<SpotLight>this.scene.addChild(new SpotLight()));\r\n\t\tspotLight.transform.localPosition = new Vector3(0.0, 9.0, -35.0);\r\n\t\tspotLight.transform.localRotationEuler = new Vector3(-15.0, 180.0, 0.0);\r\n\t\tspotLight.color.setValue(Math.random(), Math.random(), Math.random(), 1);\r\n\t\tspotLight.range = 50;\r\n\t\tspotLight.intensity = 15;\r\n\t\tspotLight.spotAngle = 60;\r\n\t}\r\n}\r\n\r\nclass LightMoveScript extends Laya.Script {\r\n\r\n\tforward: Vector3 = new Vector3();\r\n\tlights: LightSprite[] = [];\r\n\toffsets: Vector3[] = [];\r\n\tmoveRanges: Vector3[] = [];\r\n\r\n\tonUpdate(): void {\r\n\t\tvar seed: number = Laya.timer.currTimer * 0.002;\r\n\t\tfor (var i: number = 0, n: number = this.lights.length; i < n; i++) {\r\n\t\t\tvar transform: Transform3D = this.lights[i].transform;\r\n\t\t\tvar pos: Vector3 = transform.localPosition;\r\n\t\t\tvar off: Vector3 = this.offsets[i];\r\n\t\t\tvar ran: Vector3 = this.moveRanges[i];\r\n\t\t\tpos.x = off.x + Math.sin(seed) * ran.x;\r\n\t\t\tpos.y = off.y + Math.sin(seed) * ran.y;\r\n\t\t\tpos.z = off.z + Math.sin(seed) * ran.z;\r\n\t\t\ttransform.localPosition = pos;\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Quaternion = Laya.Quaternion;\r\nimport PointLight = Laya.PointLight;\r\nimport Color = Laya.Color;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('CxDUqF6AR2-0rSZlnKAHRw')\r\nexport class PointLightDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate _temp_position: Vector3 = new Vector3();\r\n\tprivate _temp_quaternion: Quaternion = new Quaternion();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0.7, 1.3));\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.active = false;\r\n\r\n\t\t//\u8BBE\u7F6E\u573A\u666F\u73AF\u5883\u5149\u989C\u8272\r\n\t\tthis.scene.ambientColor = new Color(0.1, 0.1, 0.1);\r\n\r\n\t\t//\u521B\u5EFA\u70B9\u5149\u6E90\r\n\t\tvar pointLight: PointLight = (<PointLight>this.scene.addChild(new PointLight()));\r\n\t\t//\u70B9\u5149\u6E90\u7684\u989C\u8272\r\n\t\tpointLight.color = new Color(1.0, 0.5, 0.0, 1);\r\n\t\tpointLight.transform.position = new Vector3(0.4, 0.4, 0.0);\r\n\t\t//\u8BBE\u7F6E\u70B9\u5149\u6E90\u7684\u8303\u56F4\r\n\t\tpointLight.range = 3.0;\r\n\r\n\t\t//\u52A0\u8F7D\u5730\u9762\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/staticModel/grid/plane.lh\",\r\n\t\t\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"];\r\n\t\tLaya.loader.load(resource).then((res:any[])=>{\r\n\r\n\t\t\tthis.scene.addChild(res[0].create());\r\n\t\t\tthis.scene.addChild(res[1].create());\r\n\r\n\t\t\t//\u8BBE\u7F6E\u65F6\u949F\u5B9A\u65F6\u6267\u884C\r\n\t\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\t\t//\u4ECE\u6B27\u62C9\u89D2\u751F\u6210\u56DB\u5143\u6570\uFF08\u987A\u5E8F\u4E3AYaw\u3001Pitch\u3001Roll\uFF09\r\n\t\t\t\tQuaternion.createFromYawPitchRoll(0.025, 0, 0, this._temp_quaternion);\r\n\t\t\t\t//\u6839\u636E\u56DB\u5143\u6570\u65CB\u8F6C\u4E09\u7EF4\u5411\u91CF\r\n\t\t\t\tVector3.transformQuat(pointLight.transform.position, this._temp_quaternion, this._temp_position);\r\n\t\t\t\tpointLight.transform.position = this._temp_position;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Mesh = Laya.Mesh;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport SkinnedMeshSprite3D = Laya.SkinnedMeshSprite3D;\r\nimport ShadowCascadesMode = Laya.ShadowCascadesMode;\r\nimport ShadowMode = Laya.ShadowMode;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('wDQuKeqXSRKyoXskL_cxgQ')\r\nexport class RealTimeShadow extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\t/** Roation speed. */\r\n\tautoRotateSpeed: Vector3 = new Vector3(0, 0.05, 0);\r\n\t/** If roation. */\r\n\trotation: boolean = true;\r\n\trotationScript: RotationScript;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1.5, 2);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\t//\u65B9\u5411\u5149\u7684\u989C\u8272\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.85, 0.85, 0.8, 1);\r\n\r\n\t\tLaya.loader.load([\r\n\t\t\t\"resources/res/threeDimen/staticModel/grid/plane.lh\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"\r\n\t\t]).then( ()=>{\r\n            this.onComplete();\r\n        });\r\n\t}\r\n\r\n\tprivate onComplete(): void {\r\n\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-Math.PI / 3, 0, 0));\r\n\r\n\t\t// Use soft shadow.\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).shadowMode = ShadowMode.SoftLow;\r\n\t\t// Set shadow max distance from camera.\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).shadowDistance = 50;\r\n\t\t// Set shadow cascade mode.\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).shadowCascadesMode = ShadowCascadesMode.FourCascades;\r\n\t\t// Set shadow normal bias.\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).shadowNormalBias = 1;\r\n\t\t// Add rotation script to light.\r\n\t\tthis.rotationScript = this.directionLight.addComponent(RotationScript);\r\n\r\n\t\t// A plane receive shadow.\r\n\t\tvar grid: Sprite3D = <Sprite3D>this.scene.addChild(Loader.getRes(\"resources/res/threeDimen/staticModel/grid/plane.lh\").create());\r\n\t\t(<MeshSprite3D>grid.getChildAt(0)).meshRenderer.receiveShadow = true;\r\n\r\n\t\t// A monkey cast shadow.\r\n\t\tvar layaMonkey: Sprite3D = <Sprite3D>this.scene.addChild(Loader.getRes(\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\").create());\r\n\t\tlayaMonkey.transform.setWorldLossyScale(new Vector3(3.3, 3.3, 3.3));\r\n\t\t(<SkinnedMeshSprite3D>layaMonkey.getChildAt(0).getChildAt(1)).skinnedMeshRenderer.castShadow = true;\r\n\r\n\t\t// A sphere cast/receive shadow.\r\n\t\tvar sphereSprite: MeshSprite3D = this.addPBRSphere(PrimitiveMesh.createSphere(0.1), new Vector3(0, 0.2, 0.5), this.scene);\r\n\t\tsphereSprite.meshRenderer.castShadow = true;\r\n\t\t// sphereSprite.meshRenderer.receiveShadow = true;\r\n\r\n\t\tsuper.addBottomButton( [\"\u505C\u6B62\u65CB\u8F6C\",\"\u5F00\u59CB\u65CB\u8F6C\"] , this, [this.Rotation, this.Rotation] );\r\n\t}\r\n\r\n\t/**\r\n\t * Add one with smoothness and metallic sphere.\r\n\t */\r\n\taddPBRSphere(sphereMesh: Mesh, position: Vector3, scene: Scene3D): MeshSprite3D {\r\n\t\tvar mat: PBRStandardMaterial = new PBRStandardMaterial();\r\n\t\tmat.smoothness = 0.2;\r\n\r\n\t\tvar meshSprite: MeshSprite3D = new MeshSprite3D(sphereMesh);\r\n\t\tmeshSprite.meshRenderer.sharedMaterial = mat;\r\n\t\tvar transform: Transform3D = meshSprite.transform;\r\n\t\ttransform.localPosition = position;\r\n\t\tscene.addChild(meshSprite);\r\n\t\treturn meshSprite;\r\n\t}\r\n\r\n\tRotation(): void {\r\n\r\n\t\tif (this.rotationScript.rotation) {\r\n\t\t\tthis.rotationScript.rotation = false;\r\n\t\t} else {\r\n\t\t\tthis.rotationScript.rotation = true;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Light rotation script.\r\n */\r\nclass RotationScript extends Laya.Script3D {\r\n\t/** Roation speed. */\r\n\tautoRotateSpeed: Vector3 = new Vector3(0, 0.05, 0);\r\n\t/** If roation. */\r\n\trotation: boolean = true;\r\n\r\n\tonUpdate(): void {\r\n\t\tif (this.rotation)\r\n\t\t\t(<DirectionLight>this.owner).transform.rotate(this.autoRotateSpeed, false);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Color = Laya.Color;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('gZH4t71WQdG_bnJO4c2-bQ')\r\nexport class SpotLightDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight:Laya.Sprite3D;\r\n\r\n    private _quaternion:Laya.Quaternion = new Laya.Quaternion();\r\n    private _direction:Laya.Vector3 = new Laya.Vector3();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0.7, 1.3));\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.active = false;\r\n\t\t//\u8BBE\u7F6E\u573A\u666F\u73AF\u5883\u5149\u989C\u8272\r\n\t\tthis.scene.ambientColor = new Color(0.1, 0.1, 0.1);\r\n\r\n        //\u805A\u5149\u706F\r\n        var spotLight:Laya.SpotLight = this.scene.addChild(new Laya.SpotLight()) as Laya.SpotLight;\r\n        spotLight.color = new Laya.Color(1, 1, 0);\r\n        spotLight.transform.position = new Laya.Vector3(0.0, 1.2, 0.0);\r\n        var mat = spotLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(0.15, -1.0, 0.0));\r\n        spotLight.transform.worldMatrix = mat;\r\n        spotLight.range = 6.0;\r\n        spotLight.spotAngle = 32;\r\n\r\n\t\t//\u52A0\u8F7D\u5730\u9762\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/staticModel/grid/plane.lh\",\r\n\t\t                        \"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"];\r\n                                \r\n\t\tLaya.loader.load(resource).then((res:any[])=>{\r\n\r\n\t\t\tthis.scene.addChild(res[0].create());\r\n\t\t\tthis.scene.addChild(res[1].create());\r\n\r\n            Laya.timer.frameLoop(1, this, ()=> {\r\n                Laya.Quaternion.createFromYawPitchRoll(0.025, 0, 0, this._quaternion);\r\n                spotLight.transform.worldMatrix.getForward(this._direction);\r\n                Laya.Vector3.transformQuat(this._direction, this._quaternion, this._direction);\r\n                var mat = spotLight.transform.worldMatrix;\r\n                mat.setForward(this._direction);\r\n                spotLight.transform.worldMatrix = mat;\r\n            });\r\n\t\t});\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport ShadowMode = Laya.ShadowMode;\r\nimport SpotLight = Laya.SpotLight;\r\nimport Node = Laya.Node;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0nMCmDRkRWG2nqxvQJ4QOA')\r\nexport class SpotLightShadowMap extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onStart(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        //\u805A\u5149\u706F\r\n        var spotLight:Laya.SpotLight = this.scene.addChild(new Laya.SpotLight()) as Laya.SpotLight;\r\n        spotLight.color = new Laya.Color(1, 1, 0);\r\n        spotLight.transform.position = new Laya.Vector3(-0.13, 7.86, 0.23);\r\n        spotLight.transform.rotationEuler = new Laya.Vector3(-90, 180, 0);\r\n        spotLight.range = 10;\r\n        spotLight.spotAngle = 53;\r\n\r\n        this.receaveRealShadow(this.scene);\r\n    }\r\n\r\n    receaveRealShadow(scene3d: Scene3D): void {\r\n\r\n        var childLength: number = scene3d.numChildren;\r\n        for (var i: number = 0; i < childLength; i++) {\r\n            var childSprite: Node = scene3d.getChildAt(i);\r\n            if (childSprite instanceof SpotLight) {\r\n                childSprite.shadowMode = ShadowMode.Hard;\r\n                // Set shadow max distance from camera.\r\n                childSprite.shadowDistance = 3;\r\n                // Set shadow resolution.\r\n                childSprite.shadowResolution = 512;\r\n                // set shadow Bias\r\n                childSprite.shadowDepthBias = 1.0;\r\n            }\r\n            else {\r\n                console.log(childSprite.name);\r\n                if( childSprite.getComponent(MeshRenderer) )\r\n                {\r\n                    childSprite.getComponent(MeshRenderer).receiveShadow = true;\r\n                    childSprite.getComponent(MeshRenderer).castShadow = true;\r\n                }\r\n                \r\n            }\r\n        }\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Label = Laya.Label;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Input = Laya.Input;\r\nimport List = Laya.List;\r\nimport Handler = Laya.Handler;\r\nimport Tween = Laya.Tween;\r\nimport Box = Laya.Box;\r\nimport Text = Laya.Text;\r\nimport Ease = Laya.Ease;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('De0huMrtRZqFL283d4kKeQ')\r\nexport class Tween_EaseFunctionsDemo extends BaseScript {\r\n\r\n\tprivate character: Sprite;\r\n\tprivate duration: number = 2000;\r\n\tprivate tween: Tween;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.createCharacter();\r\n\t\tthis.createEaseFunctionList();\r\n\t\tthis.createDurationCrontroller();\r\n\t}\r\n\r\n\tprivate createCharacter(): void {\r\n\t\tthis.character = new Sprite();\r\n\t\tthis.character.loadImage(\"resources/res/cartoonCharacters/1.png\");\r\n\t\tthis.character.pos(100, 50);\r\n\t\tthis.box2D.addChild(this.character);\r\n\t}\r\n\r\n\tprivate createEaseFunctionList(): void {\r\n\t\tvar easeFunctionsList: List = new List();\r\n\r\n\t\teaseFunctionsList.itemRender = ListItemRender;\r\n\t\teaseFunctionsList.pos(5, 5);\r\n\r\n\t\teaseFunctionsList.repeatX = 1;\r\n\t\teaseFunctionsList.repeatY = 20;\r\n\r\n\t\teaseFunctionsList.vScrollBarSkin = '';\r\n\r\n\t\teaseFunctionsList.selectEnable = true;\r\n\t\teaseFunctionsList.selectHandler = new Handler(this, this.onEaseFunctionChange, [easeFunctionsList]);\r\n\t\teaseFunctionsList.renderHandler = new Handler(this, this.renderList);\r\n\t\tthis.box2D.addChild(easeFunctionsList);\r\n\r\n\t\tvar data: any[] = [];\r\n\t\tdata.push('backIn', 'backOut', 'backInOut');\r\n\t\tdata.push('bounceIn', 'bounceOut', 'bounceInOut');\r\n\t\tdata.push('circIn', 'circOut', 'circInOut');\r\n\t\tdata.push('cubicIn', 'cubicOut', 'cubicInOut');\r\n\t\tdata.push('elasticIn', 'elasticOut', 'elasticInOut');\r\n\t\tdata.push('expoIn', 'expoOut', 'expoInOut');\r\n\t\tdata.push('linearIn', 'linearOut', 'linearInOut');\r\n\t\tdata.push('linearNone');\r\n\t\tdata.push('QuadIn', 'QuadOut', 'QuadInOut');\r\n\t\tdata.push('quartIn', 'quartOut', 'quartInOut');\r\n\t\tdata.push('quintIn', 'quintOut', 'quintInOut');\r\n\t\tdata.push('sineIn', 'sineOut', 'sineInOut');\r\n\t\tdata.push('strongIn', 'strongOut', 'strongInOut');\r\n\r\n\t\teaseFunctionsList.array = data;\r\n\t}\r\n\r\n\tprivate renderList(item: ListItemRender, e: any = null): void {\r\n\t\titem.setLabel(item.dataSource);\r\n\t}\r\n\r\n\tprivate onEaseFunctionChange(list: List, e: any = null): void {\r\n\t\tthis.character.pos(100, 50);\r\n\r\n\t\tthis.tween && this.tween.clear();\r\n\t\t//@ts-ignore\r\n\t\tthis.tween = Tween.to(this.character, { \"x\": 350, \"y\": 250 }, this.duration, Laya.Ease[list.selectedItem] );\r\n\t}\r\n\r\n\tprivate createDurationCrontroller(): void {\r\n\t\tvar durationInput: Input = this.createInputWidthLabel(\"Duration:\", '2000', 400, 10);\r\n\t\tdurationInput.on(Event.INPUT, this,  (): void => {\r\n\t\t\tthis.duration = parseInt(durationInput.text);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate createInputWidthLabel(label: string, prompt: string, x: number, y: number): Input {\r\n\t\tvar text: Text = new Text();\r\n\t\ttext.text = label;\r\n\t\ttext.color = \"white\";\r\n\t\tthis.box2D.addChild(text);\r\n\t\ttext.pos(x, y);\r\n\r\n\t\tvar input: Input = new Input();\r\n\t\tinput.size(50, 20);\r\n\t\tinput.text = prompt;\r\n\t\tinput.align = 'center';\r\n\t\tthis.box2D.addChild(input);\r\n\t\tinput.color = \"#FFFFFF\";\r\n\t\tinput.borderColor = \"#FFFFFF\";\r\n\t\tinput.pos(text.x + text.width + 10, text.y - 3);\r\n\r\n\t\treturn input\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.tween) {\r\n\t\t\tthis.tween.clear();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\nclass ListItemRender extends Box {\r\n\tprivate label: Label;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.size(100, 20);\r\n\r\n\t\tthis.label = new Label();\r\n\t\tthis.label.fontSize = 12;\r\n\t\tthis.label.color = \"#FFFFFF\";\r\n\t\tthis.addChild(this.label);\r\n\t}\r\n\r\n\tsetLabel(value: string): void {\r\n\t\tthis.label.text = value;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Ease = Laya.Ease;\r\nimport Handler = Laya.Handler;\r\nimport Tween = Laya.Tween;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('pS7yG9-WQ46fU3Zd6c525g')\r\nexport class Tween_Letters extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tvar w: number = 400;\r\n\t\tvar offset: number = this.pageWidth - w >> 1;\r\n\t\tvar endY: number = this.pageHeight / 2 - 50;\r\n\t\tvar demoString: string = \"LayaBox\";\r\n\r\n\t\tfor (var i: number = 0, len: number = demoString.length; i < len; ++i) {\r\n\t\t\tvar letterText: Text = this.createLetter(demoString.charAt(i));\r\n\t\t\tletterText.x = w / len * i + offset;\r\n\r\n\t\t\tTween.to(letterText, { \"y\": endY }, 1000, Ease.elasticOut, null, i * 1000);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate createLetter(char: string): Text {\r\n\t\tvar letter: Text = new Text();\r\n\t\tletter.text = char;\r\n\t\tletter.color = \"#FFFFFF\";\r\n\t\tletter.font = \"Impact\";\r\n\t\tletter.fontSize = 110;\r\n\t\tthis.box2D.addChild(letter);\r\n\r\n\t\treturn letter;\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Skeleton = Laya.Skeleton;\r\nimport Handler = Laya.Handler;\r\nimport Tween = Laya.Tween;\r\nimport EventData = Laya.EventData;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('w4pRCe7oR4G0UlyVTSVULg')\r\nexport class Tween_SimpleSample extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tvar terminalX: number = 200;\r\n\r\n\t\tvar characterA: Sprite = this.createCharacter(\"resources/res/cartoonCharacters/1.png\");\r\n\t\tcharacterA.pivot(46.5, 50);\r\n\t\tcharacterA.y = 100;\r\n\r\n\t\tvar characterB: Sprite = this.createCharacter(\"resources/res/cartoonCharacters/2.png\");\r\n\t\tcharacterB.pivot(34, 50);\r\n\t\tcharacterB.y = 250;\r\n\r\n\t\tthis.box2D.graphics.drawLine(terminalX, 0, terminalX, this.pageHeight, \"#FFFFFF\");\r\n\r\n\t\t// characterA\u4F7F\u7528Tween.to\u7F13\u52A8\r\n\t\tTween.to(characterA, { \"x\": terminalX }, 1000);\r\n\t\t// characterB\u4F7F\u7528Tween.from\u7F13\u52A8\r\n\t\tcharacterB.x = terminalX;\r\n\t\tTween.from(characterB, { \"x\": 0 }, 1000);\r\n\t}\r\n\r\n\tprivate createCharacter(skin: string): Sprite {\r\n\t\tvar character: Sprite = new Sprite();\r\n\t\tcharacter.loadImage(skin);\r\n\t\tthis.box2D.addChild(character);\r\n\r\n\t\treturn character;\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tthis.box2D.graphics.clear();\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport TimeLine = Laya.TimeLine;\r\nimport Handler = Laya.Handler;\r\nimport Tween = Laya.Tween;\r\nimport Keyboard = Laya.Keyboard;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0XaNsDq2RwqWdfDyuD3G-w')\r\nexport class Tween_TimeLine extends BaseScript {\r\n\r\n\tprivate target: Sprite;\r\n\tprivate timeLine: TimeLine = new TimeLine();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.createApe();\r\n\t\tthis.createTimerLine();\r\n\t\tthis.box2D.on(Event.KEY_DOWN, this, this.keyDown);\r\n\t}\r\n\tprivate createApe(): void {\r\n\t\tthis.target = new Sprite();\r\n\t\tthis.target.loadImage(\"resources/res/apes/monkey2.png\");\r\n\t\tthis.box2D.addChild(this.target);\r\n\t\tthis.target.pivot(55, 72);\r\n\t\tthis.target.pos(100, 100);\r\n\t}\r\n\r\n\tprivate createTimerLine(): void {\r\n\r\n\t\tthis.timeLine.addLabel(\"turnRight\", 0).to(this.target, { 'x': 450, 'y': 100, 'scaleX': 0.5, 'scaleY': 0.5 }, 2000, null, 0).\r\n\t\taddLabel(\"turnDown\", 0).to(this.target, { 'x': 450, 'y': 300, 'scaleX': 0.2, 'scaleY': 1, 'alpha': 1 }, 2000, null, 0).\r\n\t\taddLabel(\"turnLeft\", 0).to(this.target, { 'x': 100, 'y': 300, 'scaleX': 1, 'scaleY': 0.2, 'alpha': 0.1 }, 2000, null, 0).\r\n\t\taddLabel(\"turnUp\", 0).to(this.target, { 'x': 100, 'y': 100, 'scaleX': 1, 'scaleY': 1, 'alpha': 1 }, 2000, null, 0);\r\n\t\tthis.timeLine.play(0, true);\r\n\t\tthis.timeLine.on(Event.COMPLETE, this, this.onComplete);\r\n\t\tthis.timeLine.on(Event.LABEL, this, this.onLabel);\r\n\t}\r\n\tprivate onComplete(): void {\r\n\t\tconsole.log(\"timeLine complete!!!!\");\r\n\t}\r\n\tprivate onLabel(label: string): void {\r\n\t\tconsole.log(\"LabelName:\" + label);\r\n\t}\r\n\tprivate keyDown(e: Event): void {\r\n\t\tswitch (e.keyCode) {\r\n\t\t\tcase Keyboard.LEFT:\r\n\t\t\t\tthis.timeLine.play(\"turnLeft\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Keyboard.RIGHT:\r\n\t\t\t\tthis.timeLine.play(\"turnRight\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Keyboard.UP:\r\n\t\t\t\tthis.timeLine.play(\"turnUp\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Keyboard.DOWN:\r\n\t\t\t\tthis.timeLine.play(\"turnDown\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Keyboard.P:\r\n\t\t\t\tthis.timeLine.pause();\r\n\t\t\t\tbreak;\r\n\t\t\tcase Keyboard.R:\r\n\t\t\t\tthis.timeLine.resume();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tthis.box2D.off(Event.KEY_DOWN, this, this.keyDown);\r\n\t\tif(this.timeLine)\r\n\t\t{\r\n\t\t\tthis.timeLine.on(Event.COMPLETE, this, this.onComplete);\r\n\t\t\tthis.timeLine.on(Event.LABEL, this, this.onLabel);\r\n\t\t\tthis.timeLine.destroy();\r\n\t\t\tthis.timeLine = null;\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Material = Laya.Material;\r\nimport SkyRenderer = Laya.SkyRenderer;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport SkyBox = Laya.SkyBox;\r\nimport Loader = Laya.Loader;\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('PqebEI6oRVOcq874-VnU7A')\r\nexport class CameraDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate _translate: Vector3 = new Vector3(0, 0.7, 5);\r\n\tprivate _rotation: Vector3 = new Vector3(-15, 0, 0);\r\n\tprivate _rotation2: Vector3 = new Vector3(-3.14 / 3, 0, 0);\r\n\tprivate _rotation3: Vector3 = new Vector3(0, 45, 0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\t//\u9884\u52A0\u8F7D\u6240\u6709\u8D44\u6E90\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/texture/layabox.png\", \"resources/res/threeDimen/skyBox/skyBox2/skyBox2.lmat\"];\r\n\t\tLaya.loader.load(resource).then((res:any[])=>{\r\n\t\t\tthis.onPreLoadFinish(res);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onPreLoadFinish(res:any[]): void {\r\n\r\n\t\t//\u521B\u5EFA\u76F8\u673A\uFF0C\u6784\u9020\u51FD\u6570\u7684\u4E09\u4E2A\u53C2\u6570\u4E3A\u76F8\u673A\u6A2A\u7EB5\u6BD4\uFF0C\u8FD1\u8DDD\u88C1\u526A\uFF0C\u8FDC\u8DDD\u88C1\u526A\r\n\t\tthis.camera.transform.translate(this._translate);\r\n\t\tthis.camera.transform.rotate(this._rotation, true, false);\r\n\t\tthis.camera.useOcclusionCulling = false;\r\n\t\t//\u76F8\u673A\u8BBE\u7F6E\u6E05\u695A\u6807\u8BB0,\u4F7F\u7528\u56FA\u5B9A\u989C\u8272\r\n\t\tthis.camera.clearFlag = CameraClearFlags.SolidColor;\r\n\t\t//\u8BBE\u7F6E\u6444\u50CF\u673A\u89C6\u91CE\u8303\u56F4\uFF08\u89D2\u5EA6\uFF09\r\n\t\tthis.camera.fieldOfView = 60;\r\n\t\tthis.scene.addChild(this.camera);\r\n\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u989C\u8272\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\t\tthis.directionLight.transform.rotate(this._rotation2);\r\n\r\n\t\t//\u6B63\u65B9\u4F53\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(0.5, 0.5, 0.5))));\r\n\t\tbox.transform.position = new Vector3(0.0, 2.7, 5);\r\n\t\tbox.transform.rotate(this._rotation3, false, false);\r\n\r\n\t\t//\u521B\u5EFAlinnPhong\u6750\u8D28\r\n\t\tvar materialBill: BlinnPhongMaterial = new BlinnPhongMaterial;\r\n\t\tbox.meshRenderer.material = materialBill;\r\n\t\t//\u8BBE\u7F6E\u53CD\u7167\u7387\u8D34\u56FE\r\n\t\tmaterialBill.albedoTexture = res[0];;\r\n\r\n\t\tsuper.addBottomButton( [\"\u5207\u6362\u80CC\u666F\",\"\u5207\u6362\u80CC\u666F\"] , this, [this.setSkybox, this.setSolidColor] );\r\n\t}\r\n\r\n\r\n\tsetSolidColor() {\r\n\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u6E05\u9664\u6807\u8BC6\u4E3A\u4E3A\u56FA\u5B9A\u989C\u8272\r\n\t\tthis.camera.clearFlag = CameraClearFlags.SolidColor;\r\n\t}\r\n\r\n\tsetSkybox(): void {\r\n\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u6E05\u9664\u6807\u8BC6\u4E3A\u5929\u7A7A\u76D2\r\n\t\tthis.camera.clearFlag = CameraClearFlags.Sky;\r\n\t\t//\u4F7F\u7528\u52A0\u8F7D\u5929\u7A7A\u76D2\u6750\u8D28\r\n\t\tvar skyboxMaterial: Material = (<Material>Loader.getRes(\"resources/res/threeDimen/skyBox/skyBox2/skyBox2.lmat\"));\r\n\t\t//\u83B7\u53D6\u76F8\u673A\u7684\u5929\u7A7A\u6E32\u67D3\u5668\r\n\t\tvar skyRenderer: SkyRenderer = this.camera.skyRenderer;\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u5929\u7A7A\u6E32\u67D3\u5668\u7684mesh\r\n\t\tskyRenderer.mesh = SkyBox.instance;\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u5929\u7A7A\u6E32\u67D3\u5668\u7684material\r\n\t\tskyRenderer.material = skyboxMaterial;\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Material = Laya.Material;\r\nimport SkyRenderer = Laya.SkyRenderer;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Animator = Laya.Animator;\r\nimport Mesh = Laya.Mesh;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Quaternion = Laya.Quaternion;\r\nimport AnimationClip = Laya.AnimationClip;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport SkyBoxMaterial = Laya.SkyBoxMaterial;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport SkyBox = Laya.SkyBox;\r\nimport Vector4 = Laya.Vector4;\r\n\r\nimport Handler = Laya.Handler;\r\nimport Loader = Laya.Loader;\r\nimport Button = Laya.Button;\r\nimport Event = Laya.Event;\r\nimport Browser = Laya.Browser;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('UReQR07GR9ioqeoamH8bsQ')\r\nexport class CameraLayer extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate layerIndex: number = 0;\r\n\tprivate _translate: Vector3 = new Vector3(0, 1.7, 3);\r\n\tprivate _rotation3: Quaternion = new Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\tprivate _rotation4: Vector3 = new Vector3(0, 60, 0);\r\n\tprivate _position: Vector3 = new Vector3(0.0, 0, 0.5);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tsuper.setCameraDirectionLight(this.camera, this.directionLight as Laya.DirectionLight);\r\n\r\n\t\t//\u79FB\u9664\u6240\u6709\u56FE\u5C42\r\n\t\tthis.camera.removeAllLayers();\r\n\t\t//\u6DFB\u52A0\u663E\u793A\u56FE\u5C42(\u4E3A\u76F8\u673A\u6DFB\u52A0\u4E00\u4E2A\u8499\u7248)\r\n\t\tthis.camera.addLayer(5);\r\n\r\n\t\t//\u9884\u52A0\u8F7D\u6240\u6709\u8D44\u6E90\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/staticModel/grid/plane.lh\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/Materials/T_Diffuse.lmat\"];\r\n\t\tLaya.loader.load(resource).then((res:any[])=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onComplete(res:any[]): void {\r\n\r\n\t\t//\u6DFB\u52A0\u5730\u9762\r\n\t\tvar grid: Sprite3D = this.scene.addChild(res[0].create());\r\n\t\t//\u5730\u9762\u63A5\u6536\u9634\u5F71\r\n\t\t((<MeshSprite3D>grid.getChildAt(0))).meshRenderer.receiveShadow = true;\r\n\t\t//\u8BBE\u7F6E\u8BE5\u7CBE\u7075\u7684\u8499\u7248\u4E3A5(\u6240\u5C5E\u56FE\u5C42)\r\n\t\t((<MeshSprite3D>grid.getChildAt(0))).layer = 5;\r\n\r\n\t\t//\u6DFB\u52A0\u9759\u6001\u7334\u5B50\r\n\t\tvar staticLayaMonkey: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(res[1])));\r\n\t\t//\u8BBE\u7F6E\u9759\u6001\u7334\u5B50\u7684\u6750\u8D28\r\n\t\tstaticLayaMonkey.meshRenderer.material = res[2];\r\n\t\t//\u8BBE\u7F6E\u9759\u6001\u7334\u5B50\u7684\u8499\u7248\u4E3A1(\u6240\u5C5E\u56FE\u5C42)\r\n\t\tstaticLayaMonkey.layer = 1;\r\n\t\tstaticLayaMonkey.transform.position = new Vector3(0, 0, 0.5);\r\n\t\tstaticLayaMonkey.transform.localScale = new Vector3(0.3, 0.3, 0.3);\r\n\t\tstaticLayaMonkey.transform.rotation = this._rotation3;\r\n\t\t//\u4EA7\u751F\u9634\u5F71\r\n\t\tstaticLayaMonkey.meshRenderer.castShadow = true;\r\n\r\n\t\t//\u514B\u9686sprite3d\r\n\t\tvar layaMonkey_clone1: Sprite3D = Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this._position);\r\n\t\tvar layaMonkey_clone2: Sprite3D = Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this._position);\r\n\t\tvar layaMonkey_clone3: Sprite3D = Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this._position);\r\n\r\n\t\t//\u8BBE\u7F6E\u8499\u7248(\u6240\u5C5E\u56FE\u5C42)\r\n\t\tlayaMonkey_clone1.layer = 2;\r\n\t\tlayaMonkey_clone2.layer = 3;\r\n\t\tlayaMonkey_clone3.layer = 0;\r\n\t\t//\u5E73\u79FB\r\n\t\tthis._translate.setValue(1.5, 0, 0.0);\r\n\t\tlayaMonkey_clone1.transform.translate(this._translate);\r\n\t\tthis._translate.setValue(-1.5, 0, 0.0);\r\n\t\tlayaMonkey_clone2.transform.translate(this._translate);\r\n\t\tthis._translate.setValue(2.5, 0, 0.0);\r\n\t\tlayaMonkey_clone3.transform.translate(this._translate);\r\n\t\t//\u65CB\u8F6C\r\n\t\tlayaMonkey_clone2.transform.rotate(this._rotation4, false, false);\r\n\t\t//\u7F29\u653E\r\n\t\tlayaMonkey_clone3.transform.localScale = new Vector3(0.1, 0.1, 0.1);\r\n\r\n\t\tsuper.addBottomButton( [\"\u5207\u6362\u56FE\u5C42\",\"\u5207\u6362\u56FE\u5C42\",\"\u5207\u6362\u56FE\u5C42\"] , this, [this.setLayer, this.setLayer, this.setLayer] );\r\n\t}\r\n\r\n\tsetLayer (): void {\r\n\t\tthis.camera.removeAllLayers();\r\n\t\tthis.layerIndex++;\r\n\t\tthis.camera.addLayer(this.layerIndex % 3);\r\n\t\tthis.camera.addLayer(5);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('UMziwEhKT3iWaekVPj2dzg')\r\nexport class CameraLookAt extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate index: number = 0;\r\n\tprivate box: MeshSprite3D;\r\n\tprivate capsule: MeshSprite3D;\r\n\tprivate cylinder: MeshSprite3D;\r\n\tprivate _translate = new Vector3(0, 0.7, 5);\r\n\tprivate _rotation: Vector3 = new Vector3(-15, 0, 0);\r\n\tprivate _rotation2: Vector3 = new Vector3(-3.14 / 3, 0, 0);\r\n\tprivate _rotation3: Vector3 = new Vector3(0, 45, 0);\r\n\tprivate _position: Vector3 = new Vector3(1.5, 0.0, 2);\r\n\tprivate _position2: Vector3 = new Vector3(-1.5, 0.0, 2);\r\n\tprivate _position3: Vector3 = new Vector3(0.0, 0.0, 2);\r\n\tprivate _up: Vector3 = new Vector3(0, 1, 0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/texture/layabox.png\").then(()=>{\r\n\t\t\tthis.onPreLoadFinish();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onPreLoadFinish(): void {\r\n\r\n\t\t//\u521B\u5EFA\u76F8\u673A\uFF0C\u6784\u9020\u51FD\u6570\u7684\u4E09\u4E2A\u53C2\u6570\u4E3A\u76F8\u673A\u6A2A\u7EB5\u6BD4\uFF0C\u8FD1\u8DDD\u88C1\u526A\uFF0C\u8FDC\u8DDD\u88C1\u526A\r\n\t\tthis.camera.transform.position = (this._translate);\r\n\t\tthis.camera.transform.rotate(this._rotation, true, false);\r\n\r\n\t\t//\u76F8\u673A\u8BBE\u7F6E\u6E05\u695A\u6807\u8BB0,\u4F7F\u7528\u56FA\u5B9A\u989C\u8272\r\n\t\tthis.camera.clearFlag = CameraClearFlags.SolidColor;\r\n\t\t//\u8BBE\u7F6E\u6444\u50CF\u673A\u89C6\u91CE\u8303\u56F4\uFF08\u89D2\u5EA6\uFF09\r\n\t\tthis.camera.fieldOfView = 60;\r\n\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u989C\u8272\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\t\tthis.directionLight.transform.rotate(this._rotation2);\r\n\r\n\t\tvar sprite: Sprite3D = new Sprite3D;\r\n\t\tthis.scene.addChild(sprite);\r\n\r\n\t\t//\u6B63\u65B9\u4F53\r\n\t\tthis.box = (<MeshSprite3D>sprite.addChild(new MeshSprite3D(PrimitiveMesh.createBox(0.5, 0.5, 0.5))));\r\n\t\tthis.box.transform.position = this._position;\r\n\t\tthis.box.transform.rotate(this._rotation3, false, false);\r\n\r\n\t\t//\u80F6\u56CA\u4F53\r\n\t\tthis.capsule = new MeshSprite3D(PrimitiveMesh.createCapsule(0.25, 1, 10, 20));\r\n\t\tthis.capsule.transform.position = this._position2;\r\n\t\tsprite.addChild(this.capsule);\r\n\r\n\t\t//\u5706\u67F1\r\n\t\tthis.cylinder = new MeshSprite3D(PrimitiveMesh.createCylinder(0.25, 1, 20));\r\n\t\tthis.cylinder.transform.position = this._position3;\r\n\t\tsprite.addChild(this.cylinder);\r\n\r\n\t\t//\u521B\u5EFAlinnPhong\u6750\u8D28\r\n\t\tvar materialBill: BlinnPhongMaterial = new BlinnPhongMaterial;\r\n\t\tthis.box.meshRenderer.material = materialBill;\r\n\t\tthis.capsule.meshRenderer.material = materialBill;\r\n\t\tthis.cylinder.meshRenderer.material = materialBill;\r\n\r\n\t\t//\u4E3A\u6750\u8D28\u52A0\u8F7D\u7EB9\u7406\r\n\t\tvar tex = Loader.getTexture2D(\"resources/res/threeDimen/texture/layabox.png\");\r\n\t\t//\u8BBE\u7F6E\u53CD\u7167\u7387\u8D34\u56FE\r\n\t\tmaterialBill.albedoTexture = tex;\r\n\r\n\t\tsuper.addBottomButton( [\"\u5207\u6362\u6CE8\u89C6\",\"\u5207\u6362\u6CE8\u89C6\",\"\u5207\u6362\u6CE8\u89C6\"] , this, [this.setLookAt, this.setLookAt, this.setLookAt] );\r\n\t\tthis.camera.transform.lookAt(this.cylinder.transform.position, this._up);\r\n\t}\r\n\r\n\tsetLookAt(index:number = 0) {\r\n\t\tthis.index++;\r\n\t\tif (this.index % 3 === 1) {\r\n\t\t\t//\u6444\u50CF\u673A\u6355\u6349\u6A21\u578B\u76EE\u6807\r\n\t\t\tthis.camera.transform.lookAt(this.box.transform.position, this._up);\r\n\t\t}\r\n\t\telse if (this.index % 3 === 2) {\r\n\t\t\t//\u6444\u50CF\u673A\u6355\u6349\u6A21\u578B\u76EE\u6807\r\n\t\t\tthis.camera.transform.lookAt(this.cylinder.transform.position, this._up);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//\u6444\u50CF\u673A\u6355\u6349\u6A21\u578B\u76EE\u6807\r\n\t\t\tthis.camera.transform.lookAt(this.capsule.transform.position, this._up);\r\n\t\t}\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Mesh = Laya.Mesh;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('_1gwOwGfQ_eR9gyROM95aA')\r\nexport class CameraMSAADemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    private renderTarget1:Laya.RenderTexture;\r\n    private renderTarget2:Laya.RenderTexture;\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera, true, true);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 1, 3));\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\t//\u65B9\u5411\u5149\u7684\u989C\u8272\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.5, 0.5, 0.5, 1);\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n        this.addObjectInScene(this.scene);\r\n        this.setMsaaOn();\r\n        super.addBottomButton( [\"\u5173\u95EDMSAA\",\"\u5F00\u542FMSAA\"] , this, [this.setMsaaOff, this.setMsaaOn] );\r\n        \r\n    }\r\n\r\n    setMsaaOn(): void {\r\n        \r\n        //\u5F00\u542FMSAA\r\n        this.camera.msaa = true;\r\n        if( Index.curPage )\r\n        {\r\n            this.renderTarget2 = new Laya.RenderTexture(Index.pageWidth*2, Index.pageHeight*2, Laya.RenderTargetFormat.R8G8B8A8, Laya.RenderTargetFormat.DEPTH_32, false, 4);\r\n            this.camera.renderTarget = this.renderTarget2;\r\n            Index.curPage.texture = new Laya.Texture(this.camera.renderTarget);\r\n        }\r\n\r\n    }\r\n\r\n    setMsaaOff(): void {\r\n\r\n        //\u5173\u95EDMSAA\r\n        this.camera.msaa = false;\r\n        if( Index.curPage )\r\n        {        \r\n            this.renderTarget1 = new Laya.RenderTexture(Index.pageWidth*2, Index.pageHeight*2, Laya.RenderTargetFormat.R8G8B8A8, Laya.RenderTargetFormat.DEPTH_32, false, 1);\r\n            this.camera.renderTarget = this.renderTarget1;\r\n            Index.curPage.texture = new Laya.Texture(this.camera.renderTarget);\r\n        }\r\n    }  \r\n\r\n    addObjectInScene(scene: Scene3D) {\r\n\r\n        let sprite: Sprite3D = new Sprite3D();\r\n        scene.addChild(sprite);\r\n\r\n        let planeMesh: Mesh = PrimitiveMesh.createPlane(10, 10,1,1);\r\n        let plane: MeshSprite3D = new MeshSprite3D(planeMesh);\r\n        scene.addChild(plane);\r\n\r\n        let cubeMesh: Mesh = PrimitiveMesh.createBox();\r\n        let sphere:Mesh = PrimitiveMesh.createSphere(0.3);\r\n        let cube0: MeshSprite3D = new MeshSprite3D(cubeMesh);\r\n        let cube1: MeshSprite3D = new MeshSprite3D(cubeMesh);\r\n        let cube2: MeshSprite3D = new MeshSprite3D(cubeMesh);\r\n        let cube3: MeshSprite3D = new MeshSprite3D(cubeMesh);\r\n        let sphere0:MeshSprite3D = new MeshSprite3D(sphere);\r\n        let sphere1:MeshSprite3D = new MeshSprite3D(sphere);\r\n        let sphere2:MeshSprite3D = new MeshSprite3D(sphere);\r\n        let sphere3:MeshSprite3D = new MeshSprite3D(sphere);\r\n\r\n        cube0.meshRenderer.sharedMaterial = new BlinnPhongMaterial;\r\n\r\n        sprite.addChild(cube0);\r\n        sprite.addChild(cube1);\r\n        sprite.addChild(cube2);\r\n        sprite.addChild(cube3);\r\n        sprite.addChild(sphere0);\r\n        sprite.addChild(sphere1);\r\n        sprite.addChild(sphere2);\r\n        sprite.addChild(sphere3);\r\n\r\n        cube1.transform.position = new Vector3(-1, 0, 0);\r\n        cube2.transform.position = new Vector3(-1, 0, 1);\r\n        cube3.transform.position = new Vector3(-1, 1, 0);\r\n\r\n        sphere0.transform.position = new Vector3(-3,0,0);\r\n        sphere1.transform.position = new Vector3(2,0,0);\r\n        sphere2.transform.position = new Vector3(2,0.5,0);\r\n        sphere3.transform.position = new Vector3(-1,0,2);\r\n    }\r\n\r\n    onDestroy(): void {\r\n\r\n        this.renderTarget1.destroy();\r\n        this.renderTarget2.destroy();\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Event = Laya.Event;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Vector2 = Laya.Vector2;\r\nimport HitResult = Laya.HitResult;\r\nimport Ray = Laya.Ray;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('PNomz1uQSMaRvUGntOePeQ')\r\nexport class CameraRay extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate _ray: Ray;\r\n\tprivate outs: HitResult[] = [];\r\n\tprivate point: Vector2 = new Vector2();\r\n\r\n\tprivate _forward: Vector3 = new Vector3(-1.0, -1.0, -1.0);\r\n\tprivate _tilingOffset: Vector4 = new Vector4(10, 10, 0, 0);\r\n\r\n\tprivate tmpVector: Vector3 = new Vector3(0, 0, 0);\r\n\tprivate tmpVector2: Vector3 = new Vector3(0, 0, 0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tsuper.setCameraDirectionLight(this.camera, this.scene.getChildByName(\"Direction Light\") as DirectionLight);\r\n\r\n\t\t//\u5E73\u9762\r\n\t\tvar plane: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(10, 10, 10, 10))));\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/grass.png\").then((tex: Texture2D) => {\r\n\t\t\tplaneMat.albedoTexture = tex;\r\n\t\t});\r\n\t\t//\u8BBE\u7F6E\u7EB9\u7406\u5E73\u94FA\u548C\u504F\u79FB\r\n\t\tplaneMat.tilingOffset = this._tilingOffset;\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tplane.meshRenderer.material = planeMat;\r\n\r\n\t\t//\u5E73\u9762\u6DFB\u52A0\u7269\u7406\u78B0\u649E\u4F53\u7EC4\u4EF6\r\n\t\tvar planeStaticCollider: PhysicsCollider = plane.addComponent(PhysicsCollider);\r\n\t\t//\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n\t\tvar planeShape: BoxColliderShape = new BoxColliderShape(10, 0, 10);\r\n\t\t//\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u5F62\u72B6\r\n\t\tplaneStaticCollider.colliderShape = planeShape;\r\n\t\t//\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u6469\u64E6\u529B\r\n\t\tplaneStaticCollider.friction = 2;\r\n\t\t//\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u5F39\u529B\r\n\t\tplaneStaticCollider.restitution = 0.3;\r\n\t\t//\u5C04\u7EBF\u521D\u59CB\u5316\uFF08\u5FC5\u987B\u521D\u59CB\u5316\uFF09\r\n\t\tthis._ray = new Ray(new Vector3(0, 0, 0), new Vector3(0, 0, 0));\r\n\r\n\t\tthis.owner.on( Event.MOUSE_DOWN, this, this.onMouseDown );\r\n\t}\r\n\r\n\taddBoxXYZ(x: number, y: number, z: number): void {\r\n\r\n\t\t//\u968F\u673A\u751F\u6210\u5750\u6807\u503C\r\n\t\tvar sX: number = Math.random() * 0.5;\r\n\t\tvar sY: number = Math.random() * 0.5;\r\n\t\tvar sZ: number = Math.random() * 0.5;\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n\t\tthis.tmpVector.setValue(x, y, z);\r\n\t\tbox.transform.position = this.tmpVector;\r\n\t\t//\u8BBE\u7F6E\u6B27\u62C9\u89D2\r\n\t\tthis.tmpVector2.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\tbox.transform.rotationEuler = this.tmpVector2;\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(sX, sY, sZ);\r\n\t\t//\u8BBE\u7F6E\u76D2\u5B50\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\tonMouseDown(e:Laya.Event): void {\r\n\r\n\t\tif( Index.curPage )\r\n\t\t{\r\n\t\t\tthis.point.x = e.target.mouseX * Index.screenWidth / Index.pageWidth;\r\n\t\t\tthis.point.y = e.target.mouseY * Index.screenHeight / Index.pageHeight;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.point.x = e.target.mouseX ;\r\n\t\t\tthis.point.y = e.target.mouseY ;\t\t\t\r\n\t\t}\r\n\r\n\t\tconsole.log(e.target.mouseX,e.target.mouseY);\r\n\t\t//\u4EA7\u751F\u5C04\u7EBF\r\n\t\tthis.camera.viewportPointToRay(this.point, this._ray);\r\n\t\t//\u62FF\u5230\u5C04\u7EBF\u78B0\u649E\u7684\u7269\u4F53\r\n\t\tthis.scene.physicsSimulation.rayCastAll(this._ray, this.outs);\r\n\r\n\t\t//\u5982\u679C\u78B0\u649E\u5230\u7269\u4F53\r\n\t\tif (this.outs.length != 0) {\r\n\r\n\t\t\tfor (var i: number = 0; i < this.outs.length; i++) {\r\n\t\t\t\t//\u5728\u5C04\u7EBF\u51FB\u4E2D\u7684\u4F4D\u7F6E\u6DFB\u52A0\u4E00\u4E2A\u7ACB\u65B9\u4F53\r\n\t\t\t\tthis.addBoxXYZ(this.outs[i].point.x, this.outs[i].point.y, this.outs[i].point.z);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('xtJ2S8REQfCPA4UwUl2fAQ')\r\nexport class D3SpaceToD2Space extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private layaMonkey3D:Laya.Sprite3D;\r\n    private layaMonkey2D:Laya.Image;\r\n    private _position:Laya.Vector3 = new Laya.Vector3();\r\n    private _outPos:Laya.Vector4 = new Laya.Vector4();\r\n    private scaleDelta:number = 0;\r\n    private clientScaleX = 0;\r\n    private clientScaleY = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.clientScaleY = Laya.stage.clientScaleX;\r\n        this.clientScaleX = Laya.stage.clientScaleY;\r\n\r\n        this.camera.transform.position = new Laya.Vector3(0, 0.75, 1.2);\r\n        this.camera.transform.rotationEuler = new Laya.Vector3( -30, 0, 0);\r\n        \r\n        Laya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\").then( (res)=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t});\r\n    }\r\n\r\n    private onComplete(res: any): void {\r\n        \r\n        this.layaMonkey3D = res.create();\r\n        this.scene.addChild(this.layaMonkey3D);\r\n        this.layaMonkey2D = this.owner.addChild(new Laya.Image(\"resources/res/threeDimen/monkey.png\")) as Laya.Image;\r\n        this.layaMonkey2D.anchorX = 0.5;\r\n        this.layaMonkey2D.scale(0.5,0.5);\r\n        Laya.timer.frameLoop(1, this, this.animate);\r\n    }\r\n\r\n    private animate(): void {\r\n\r\n        this._position.x = Math.sin(this.scaleDelta += 0.01);\r\n        this.layaMonkey3D.transform.position = this._position;\r\n        //\u8F6C\u6362\u5750\u6807\r\n        this.camera.viewport.project(this.layaMonkey3D.transform.position, this.camera.projectionViewMatrix, this._outPos);\r\n\r\n        let x = 0;\r\n        let y = 0;\r\n\r\n        //\u8D4B\u503C\u7ED92D        \r\n        if( Index.curPage && !Laya.Browser.PLATFORM_PC)\r\n        {\r\n            x = this._outPos.x / this.clientScaleX;\r\n            y = this._outPos.y / this.clientScaleY;\r\n        }\r\n        else if( Index.curPage )\r\n        {\r\n            x = this._outPos.x * Index.pageWidth * Index.scaleWidth / Laya.Browser.clientWidth;\r\n            y = this._outPos.y * Index.pageHeight * Index.scaleHeight / Laya.Browser.clientHeight;\r\n        }\r\n        else\r\n        {\r\n            x = this._outPos.x / this.clientScaleX;\r\n            y = this._outPos.y / this.clientScaleY;\r\n        }\r\n        this.layaMonkey2D.pos(x, y);\r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport SkyRenderer = Laya.SkyRenderer;\r\nimport Vector3 = Laya.Vector3;\r\nimport SkyBoxMaterial = Laya.SkyBoxMaterial;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport SkyBox = Laya.SkyBox;\r\nimport Color = Laya.Color;\r\nimport Viewport = Laya.Viewport;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('igTCxhadQ1-eQUgpBBNwtA')\r\nexport class MultiCamera extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 0.5, 1.5);\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u6E05\u9664\u989C\u8272\r\n\t\tthis.camera.clearColor = new Color(0.3, 0.3, 0.3, 1.0);\r\n\t\t//\u8BBE\u7F6E\u88C1\u526A\u7A7A\u95F4\u7684\u89C6\u53E3\r\n\t\tthis.camera.normalizedViewport = new Viewport(0, 0, 0.5, 1.0);\r\n\r\n\t\t//\u521B\u5EFA\u53F3\u8FB9\u76F8\u673A\r\n\t\tvar camera2: Camera = (<Camera>this.scene.addChild(new Camera(0, 0.1, 100)));\r\n\t\tcamera2.transform.position = new Vector3(0, 0.5, 1.5);\r\n\t\tcamera2.transform.rotationEuler = new Vector3(-15, 0, 0);\t\t\r\n\t\tcamera2.normalizedViewport = new Viewport(0.5, 0.0, 0.5, 1.0);\r\n\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u6E05\u9664\u6807\u5FD7\uFF0C\u4F7F\u7528\u5929\u7A7A\r\n\t\tcamera2.clearFlag = CameraClearFlags.Sky;\r\n\t\tcamera2.renderTarget = Index.rt;\r\n\r\n\t\t//\u52A0\u8F7D\u53F3\u8FB9\u6444\u50CF\u673A\u7684\u5929\u7A7A\u76D2\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skyBox/skyBox2/skyBox2.lmat\").then((mat: SkyBoxMaterial)=>{\r\n\t\t\tvar skyRenderer: SkyRenderer = camera2.skyRenderer;\r\n\t\t\tskyRenderer.mesh = SkyBox.instance;\r\n\t\t\tskyRenderer.material = mat;\r\n\t\t});\r\n\t\t\r\n\t\t//\u52A0\u8F7D3D lh\u8D44\u6E90\uFF0C\u4F7F\u7528res.create()\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\").then((res)=>{\r\n\t\t\tthis.scene.addChild(res.create());\r\n\t\t});\r\n\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('h9nFoGxRTBuOmmXyQm1JOQ')\r\nexport class Orthographicthiscamera extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0.2, 0.7));\r\n        //\u6B63\u4EA4\u6295\u5F71\u5C5E\u6027\u8BBE\u7F6E\uFF0C\u5F00\u542F\r\n\t\tthis.camera.orthographic = true;\r\n\t\t//\u6B63\u4EA4\u6295\u5F71\u5782\u76F4\u77E9\u9635\u5C3A\u5BF8\r\n\t\tthis.camera.orthographicVerticalSize = 3;            \r\n\t\tthis.camera.clearFlag = CameraClearFlags.SolidColor;\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\").then((res)=>{\r\n\r\n            let layaMonkey = res.create();\r\n\t\t\tthis.scene.addChild(layaMonkey);\r\n\t\t\tlayaMonkey.transform.position = new Vector3(0, 0, 0);            \r\n\t\t});\r\n\r\n        super.addBottomButton( [\"\u5173\u95ED\u6B63\u4EA4\u6295\u5F71\",\"\u5F00\u542F\u6B63\u4EA4\u6295\u5F71\"] , this, [this.setOrthographic1, this.setOrthographic2] );\r\n\t}\r\n \r\n    setOrthographic1(): void{\r\n\r\n        //\u6B63\u4EA4\u6295\u5F71\u5C5E\u6027\u8BBE\u7F6E\uFF0C\u5173\u95ED\r\n        this.camera.orthographic = false;\r\n    }\r\n\r\n    setOrthographic2(): void{\r\n\r\n        //\u6B63\u4EA4\u6295\u5F71\u5C5E\u6027\u8BBE\u7F6E\uFF0C\u5F00\u542F\r\n        this.camera.orthographic = true;\r\n\t\t//\u6B63\u4EA4\u6295\u5F71\u5782\u76F4\u77E9\u9635\u5C3A\u5BF8\r\n\t\tthis.camera.orthographicVerticalSize = 3;        \r\n    }    \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Text = Laya.Text;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport RenderTexture = Laya.RenderTexture;\r\nimport Ray = Laya.Ray;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0-mHcVkXSFCscI7gaNyolg')\r\nexport class PickPixel extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\t@property(Laya.Camera)\r\n    private camera2: Laya.Camera;  \r\n\r\n\tprivate scene1: Scene3D;\r\n\tprivate ray: Ray;\r\n\tprivate text: Text = new Text();\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * \u7EC4\u4EF6\u88AB\u6FC0\u6D3B\u540E\u6267\u884C\uFF0C\u6B64\u65F6\u6240\u6709\u8282\u70B9\u548C\u7EC4\u4EF6\u5747\u5DF2\u521B\u5EFA\u5B8C\u6BD5\uFF0C\u6B64\u65B9\u6CD5\u53EA\u6267\u884C\u4E00\u6B21\r\n     */\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\t//\u5C04\u7EBF\u521D\u59CB\u5316\uFF08\u5FC5\u987B\u521D\u59CB\u5316\uFF09\r\n\t\tthis.ray = new Ray(new Vector3(0, 0, 0), new Vector3(0, 0, 0));\r\n\t\t//\u9884\u52A0\u8F7D\u8D44\u6E90\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/scene/CourtyardScene/Courtyard.ls\").then((res)=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t});\r\n\t}\r\n\r\n\t\r\n\tprivate onComplete(res:any): void {\r\n\t\tthis.scene1 = res.create();\r\n\t\tthis.scene.addChild(this.scene1);\r\n\r\n\t\t//\u9009\u62E9\u6E32\u67D3\u76EE\u6807\u4E3A\u7EB9\u7406\r\n\t\tvar stageWidth: number = this.pageWidth;\r\n\t\tvar stageHeight: number = this.pageHeight;\r\n\r\n\t\tif( Index.curPage )\r\n        {\r\n\t\t\tstageWidth = Index.pageWidth;\r\n\t\t\tstageHeight = Index.pageHeight;\r\n\t\t}\r\n\t\tthis.camera2.renderTarget = RenderTexture.createFromPool(stageWidth, stageHeight, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.DEPTH_16, false, 1, false, true);\r\n\t\t//\u6E32\u67D3\u987A\u5E8F\r\n\t\tthis.camera2.renderingOrder = -1;\r\n\r\n\t\tthis.text.width = 200;\r\n\t\tthis.text.align = \"center\";\r\n\t\tthis.text.x = ( this.pageWidth - this.text.width) / 2;\r\n\t\tthis.text.y = 50;\r\n\t\tthis.text.overflow = Text.HIDDEN;\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.fontSize = 20;\r\n\t\tthis.text.text = \"\u9009\u4E2D\u7684\u989C\u8272\uFF1A\";\r\n\t\tthis.owner.addChild(this.text);\r\n\t}\r\n\r\n\tonMouseDown(e:Event) {\r\n\t\tvar posX: number = e.target.mouseX;\r\n\t\tvar posY: number = e.target.mouseY;\r\n\t\tvar out = new Uint8Array(4);\r\n\t\tthis.camera2.renderTarget.getData(posX, posY, 1, 1, out);\r\n\t\tthis.text.text =  out[0] + \" \" + out[1] + \" \" + out[2] + \" \" + out[3];\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Mesh = Laya.Mesh;\r\nimport Quaternion = Laya.Quaternion;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Color = Laya.Color;\r\nimport PixelLineSprite3D = Laya.PixelLineSprite3D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('OwzegTPuTFGeXxn47pusKA')\r\nexport class MeshLoad extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    private sprite3D: Sprite3D;\r\n\tprivate lineSprite3D: Sprite3D;\r\n\tprivate rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\tprivate curStateIndex: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 0.8, 1.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\r\n\t\t//\u521B\u5EFA\u7CBE\u7075\r\n\t\tthis.sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\t\tthis.lineSprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\r\n\t\tLaya.loader.load(\"resources/gltf/monster.glb\", Laya.Loader.HIERARCHY).then(res => {\r\n\t\t\tthis.sprite3D = res.create();\r\n\t\t\tvar ani = this.sprite3D.getComponent(Laya.Animator);\r\n\t\t\tani.speed = 0.0;\r\n\t\t\tthis.scene.addChild(this.sprite3D);\r\n\t\t\tthis.initSlider();\r\n\t\t});\r\n\t}\r\n\r\n\tinitSlider(): void {\r\n\t\tvar skins: any[] = [];\r\n\t\tskins.push(\"resources/image/hslider.png\", \"resources/image/hslider$bar.png\");\r\n\t\tLaya.loader.load(skins, Laya.Handler.create(this, this.onLoadComplete));\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tthis.placeHSlider();\r\n\t\tthis.placeHSlider1();\r\n\t}\r\n\r\n\tprivate placeHSlider(): void {\r\n\t\tvar hs: Laya.HSlider = new Laya.HSlider();\r\n\t\tvar label = new Laya.Label(\"target 20\");\r\n\t\tlabel.fontSize = 15;\r\n\t\tlabel.pos(this.pageWidth - 350, 170);\r\n\t\ths.skin = \"resources/image/hslider.png\";\r\n\t\ths.width = 300;\r\n\t\ths.pos(this.pageWidth - 350, 190);\r\n\t\ths.min = 0;\r\n\t\ths.max = 1;\r\n\t\ths.value = 0.1;\r\n\t\ths.tick = 0.01;\r\n\r\n\t\ths.changeHandler = new Laya.Handler(this, this.onChange);\r\n\t\tthis.box2D.addChild(hs);\r\n\t\tthis.box2D.addChild(label);\r\n\t}\r\n\r\n\tprivate placeHSlider1(): void {\r\n\t\tvar hs1: Laya.HSlider = new Laya.HSlider();\r\n\t\tvar label1 = new Laya.Label(\"target 26\");\r\n\t\tlabel1.fontSize = 15;\r\n\t\tlabel1.pos(this.pageWidth - 350, 210);\r\n\t\ths1.skin = \"resources/image/hslider.png\";\r\n\t\ths1.width = 300;\r\n\t\ths1.pos(this.pageWidth - 350, 230);\r\n\t\ths1.min = 0;\r\n\t\ths1.max = 1;\r\n\t\ths1.value = 0.1;\r\n\t\ths1.tick = 0.01;\r\n\r\n\t\ths1.changeHandler = new Laya.Handler(this, this.onChange1);\r\n\t\tthis.box2D.addChild(hs1);\r\n\t\tthis.box2D.addChild(label1);\r\n\t}\r\n\r\n\tprivate onChange(value: number): void {\r\n\t\tvar skin = this.sprite3D.getChildAt(0).getChildAt(0).getChildAt(0).getChildAt(0).getChildAt(0).getChildAt(0);\r\n\t\tvar skinRender : Laya.SkinnedMeshRenderer\u00A0= skin.getComponent(Laya.SkinnedMeshRenderer);\r\n\t\tskinRender.setMorphChannelWeight(\"target_20\", value)\r\n\t}\r\n\r\n\tprivate onChange1(value: number): void {\r\n\t\tvar skin = this.sprite3D.getChildAt(0).getChildAt(0).getChildAt(0).getChildAt(0).getChildAt(0).getChildAt(0);\r\n\t\tvar skinRender : Laya.SkinnedMeshRenderer\u00A0= skin.getComponent(Laya.SkinnedMeshRenderer);\r\n\t\tskinRender.setMorphChannelWeight(\"target_26\", value)\r\n\t}\r\n \r\n}\r\n\r\n// export class Tool {\r\n// \tprivate static transVertex0: Vector3 = new Vector3();\r\n// \tprivate static transVertex1: Vector3 = new Vector3();\r\n// \tprivate static transVertex2: Vector3 = new Vector3();\r\n// \tprivate static corners: Vector3[] = [];\r\n// \tstatic linearModel(sprite3D: Sprite3D, lineSprite3D: PixelLineSprite3D, color: Color): void {\r\n// \t\tif (sprite3D instanceof MeshSprite3D) {\r\n// \t\t\tvar meshSprite3D: MeshSprite3D = <MeshSprite3D>sprite3D;\r\n// \t\t\tvar mesh: Mesh = meshSprite3D.meshFilter.sharedMesh;\r\n// \t\t\tvar positions: Array<Vector3> = [];\r\n// \t\t\tmesh.getPositions(positions);\r\n// \t\t\tvar indices = mesh.getSubMesh(0).getIndices();\r\n\r\n// \t\t\tfor (var i: number = 0; i < indices.length; i += 3) {\r\n// \t\t\t\tvar vertex0: Vector3 = positions[indices[i]];\r\n// \t\t\t\tvar vertex1: Vector3 = positions[indices[i + 1]];\r\n// \t\t\t\tvar vertex2: Vector3 = positions[indices[i + 2]];\r\n// \t\t\t\tVector3.transformCoordinate(vertex0, meshSprite3D.transform.worldMatrix, this.transVertex0);\r\n// \t\t\t\tVector3.transformCoordinate(vertex1, meshSprite3D.transform.worldMatrix, this.transVertex1);\r\n// \t\t\t\tVector3.transformCoordinate(vertex2, meshSprite3D.transform.worldMatrix, this.transVertex2);\r\n// \t\t\t\tlineSprite3D.addLine(this.transVertex0, this.transVertex1, color, color);\r\n// \t\t\t\tlineSprite3D.addLine(this.transVertex1, this.transVertex2, color, color);\r\n// \t\t\t\tlineSprite3D.addLine(this.transVertex2, this.transVertex0, color, color);\r\n// \t\t\t}\r\n// \t\t}\r\n\r\n// \t\tfor (var i: number = 0, n: number = sprite3D.numChildren; i < n; i++)\r\n// \t\t\tTool.linearModel((<Sprite3D>sprite3D.getChildAt(i)), lineSprite3D, color);\r\n// \t}\r\n\r\n// \tstatic DrawBoundingBox(sprite3D: Sprite3D, sprite: Sprite3D, color: Color): void {\r\n// \t\t(<MeshSprite3D>sprite3D).meshRenderer.bounds.getCorners(Tool.corners);\r\n\r\n// \t\tvar rotate: Vector3 = new Vector3(0, 0, 90);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[1], rotate, sprite);\r\n// \t\trotate.setValue(0, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[2], rotate, sprite);\r\n// \t\trotate.setValue(0, 0, 90);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[3], rotate, sprite);\r\n// \t\trotate.setValue(0, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[0], rotate, sprite);\r\n\r\n// \t\trotate.setValue(0, 0, 90);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[4], Tool.corners[5], rotate, sprite);\r\n// \t\trotate.setValue(0, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[5], Tool.corners[6], rotate, sprite);\r\n// \t\trotate.setValue(0, 0, 90);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[6], Tool.corners[7], rotate, sprite);\r\n// \t\trotate.setValue(0, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[7], Tool.corners[4], rotate, sprite);\r\n\r\n// \t\trotate.setValue(90, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[4], rotate, sprite);\r\n// \t\trotate.setValue(90, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[5], rotate, sprite);\r\n\r\n// \t\trotate.setValue(90, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[6], rotate, sprite);\r\n// \t\trotate.setValue(90, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[7], rotate, sprite);\r\n// \t}\r\n\r\n// \tprivate static DrawTwelveLines(start: Vector3, end: Vector3, rotate: Vector3, sprite3D: Sprite3D): void {\r\n// \t\tvar length: number = Vector3.distance(start, end);\r\n// \t\tvar cylinder: MeshSprite3D = (<MeshSprite3D>sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCylinder(0.004, length, 3))));\r\n// \t\tcylinder.transform.rotate(rotate, true, false);\r\n// \t\tvar cylPos: Vector3 = cylinder.transform.position;\r\n// \t\tvar x: number = start.x + end.x;\r\n// \t\tvar y: number = start.y + end.y;\r\n// \t\tvar z: number = start.z + end.z;\r\n// \t\tcylPos.setValue(x / 2, y / 2, z / 2);\r\n// \t\tcylinder.transform.position = cylPos;\r\n// \t}\r\n\r\n// \tconstructor() {\r\n// \t}\r\n\r\n// }", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Mesh = Laya.Mesh;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport MeshFilter = Laya.MeshFilter;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ep8-goODTkWEzokAASygdg')\r\nexport class ChangeMesh extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate sphere: MeshSprite3D;\r\n\tprivate index: number = 0;\r\n\tprivate sphereMesh: Mesh;\r\n\tprivate box: Mesh;\r\n\tprivate capsule: Mesh;\r\n\tprivate cylinder: Mesh;\r\n\tprivate cone: Mesh;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n\t\t//\u83B7\u53D6\u7403\u578B\u7CBE\u7075\r\n\t\tthis.sphere = (<MeshSprite3D>this.scene.getChildByName(\"Sphere\"));\r\n\t\t//\u83B7\u53D6\u7CBE\u7075\u7684mesh\r\n\t\tthis.sphereMesh = this.sphere.getComponent(MeshFilter).sharedMesh;\r\n\t\t\r\n\t\tsuper.addBottomButton( [\"\u5207\u6362mesh\",\"\u5207\u6362mesh\",\"\u5207\u6362mesh\"] , this, [this.setMesh, this.setMesh, this.setMesh]);\r\n\r\n\t}\r\n\r\n\tsetMesh(): void {\r\n\t\tthis.index++;\r\n\t\tif (this.index % 3 === 1) {\r\n\t\t\t//\u5207\u6362mesh\r\n\t\t\tthis.box = PrimitiveMesh.createBox(0.5, 0.5, 0.5);\r\n\t\t\tthis.sphere.getComponent(MeshFilter).sharedMesh = this.box;\r\n\t\t} else if (this.index % 3 === 2) {\r\n\t\t\t//\u5207\u6362mesh\r\n\t\t\tthis.capsule = PrimitiveMesh.createCapsule(0.25, 1, 10, 20);\r\n\t\t\tthis.sphere.getComponent(MeshFilter).sharedMesh = this.capsule;\r\n\t\t} else {\r\n\t\t\t//\u5207\u6362mesh\r\n\t\t\tthis.sphere.getComponent(MeshFilter).sharedMesh = this.sphereMesh;\r\n\t\t}\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Color = Laya.Color;\r\nimport PixelLineSprite3D = Laya.PixelLineSprite3D;\r\nimport Mesh = Laya.Mesh;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('TJ3FPg5bQ--LAUMACNoRng')\r\nexport class CustomMesh extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    private sprite3D: Sprite3D;\r\n\tprivate lineSprite3D: Sprite3D;\r\n\tprivate curStateIndex: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 0.8, 1.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\r\n\t\tthis.sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\t\tthis.lineSprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\r\n\t\t//\u6B63\u65B9\u4F53\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createBox(0.5, 0.5, 0.5))));\r\n\t\tbox.transform.position = new Vector3(2.0, 0.25, 0);\r\n\t\tbox.transform.rotate(new Vector3(0, 45, 0), false, false);\r\n\t\t//\u4E3A\u6B63\u65B9\u4F53\u6DFB\u52A0\u50CF\u7D20\u7EBF\u6E32\u67D3\u7CBE\u7075\r\n\t\tvar boxLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(100)));\r\n\t\t//\u8BBE\u7F6E\u50CF\u7D20\u7EBF\u6E32\u67D3\u7CBE\u7075\u7EBF\u6A21\u5F0F\r\n\t\tTool.linearModel(box, boxLineSprite3D, Color.GREEN);\r\n\r\n\t\t//\u7403\u4F53\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(0.25, 20, 20))));\r\n\t\tsphere.transform.position = new Vector3(1.0, 0.25, 0);\r\n\t\tvar sphereLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(3500)));\r\n\t\tTool.linearModel(sphere, sphereLineSprite3D, Color.GREEN);\r\n\r\n\t\t//\u5706\u67F1\u4F53\r\n\t\tvar cylinder: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCylinder(0.25, 1, 20))));\r\n\t\tcylinder.transform.position = new Vector3(0, 0.5, 0);\r\n\t\tvar cylinderLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(1000)));\r\n\t\tTool.linearModel(cylinder, cylinderLineSprite3D, Color.GREEN);\r\n\r\n\t\t//\u80F6\u56CA\u4F53\r\n\t\tvar capsule: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(0.25, 1, 10, 20))));\r\n\t\tcapsule.transform.position = new Vector3(-1.0, 0.5, 0);\r\n\t\tvar capsuleLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(3000)));\r\n\t\tTool.linearModel(capsule, capsuleLineSprite3D, Color.GREEN);\r\n\r\n\t\t//\u5706\u9525\u4F53\r\n\t\tvar cone: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCone(0.25, 0.75))));\r\n\t\tcone.transform.position = new Vector3(-2.0, 0.375, 0);\r\n\t\tvar coneLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(500)));\r\n\t\tTool.linearModel(cone, coneLineSprite3D, Color.GREEN);\r\n\r\n\t\t//\u5E73\u9762\r\n\t\tvar plane: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(6, 6, 10, 10))));\r\n\t\tvar planeLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(1000)));\r\n\t\tTool.linearModel(plane, planeLineSprite3D, Color.GRAY);\r\n\r\n\t\tthis.lineSprite3D.active = false;\r\n\t\tsuper.addBottomButton( [\"\u7F51\u683C\u6A21\u5F0F\",\"\u6B63\u5E38\u6A21\u5F0F\"] , this, [this.setMesh, this.setMesh]);\r\n\t}\r\n\r\n\tsetMesh(): void {\r\n\t\tif (++this.curStateIndex % 2 == 1) {\r\n\t\t\tthis.sprite3D.active = false;\r\n\t\t\tthis.lineSprite3D.active = true;\r\n\t\t} else {\r\n\t\t\tthis.sprite3D.active = true;\r\n\t\t\tthis.lineSprite3D.active = false;\r\n\t\t}\r\n\t}\r\n \r\n}\r\n\r\nexport class Tool {\r\n\tprivate static transVertex0: Vector3 = new Vector3();\r\n\tprivate static transVertex1: Vector3 = new Vector3();\r\n\tprivate static transVertex2: Vector3 = new Vector3();\r\n\tprivate static corners: Vector3[] = [];\r\n\tstatic linearModel(sprite3D: Sprite3D, lineSprite3D: PixelLineSprite3D, color: Color): void {\r\n\t\tif (sprite3D instanceof MeshSprite3D) {\r\n\t\t\tvar meshSprite3D: MeshSprite3D = <MeshSprite3D>sprite3D;\r\n\t\t\tvar mesh: Mesh = meshSprite3D.meshFilter.sharedMesh;\r\n\t\t\tvar positions: Array<Vector3> = [];\r\n\t\t\tmesh.getPositions(positions);\r\n\t\t\tvar indices = mesh.getSubMesh(0).getIndices();\r\n\r\n\t\t\tfor (var i: number = 0; i < indices.length; i += 3) {\r\n\t\t\t\tvar vertex0: Vector3 = positions[indices[i]];\r\n\t\t\t\tvar vertex1: Vector3 = positions[indices[i + 1]];\r\n\t\t\t\tvar vertex2: Vector3 = positions[indices[i + 2]];\r\n\t\t\t\tVector3.transformCoordinate(vertex0, meshSprite3D.transform.worldMatrix, this.transVertex0);\r\n\t\t\t\tVector3.transformCoordinate(vertex1, meshSprite3D.transform.worldMatrix, this.transVertex1);\r\n\t\t\t\tVector3.transformCoordinate(vertex2, meshSprite3D.transform.worldMatrix, this.transVertex2);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex0, this.transVertex1, color, color);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex1, this.transVertex2, color, color);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex2, this.transVertex0, color, color);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var i: number = 0, n: number = sprite3D.numChildren; i < n; i++)\r\n\t\t\tTool.linearModel((<Sprite3D>sprite3D.getChildAt(i)), lineSprite3D, color);\r\n\t}\r\n\r\n\tstatic DrawBoundingBox(sprite3D: Sprite3D, sprite: Sprite3D, color: Color): void {\r\n\t\t(<MeshSprite3D>sprite3D).meshRenderer.bounds.getCorners(Tool.corners);\r\n\r\n\t\tvar rotate: Vector3 = new Vector3(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[1], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[2], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[3], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[0], rotate, sprite);\r\n\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[4], Tool.corners[5], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[5], Tool.corners[6], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[6], Tool.corners[7], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[7], Tool.corners[4], rotate, sprite);\r\n\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[4], rotate, sprite);\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[5], rotate, sprite);\r\n\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[6], rotate, sprite);\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[7], rotate, sprite);\r\n\t}\r\n\r\n\tprivate static DrawTwelveLines(start: Vector3, end: Vector3, rotate: Vector3, sprite3D: Sprite3D): void {\r\n\t\tvar length: number = Vector3.distance(start, end);\r\n\t\tvar cylinder: MeshSprite3D = (<MeshSprite3D>sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCylinder(0.004, length, 3))));\r\n\t\tcylinder.transform.rotate(rotate, true, false);\r\n\t\tvar cylPos: Vector3 = cylinder.transform.position;\r\n\t\tvar x: number = start.x + end.x;\r\n\t\tvar y: number = start.y + end.y;\r\n\t\tvar z: number = start.z + end.z;\r\n\t\tcylPos.setValue(x / 2, y / 2, z / 2);\r\n\t\tcylinder.transform.position = cylPos;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n}\r\n\r\n\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Mesh = Laya.Mesh;\r\nimport Quaternion = Laya.Quaternion;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Color = Laya.Color;\r\nimport PixelLineSprite3D = Laya.PixelLineSprite3D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('JMpXAtoKTQu7RI4b2TnJQA')\r\nexport class MeshLoad extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    private sprite3D: Sprite3D;\r\n\tprivate lineSprite3D: Sprite3D;\r\n\tprivate rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\tprivate curStateIndex: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 0.8, 1.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\r\n\t\t//\u521B\u5EFA\u7CBE\u7075\r\n\t\tthis.sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\t\tthis.lineSprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\r\n\t\t//\u52A0\u8F7Dmesh\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\").then((mesh: Mesh)=> {\r\n\t\t\tvar layaMonkey: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(mesh)));\r\n\t\t\tlayaMonkey.transform.localScale = new Vector3(0.3, 0.3, 0.3);\r\n\t\t\tlayaMonkey.transform.rotation = new Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\r\n\t\t\t//\u521B\u5EFA\u50CF\u7D20\u7EBF\u6E32\u67D3\u7CBE\u7075\r\n\t\t\tvar layaMonkeyLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(5000)));\r\n\t\t\t//\u8BBE\u7F6E\u50CF\u7D20\u7EBF\u6E32\u67D3\u7CBE\u7075\u7EBF\u6A21\u5F0F\r\n\t\t\tTool.linearModel(layaMonkey, layaMonkeyLineSprite3D, Color.GREEN);\r\n\r\n\t\t\tvar plane: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(6, 6, 10, 10))));\r\n\t\t\tplane.transform.position = new Vector3(0, 0, -1);\r\n\t\t\tvar planeLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(1000)));\r\n\t\t\tTool.linearModel(plane, planeLineSprite3D, Color.GRAY);\r\n\r\n\t\t\t//\u8BBE\u7F6E\u65F6\u949F\u5B9A\u65F6\u6267\u884C\r\n\t\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\t\tlayaMonkeyLineSprite3D.transform.rotate(this.rotation, false);\r\n\t\t\t\tlayaMonkey.transform.rotate(this.rotation, false);\r\n\t\t\t});\r\n\r\n\t\t\tthis.lineSprite3D.active = false;\r\n\t\t\tsuper.addBottomButton( [\"\u7F51\u683C\u6A21\u5F0F\",\"\u6B63\u5E38\u6A21\u5F0F\"] , this, [this.setMesh, this.setMesh]);\r\n\t\t});\r\n\t}\r\n\r\n\tsetMesh(): void {\r\n\t\t\r\n\t\tif (++this.curStateIndex % 2 == 1) {\r\n\t\t\tthis.sprite3D.active = false;\r\n\t\t\tthis.lineSprite3D.active = true;\r\n\t\t} else {\r\n\t\t\tthis.sprite3D.active = true;\r\n\t\t\tthis.lineSprite3D.active = false;\r\n\t\t}\r\n\t}\r\n \r\n}\r\n\r\nexport class Tool {\r\n\tprivate static transVertex0: Vector3 = new Vector3();\r\n\tprivate static transVertex1: Vector3 = new Vector3();\r\n\tprivate static transVertex2: Vector3 = new Vector3();\r\n\tprivate static corners: Vector3[] = [];\r\n\tstatic linearModel(sprite3D: Sprite3D, lineSprite3D: PixelLineSprite3D, color: Color): void {\r\n\t\tif (sprite3D instanceof MeshSprite3D) {\r\n\t\t\tvar meshSprite3D: MeshSprite3D = <MeshSprite3D>sprite3D;\r\n\t\t\tvar mesh: Mesh = meshSprite3D.meshFilter.sharedMesh;\r\n\t\t\tvar positions: Array<Vector3> = [];\r\n\t\t\tmesh.getPositions(positions);\r\n\t\t\tvar indices = mesh.getSubMesh(0).getIndices();\r\n\r\n\t\t\tfor (var i: number = 0; i < indices.length; i += 3) {\r\n\t\t\t\tvar vertex0: Vector3 = positions[indices[i]];\r\n\t\t\t\tvar vertex1: Vector3 = positions[indices[i + 1]];\r\n\t\t\t\tvar vertex2: Vector3 = positions[indices[i + 2]];\r\n\t\t\t\tVector3.transformCoordinate(vertex0, meshSprite3D.transform.worldMatrix, this.transVertex0);\r\n\t\t\t\tVector3.transformCoordinate(vertex1, meshSprite3D.transform.worldMatrix, this.transVertex1);\r\n\t\t\t\tVector3.transformCoordinate(vertex2, meshSprite3D.transform.worldMatrix, this.transVertex2);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex0, this.transVertex1, color, color);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex1, this.transVertex2, color, color);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex2, this.transVertex0, color, color);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var i: number = 0, n: number = sprite3D.numChildren; i < n; i++)\r\n\t\t\tTool.linearModel((<Sprite3D>sprite3D.getChildAt(i)), lineSprite3D, color);\r\n\t}\r\n\r\n\tstatic DrawBoundingBox(sprite3D: Sprite3D, sprite: Sprite3D, color: Color): void {\r\n\t\t(<MeshSprite3D>sprite3D).meshRenderer.bounds.getCorners(Tool.corners);\r\n\r\n\t\tvar rotate: Vector3 = new Vector3(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[1], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[2], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[3], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[0], rotate, sprite);\r\n\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[4], Tool.corners[5], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[5], Tool.corners[6], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[6], Tool.corners[7], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[7], Tool.corners[4], rotate, sprite);\r\n\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[4], rotate, sprite);\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[5], rotate, sprite);\r\n\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[6], rotate, sprite);\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[7], rotate, sprite);\r\n\t}\r\n\r\n\tprivate static DrawTwelveLines(start: Vector3, end: Vector3, rotate: Vector3, sprite3D: Sprite3D): void {\r\n\t\tvar length: number = Vector3.distance(start, end);\r\n\t\tvar cylinder: MeshSprite3D = (<MeshSprite3D>sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCylinder(0.004, length, 3))));\r\n\t\tcylinder.transform.rotate(rotate, true, false);\r\n\t\tvar cylPos: Vector3 = cylinder.transform.position;\r\n\t\tvar x: number = start.x + end.x;\r\n\t\tvar y: number = start.y + end.y;\r\n\t\tvar z: number = start.z + end.z;\r\n\t\tcylPos.setValue(x / 2, y / 2, z / 2);\r\n\t\tcylinder.transform.position = cylPos;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport CapsuleColliderShape = Laya.CapsuleColliderShape;\r\nimport CylinderColliderShape = Laya.CylinderColliderShape;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport ConeColliderShape = Laya.ConeColliderShape;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('P3TKAvT8RUiCkmP4rfnM3g')\r\nexport class PhysicsWorld_BaseCollider extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\tvar resource:any[] = [\r\n\r\n            \"resources/res/threeDimen/Physics/rocks.jpg\",\r\n            \"resources/res/threeDimen/Physics/plywood.jpg\",\r\n\t\t\t\"resources/res/threeDimen/Physics/wood.jpg\",\r\n\t\t\t\"resources/res/threeDimen/Physics/steel2.jpg\",\r\n\t\t\t\"resources/res/threeDimen/Physics/steel.jpg\"\r\n        ];\r\n\r\n        Laya.loader.load(resource).then( (res:any[] )=>{\r\n\r\n\t\t\t//\u521D\u59CB\u5316\u8D44\u6E90\r\n            this.onComplete(res);\r\n        });\r\n\r\n\t}\r\n\r\n\tonComplete(res:any[]):void{\r\n\r\n        //\u5E73\u9762\r\n        var plane:Laya.MeshSprite3D = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(20, 20, 10, 10))) as Laya.MeshSprite3D;\r\n        var planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n        planeMat.albedoTexture = res[2];\r\n        //\u8BBE\u7F6E\u7EB9\u7406\u5E73\u94FA\u548C\u504F\u79FB\r\n        planeMat.tilingOffset = new Vector4(2, 2, 0, 0);\r\n        //\u8BBE\u7F6E\u6750\u8D28\r\n        plane.meshRenderer.material = planeMat;\r\n\r\n        //\u5E73\u9762\u6DFB\u52A0\u7269\u7406\u78B0\u649E\u4F53\u7EC4\u4EF6\r\n        var planeStaticCollider: PhysicsCollider = plane.addComponent(PhysicsCollider);\r\n        //\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n        var planeShape: BoxColliderShape = new BoxColliderShape(10, 0, 10);\r\n        //\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u5F62\u72B6\r\n        planeStaticCollider.colliderShape = planeShape;\r\n        //\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u6469\u64E6\u529B\r\n        planeStaticCollider.friction = 2;\r\n        //\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u5F39\u529B\r\n        planeStaticCollider.restitution = 0.3;\r\n\r\n\t\tthis.addBox();\r\n        //\u968F\u673A\u751F\u6210\u7CBE\u7075\r\n        this.randomAddPhysicsSprite();\r\n\t}\r\n    \r\n\trandomAddPhysicsSprite(): void {\r\n\t\tLaya.timer.loop(1000, this, ()=> {\r\n\t\t\tvar random: number = Math.floor(Math.random() * 5) % 5;\r\n\t\t\tswitch (random) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tthis.addBox();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.addSphere();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tthis.addCapsule();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tthis.addCone();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tthis.addCylinder();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\taddBox(): void {\r\n\r\n\t\t//\u968F\u673A\u751F\u6210\u5750\u6807\u503C\r\n\t\tvar sX: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sY: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sZ: number = Math.random() * 0.75 + 0.25;\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tbox.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/rocks.jpg\").then((res)=>{\r\n\t\t\t(box.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\r\n\t\tvar transform: Transform3D = box.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u6B27\u62C9\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(sX, sY, sZ);\r\n\t\t//\u8BBE\u7F6E\u76D2\u5B50\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddSphere(): void {\r\n\r\n\t\t//\u968F\u673A\u751F\u6210\u534A\u5F84\u5927\u5C0F\r\n\t\tvar radius: number = Math.random() * 0.2 + 0.2;\r\n\t\t//\u521B\u5EFA\u7403\u578BMeshSprite3D\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tsphere.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/plywood.jpg\").then((res)=>{\r\n\t\t\t(sphere.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\t\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\t//\u6DFB\u52A0\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddCapsule(): void {\r\n\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\t//\u521B\u5EFA\u80F6\u56CAMeshSprite3D\r\n\t\tvar capsule: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(raidius, height))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tcapsule.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((res)=>{\r\n\t\t\t(capsule.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\tvar transform: Transform3D = capsule.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u80F6\u56CAMeshSprite3D\u7684\u6B27\u62C9\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = capsule.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar sphereShape: CapsuleColliderShape = new CapsuleColliderShape(raidius, height);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddCone(): void {\r\n\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\t//\u521B\u5EFA\u5706\u9525MeshSprite3D\r\n\t\tvar cone: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createCone(raidius, height));\r\n\t\tthis.scene.addChild(cone);\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tcone.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/steel2.jpg\").then((res)=>{\r\n\t\t\t(cone.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\t//\u8BBE\u7F6E\u4F4D\u7F6E\r\n\t\tvar pos: Vector3 = cone.transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\tcone.transform.position = pos;\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = cone.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar coneShape: ConeColliderShape = new ConeColliderShape(raidius, height);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = coneShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddCylinder(): void {\r\n\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\t//\u521B\u5EFA\u5706\u9525MeshSprite3D\r\n\t\tvar cylinder: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createCylinder(raidius, height));\r\n\t\tthis.scene.addChild(cylinder);\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tcylinder.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/steel.jpg\").then((res)=>{\r\n\t\t\t(cylinder.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\r\n\t\t//\u8BBE\u7F6E\u4F4D\u7F6E\r\n\t\tvar transform: Transform3D = cylinder.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u5706\u67F1MeshSprite3D\u7684\u6B27\u62C9\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = cylinder.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar cylinderShape: CylinderColliderShape = new CylinderColliderShape(raidius, height);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = cylinderShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Event = Laya.Event;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport HitResult = Laya.HitResult;\r\nimport Vector2 = Laya.Vector2;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport Ray = Laya.Ray;\r\nimport Mesh = Laya.Mesh;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('v_IPPfidQxyiJcaWKRAAjQ')\r\nexport class PhysicsWorld_BuildingBlocks extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate ray: Ray = new Ray(new Vector3(0, 0, 0), new Vector3(0, 0, 0));\r\n\tprivate point: Vector2 = new Vector2();\r\n\tprivate _outHitResult: HitResult = new HitResult();\r\n\tprivate hasSelectedSprite: Sprite3D;\r\n\tprivate hasSelectedRigidBody: Rigidbody3D;\r\n\tprivate ZERO = new Vector3(0, 0, 0);\r\n\tprivate ONE = new Vector3(1, 1, 1);\r\n\tprivate posX: number;\r\n\tprivate posY: number;\r\n\tprivate delX: number;\r\n\tprivate delY: number;\r\n\r\n\tprivate mat: BlinnPhongMaterial;\r\n\tprivate mesh1: Mesh;\r\n\tprivate mesh2: Mesh;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tvar resource:any[] = [\r\n\r\n            \"resources/res/threeDimen/Physics/wood.jpg\",\r\n            \"resources/res/threeDimen/Physics/plywood.jpg\",\r\n        ];\r\n\r\n        Laya.loader.load(resource).then( (res:any[] )=>{\r\n            this.onComplete(res);\r\n        });\r\n\r\n\t}\r\n\r\n\tonComplete(res:any[]):void{\t\r\n        this.camera.transform.position = new Vector3(4.5, 6, 4.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-30, 45, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, 1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\r\n\t\tvar plane: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(13, 13, 10, 10))));\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tplaneMat.albedoTexture = res[0];\r\n\r\n\t\tplaneMat.tilingOffset = new Vector4(2, 2, 0, 0);\r\n\t\tplane.meshRenderer.material = planeMat;\r\n\t\tplane.meshRenderer.receiveShadow = true;\r\n\r\n\t\tthis.mesh1 = PrimitiveMesh.createBox(2, 0.33, 0.5);\r\n\t\tthis.mesh2 = PrimitiveMesh.createBox(0.5, 0.33, 2);\r\n\t\tthis.mat = new BlinnPhongMaterial();\r\n\r\n\t\t//\u7EB9\u7406\u8D44\u6E90\r\n\t\tthis.mat.albedoTexture = res[1];\r\n\r\n\t\tvar rigidBody: PhysicsCollider = (<PhysicsCollider>plane.addComponent(PhysicsCollider));\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(13, 0, 13);\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\tthis.addMouseEvent();\r\n\r\n\t\tthis.addBox();\r\n\t}\r\n\r\n\taddBox(): void {\r\n\r\n\t\tfor (var i: number = 0; i < 8; i++) {\r\n\t\t\tthis.addVerticalBox(-0.65, 0.165 + i * 0.33 * 2, 0);\r\n\t\t\tthis.addVerticalBox(0, 0.165 + i * 0.33 * 2, 0);\r\n\t\t\tthis.addVerticalBox(0.65, 0.165 + i * 0.33 * 2, 0);\r\n\r\n\t\t\tthis.addHorizontalBox(0, 0.165 + 0.33 + i * 0.33 * 2, -0.65);\r\n\t\t\tthis.addHorizontalBox(0, 0.165 + 0.33 + i * 0.33 * 2, 0);\r\n\t\t\tthis.addHorizontalBox(0, 0.165 + 0.33 + i * 0.33 * 2, 0.65);\r\n\t\t}\r\n\t}\r\n\r\n\taddHorizontalBox(x: number, y: number, z: number): void {\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(this.mesh1)));\r\n\t\tbox.meshRenderer.material = this.mat;\r\n\t\tbox.meshRenderer.castShadow = true;\r\n\t\tbox.meshRenderer.receiveShadow = true;\r\n\t\tbox.transform.position = new Vector3(x, y, z);\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = (<Rigidbody3D>box.addComponent(Rigidbody3D));\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.friction = 0.4;\r\n\t\trigidBody.restitution = 0.2;\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(2, 0.33, 0.5);\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t}\r\n\r\n\taddVerticalBox(x: number, y: number, z: number): void {\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(this.mesh2)));\r\n\t\tbox.meshRenderer.material = this.mat;\r\n\t\tbox.meshRenderer.castShadow = true;\r\n\t\tbox.meshRenderer.receiveShadow = true;\r\n\t\tbox.transform.position = new Vector3(x, y, z);\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = (<Rigidbody3D>box.addComponent(Rigidbody3D));\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.friction = 0.4;\r\n\t\trigidBody.restitution = 0.2;\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(0.5, 0.33, 2);\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t}\r\n\r\n\taddMouseEvent(): void {\r\n\t\tthis.owner.on(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n\t\tthis.owner.on(Event.MOUSE_UP, this, this.onMouseUp);\r\n\t\tthis.owner.on(Event.MOUSE_OUT, this, this.onMouseOut);\r\n\t}\r\n\r\n\tonMouseDown(e:Event): void {\r\n\t\tthis.posX = this.point.x = e.target.mouseX * Index.screenWidth / Index.pageWidth;\r\n\t\tthis.posY = this.point.y = e.target.mouseY * Index.screenHeight / Index.pageHeight;\r\n\r\n\t\tthis.camera.viewportPointToRay(this.point, this.ray);\r\n\t\tthis.scene.physicsSimulation.rayCast(this.ray, this._outHitResult);\r\n\t\tif (this._outHitResult.succeeded) {\r\n\t\t\tvar collider: Rigidbody3D = <Rigidbody3D>this._outHitResult.collider;\r\n\t\t\tthis.hasSelectedSprite = <Sprite3D>collider.owner;\r\n\t\t\tthis.hasSelectedRigidBody = collider;\r\n\t\t\tcollider.angularFactor = this.ZERO;\r\n\t\t\tcollider.angularVelocity = this.ZERO;\r\n\t\t\tcollider.linearFactor = this.ZERO;\r\n\t\t\tcollider.linearVelocity = this.ZERO;\r\n\t\t}\r\n\t\tthis.owner.on(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n\t}\r\n\r\n\tonMouseMove(e:Event): void {\r\n\r\n\t\tthis.delX = e.target.mouseX * Index.screenWidth / Index.pageWidth - this.posX;\r\n\t\tthis.delY = e.target.mouseY * Index.screenHeight / Index.pageHeight - this.posY;\r\n\t\tif (this.hasSelectedSprite) {\r\n\t\t\tthis.hasSelectedRigidBody.linearVelocity = new Vector3(this.delX / 4, 0, this.delY / 4);\r\n\t\t}\r\n\t\tthis.posX = e.target.mouseX * Index.screenWidth / Index.pageWidth;\r\n\t\tthis.posY = e.target.mouseY * Index.screenHeight / Index.pageHeight;\r\n\t}\r\n\r\n\tonMouseUp(e:Event): void {\r\n\t\tthis.owner.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n\t\tif (this.hasSelectedSprite) {\r\n\t\t\tthis.hasSelectedRigidBody.angularFactor = this.ONE;\r\n\t\t\tthis.hasSelectedRigidBody.linearFactor = this.ONE;\r\n\t\t\tthis.hasSelectedSprite = null;\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseOut(e:Event): void {\r\n\t\tthis.owner.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n\t\tif (this.hasSelectedSprite) {\r\n\t\t\tthis.hasSelectedRigidBody.angularFactor = this.ONE;\r\n\t\t\tthis.hasSelectedRigidBody.linearFactor = this.ONE;\r\n\t\t\tthis.hasSelectedSprite = null;\r\n\t\t}\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nimport Sprite3D = Laya.Sprite3D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ICSLxKDiQ7iqTLkMmI373w')\r\nexport class PhysicsWorld_Character extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate kinematicSphere: Sprite3D;\r\n\tprivate translateW: Vector3 = new Vector3(0, 0, -0.2);\r\n\tprivate translateS: Vector3 = new Vector3(0, 0, 0.2);\r\n\tprivate translateA: Vector3 = new Vector3(-0.2, 0, 0);\r\n\tprivate translateD: Vector3 = new Vector3(0.2, 0, 0);\r\n\tprivate mat1: BlinnPhongMaterial;\r\n\tprivate mat2: BlinnPhongMaterial;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\tvar resource:any[] = [\r\n\r\n            \"resources/res/threeDimen/Physics/plywood.jpg\",\r\n            \"resources/res/threeDimen/Physics/wood.jpg\",\r\n            \"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"\r\n        ];\r\n\r\n        Laya.loader.load(resource).then( (res:any[] )=>{\r\n            this.onComplete(res);\r\n        });\r\n\r\n\t}\r\n\r\n\tonComplete(res:any[]):void{\t\t\r\n        this.mat1 = new Laya.BlinnPhongMaterial();\r\n        this.mat2 = new Laya.BlinnPhongMaterial();\r\n        //\u52A0\u8F7D\u8D44\u6E90\r\n        this.mat1.albedoTexture = res[0];\r\n        this.mat2.albedoTexture = res[1];\r\n        \r\n        var plane:Laya.MeshSprite3D = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(20, 20, 10, 10))) as Laya.MeshSprite3D;\r\n        var planeMat:Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        planeMat.albedoTexture = res[1];\r\n        planeMat.tilingOffset = new Laya.Vector4(2, 2, 0, 0);\r\n        plane.meshRenderer.material = planeMat;\r\n        \r\n        var rigidBody:Laya.PhysicsCollider = plane.addComponent(Laya.PhysicsCollider) as Laya.PhysicsCollider;\r\n        var boxShape:Laya.BoxColliderShape = new Laya.BoxColliderShape(20, 0, 20);\r\n        rigidBody.colliderShape = boxShape;\r\n        \r\n        for (var i:number = 0; i < 60; i++) {\r\n            this.addBox();\r\n            this.addCapsule();\r\n        }\r\n        \r\n        this.addCharacter(res[2]);\r\n    }\r\n    public addCharacter(res:any):void {\r\n       \r\n        let monkey = res.create();\r\n        this.scene.addChild(monkey);\r\n        (monkey.getChildAt(0) as Sprite3D).transform.localScale = new Laya.Vector3(1, 1, 1);\r\n        var character:Laya.CharacterController = monkey.addComponent(Laya.CharacterController);\r\n        var sphereShape:Laya.CapsuleColliderShape = new Laya.CapsuleColliderShape(1.0, 3.4);\r\n        sphereShape.localOffset = new Laya.Vector3(0, 1.7, 0);\r\n        character.colliderShape = sphereShape;\r\n        this.kinematicSphere = monkey;\r\n        Laya.timer.frameLoop(1, this, this.onKeyDown);\r\n    \r\n    }\r\n    \r\n    onKeyDown():void {\r\n\r\n        var character:Laya.CharacterController = this.kinematicSphere.getComponent(Laya.CharacterController) as Laya.CharacterController;\r\n        Laya.InputManager.hasKeyDown(87) && character.move(this.translateW);//W\r\n        Laya.InputManager.hasKeyDown(83) && character.move(this.translateS);//S\r\n        Laya.InputManager.hasKeyDown(65) && character.move(this.translateA);//A\r\n        Laya.InputManager.hasKeyDown(68) && character.move(this.translateD);//D\r\n        Laya.InputManager.hasKeyDown(69) && character.jump();//E\r\n    }\r\n    \r\n    public addBox():void {\r\n\r\n        var sX:number = Math.random() * 0.75 + 0.25;\r\n        var sY:number = Math.random() * 0.75 + 0.25;\r\n        var sZ:number = Math.random() * 0.75 + 0.25;\r\n        var box:Laya.MeshSprite3D = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(sX, sY, sZ))) as Laya.MeshSprite3D;\r\n        box.meshRenderer.material = this.mat1;\r\n        box.transform.position = new Laya.Vector3(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n        box.transform.rotationEuler = new Laya.Vector3(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        \r\n        var rigidBody:Laya.Rigidbody3D = box.addComponent(Laya.Rigidbody3D);\r\n        var boxShape:Laya.BoxColliderShape = new Laya.BoxColliderShape(sX, sY, sZ);\r\n        rigidBody.colliderShape = boxShape;\r\n        rigidBody.mass = 10;\r\n    }\r\n    \r\n    public addCapsule():void {\r\n\r\n        var raidius:number = Math.random() * 0.2 + 0.2;\r\n        var height:number = Math.random() * 0.5 + 0.8;\r\n        var capsule:Laya.MeshSprite3D = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCapsule(raidius, height))) as Laya.MeshSprite3D;\r\n        capsule.meshRenderer.material = this.mat2;\r\n        capsule.transform.position = new Laya.Vector3(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n        capsule.transform.rotationEuler = new Laya.Vector3(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        \r\n        var rigidBody:Laya.Rigidbody3D = capsule.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape:Laya.CapsuleColliderShape = new Laya.CapsuleColliderShape(raidius, height);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 10;\r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Color = Laya.Color;\r\nimport InputManager = Laya.InputManager;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport CapsuleColliderShape = Laya.CapsuleColliderShape;\r\nimport CylinderColliderShape = Laya.CylinderColliderShape;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport ConeColliderShape = Laya.ConeColliderShape;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Physics3DUtils = Laya.Physics3DUtils;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('pFsaMZo2QVS5hyRuGx-4sw')\r\nexport class PhysicsWorld_CollisionFiflter extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate plane: MeshSprite3D;\r\n\tprivate kinematicSphere: Sprite3D;\r\n\r\n\tprivate translateW: Vector3 = new Vector3(0, 0, -0.2);\r\n\tprivate translateS: Vector3 = new Vector3(0, 0, 0.2);\r\n\tprivate translateA: Vector3 = new Vector3(-0.2, 0, 0);\r\n\tprivate translateD: Vector3 = new Vector3(0.2, 0, 0);\r\n\tprivate translateQ: Vector3 = new Vector3(-0.01, 0, 0);\r\n\tprivate translateE: Vector3 = new Vector3(0.01, 0, 0);\r\n\r\n\tprivate _albedoColor: Color = new Color(1.0, 0.0, 0.0, 1.0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\t\r\n\r\n\t\t//\u521B\u5EFA\u5E73\u9762\r\n\t\tthis.plane = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 10, 10))));\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t//\u52A0\u8F7D\u7EB9\u7406\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tplaneMat.albedoTexture = tex;\r\n\t\t});\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tplaneMat.tilingOffset = new Vector4(2, 2, 0, 0);\r\n\t\tthis.plane.meshRenderer.material = planeMat;\r\n\t\t//\u4E3A\u5E73\u9762\u8BBE\u7F6E\u76D2\u578B\u78B0\u649E\u5668\r\n\t\tvar staticCollider: PhysicsCollider = (<PhysicsCollider>this.plane.addComponent(PhysicsCollider));\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(20, 0, 20);\r\n\t\tstaticCollider.colliderShape = boxShape;\r\n\r\n\t\tthis.addKinematicSphere();\r\n\t\tfor (var i: number = 0; i < 20; i++) {\r\n\t\t\tthis.addBox();\r\n\t\t\tthis.addCapsule();\r\n\t\t\tthis.addCone();\r\n\t\t\tthis.addCylinder();\r\n\t\t\tthis.addSphere();\r\n\t\t}\r\n\t}\r\n\r\n\taddKinematicSphere(): void {\r\n\t\t//\u521B\u5EFABlinnPhong\u6750\u8D28\r\n\t\tvar mat2: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t//\u52A0\u8F7D\u7EB9\u7406\t\t\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/plywood.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tmat2.albedoTexture = tex;\r\n\t\t});\r\n\t\tmat2.albedoColor = this._albedoColor;\r\n\t\t//\u521B\u5EFA\u4E00\u4E2A\u7403\r\n\t\tvar radius: number = 0.8;\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius))));\r\n\t\tsphere.meshRenderer.material = mat2;\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(0, 0.8, 0);\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u5F62\u78B0\u649E\u5668\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 60;\r\n\t\t//\u8BBE\u7F6E\u5F53\u524D\u521A\u4F53\u4E3A\u8FD0\u52A8\u5B66\u7269\u4F53,\u4EC5\u53EF\u901A\u8FC7transform\u5C5E\u6027\u79FB\u52A8\u7269\u4F53,\u800C\u975E\u5176\u4ED6\u529B\u76F8\u5173\u5C5E\u6027\u3002\r\n\t\trigidBody.isKinematic = true;\r\n\t\t//\u8BBE\u7F6E\u53EF\u4EE5\u4E0E\u5176\u53D1\u751F\u78B0\u649E\u7684\u78B0\u649E\u7EC4\r\n\t\trigidBody.canCollideWith = Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1 | Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER3 | Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER5;//\u53EA\u4E0E\u81EA\u5B9A\u4E49\u7EC4135\u78B0\u649E(\u5982\u679C\u591A\u7EC4\u91C7\u7528\u4F4D\u64CD\u4F5C\uFF09\r\n\r\n\t\tthis.kinematicSphere = sphere;\r\n\t\t//\u5F00\u542F\u5B9A\u65F6\u91CD\u590D\u6267\u884C\r\n\t\tLaya.timer.frameLoop(1, this, this.onKeyDown);\r\n\t}\r\n\r\n\tonKeyDown(): void {\r\n\t\tInputManager.hasKeyDown(87) && this.kinematicSphere.transform.translate(this.translateW);//W\r\n\t\tInputManager.hasKeyDown(83) && this.kinematicSphere.transform.translate(this.translateS);//S\r\n\t\tInputManager.hasKeyDown(65) && this.kinematicSphere.transform.translate(this.translateA);//A\r\n\t\tInputManager.hasKeyDown(68) && this.kinematicSphere.transform.translate(this.translateD);//D\r\n\t\tInputManager.hasKeyDown(81) && this.plane.transform.translate(this.translateQ);//Q\r\n\t\tInputManager.hasKeyDown(69) && this.plane.transform.translate(this.translateE);//E\r\n\t}\r\n\r\n\taddBox(): void {\r\n\t\t//\u968F\u673A\u751F\u6210\u76D2\u5B50\u7684\u4F4D\u7F6E\r\n\t\tvar sX: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sY: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sZ: number = Math.random() * 0.75 + 0.25;\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tbox.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/rocks.jpg\").then((res)=>{\r\n\t\t\t(box.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\r\n\t\tvar transform: Transform3D = box.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 16 - 8, sY / 2, Math.random() * 16 - 8);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u6B27\u62C9\u65CB\u8F6C\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(0, Math.random() * 360, 0);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u578B\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(sX, sY, sZ);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u6240\u5C5E\u7684\u78B0\u649E\u7EC4\r\n\t\trigidBody.collisionGroup = Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1;//\u81EA\u5B9A\u4E49\u7EC41\r\n\t}\r\n\r\n\taddCapsule(): void {\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\tvar capsule: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(raidius, height))));\r\n\t\tcapsule.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((res)=>{\r\n\t\t\t(capsule.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\tvar transform: Transform3D = capsule.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u6B27\u62C9\u65CB\u8F6C\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = capsule.addComponent(Rigidbody3D);\r\n\t\tvar sphereShape: CapsuleColliderShape = new CapsuleColliderShape(raidius, height);\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.collisionGroup = Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER2;//\u81EA\u5B9A\u4E49\u7EC42,\u4F1A\u8DF3\u8FC7\u78B0\u649E\r\n\r\n\t}\r\n\r\n\taddCone(): void {\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\t//\u521B\u5EFA\u5706\u9525MeshSprite3D\r\n\t\tvar cone: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createCone(raidius, height));\r\n\t\tthis.scene.addChild(cone);\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tcone.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/steel2.jpg\").then((res)=>{\r\n\t\t\t(cone.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\t//\u8BBE\u7F6E\u4F4D\u7F6E\r\n\t\tvar transform: Transform3D = cone.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = cone.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar coneShape: ConeColliderShape = new ConeColliderShape(raidius, height);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = coneShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.collisionGroup = Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER3;//\u81EA\u5B9A\u4E49\u7EC43\r\n\t}\r\n\r\n\taddCylinder(): void {\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\t//\u521B\u5EFA\u5706\u9525MeshSprite3D\r\n\t\tvar cylinder: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createCylinder(raidius, height));\r\n\t\tthis.scene.addChild(cylinder);\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tcylinder.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/steel.jpg\").then((res)=>{\r\n\t\t\t(cylinder.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\r\n\t\tvar transform: Transform3D = cylinder.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u6B27\u62C9\u65CB\u8F6C\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = cylinder.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar cylinderShape: CylinderColliderShape = new CylinderColliderShape(raidius, height);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = cylinderShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.collisionGroup = Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER4;//\u81EA\u5B9A\u4E49\u7EC44\r\n\t}\r\n\r\n\taddSphere(): void {\r\n\t\t//\u968F\u673A\u751F\u6210\u534A\u5F84\u5927\u5C0F\r\n\t\tvar radius: number = Math.random() * 0.2 + 0.2;\r\n\t\t//\u521B\u5EFA\u7403\u578BMeshSprite3D\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tsphere.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/plywood.jpg\").then((res)=>{\r\n\t\t\t(sphere.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\t//\u6DFB\u52A0\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.collisionGroup = Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER5;//\u81EA\u5B9A\u4E49\u7EC45\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport CompoundColliderShape = Laya.CompoundColliderShape;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('Fv8oH1FJQU63Byz9DXcPSA')\r\nexport class PhysicsWorld_CompoundCollider extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\tvar plane: MeshSprite3D = <MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 20, 10)));\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tplaneMat.albedoTexture = tex;\r\n\t\t});\r\n\t\tplaneMat.tilingOffset = new Vector4(2, 2, 0, 0);\r\n\t\tplane.meshRenderer.material = planeMat;\r\n\t\tplane.meshRenderer.receiveShadow = true;\r\n\t\tvar staticCollider: PhysicsCollider = <PhysicsCollider>plane.addComponent(PhysicsCollider);\r\n\t\tvar planeShape: BoxColliderShape = new BoxColliderShape(13, 0, 13);\r\n\t\tstaticCollider.colliderShape = planeShape;\r\n\t\tstaticCollider.friction = 2;\r\n\r\n\t\tthis.randomAddPhysicsSprite();\r\n\r\n\t}\r\n\r\n\trandomAddPhysicsSprite(): void {\r\n\t\tLaya.timer.loop(1000, this, ()=> {\r\n\t\t\tvar random: number = Math.floor(Math.random() * 2) % 2;\r\n\t\t\tswitch (random) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tthis.addTable();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.addObject();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\taddTable(): void {\r\n\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tmat.albedoTexture = tex;\r\n\t\t});\r\n\t\tmat.shininess = 1;\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/table.lm\").then((res)=> {\r\n\t\t\tvar table: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(res)));\r\n\t\t\ttable.meshRenderer.material = mat;\r\n\t\t\tvar transform: Transform3D = table.transform;\r\n\t\t\tvar pos: Vector3 = transform.position;\r\n\t\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\t\ttransform.position = pos;\r\n\t\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\t\ttransform.rotationEuler = rotationEuler;\r\n\t\t\tvar scale: Vector3 = transform.getWorldLossyScale();\r\n\t\t\tscale.setValue(3, 3, 3);\r\n\t\t\ttransform.setWorldLossyScale(scale);\r\n\r\n\r\n\t\t\tvar rigidBody: Rigidbody3D = (<Rigidbody3D>table.addComponent(Rigidbody3D));\r\n\t\t\trigidBody.mass = 10;\r\n\t\t\trigidBody.friction = 1;\r\n\r\n\t\t\tvar compoundShape: CompoundColliderShape = new CompoundColliderShape();\r\n\r\n\t\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(0.5, 0.4, 0.045);\r\n\t\t\tvar localOffset: Vector3 = boxShape.localOffset;\r\n\t\t\tlocalOffset.setValue(0, 0, 0.125);\r\n\t\t\tboxShape.localOffset = localOffset;\r\n\t\t\tcompoundShape.addChildShape(boxShape);\r\n\r\n\t\t\tvar boxShape1: BoxColliderShape = new BoxColliderShape(0.1, 0.1, 0.3);\r\n\t\t\tboxShape1.localOffset = new Vector3(-0.2, -0.148, -0.048);\r\n\t\t\tcompoundShape.addChildShape(boxShape1);\r\n\r\n\t\t\tvar boxShape2: BoxColliderShape = new BoxColliderShape(0.1, 0.1, 0.3);\r\n\t\t\tvar localOffset2: Vector3 = boxShape2.localOffset;\r\n\t\t\tlocalOffset2.setValue(0.2, -0.148, -0.048);\r\n\t\t\tboxShape2.localOffset = localOffset2;\r\n\t\t\tcompoundShape.addChildShape(boxShape2);\r\n\r\n\t\t\tvar boxShape3: BoxColliderShape = new BoxColliderShape(0.1, 0.1, 0.3);\r\n\t\t\tvar localOffset3: Vector3 = boxShape3.localOffset;\r\n\t\t\tlocalOffset3.setValue(-0.2, 0.153, -0.048);\r\n\t\t\tboxShape3.localOffset = localOffset3;\r\n\t\t\tcompoundShape.addChildShape(boxShape3);\r\n\r\n\t\t\tvar boxShape4: BoxColliderShape = new BoxColliderShape(0.1, 0.1, 0.3);\r\n\t\t\tvar localOffset4: Vector3 = boxShape4.localOffset;\r\n\t\t\tlocalOffset4.setValue(0.2, 0.153, -0.048);\r\n\t\t\tboxShape4.localOffset = localOffset3;\r\n\t\t\tcompoundShape.addChildShape(boxShape4);\r\n\r\n\t\t\trigidBody.colliderShape = compoundShape;\r\n\t\t});\r\n\t}\r\n\r\n\taddObject(): void {\r\n\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/rocks.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tmat.albedoTexture = tex;\r\n\t\t});\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/object.lm\").then((res)=> {\r\n\r\n\t\t\tvar object: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(res)));\r\n\t\t\tvar transform: Transform3D = object.transform;\r\n\t\t\tvar pos: Vector3 = transform.position;\r\n\t\t\tpos.setValue(Math.random() * 4 - 2, 5, Math.random() * 4 - 2);\r\n\t\t\ttransform.position = pos;\r\n\t\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\t\ttransform.rotationEuler = rotationEuler;\r\n\t\t\tvar scale: Vector3 = transform.getWorldLossyScale();\r\n\t\t\tscale.setValue(0.01, 0.01, 0.01);\r\n\t\t\ttransform.setWorldLossyScale(scale);\r\n\t\t\tobject.meshRenderer.material = mat;\r\n\r\n\t\t\tvar rigidBody: Rigidbody3D = (<Rigidbody3D>object.addComponent(Rigidbody3D));\r\n\t\t\trigidBody.mass = 3;\r\n\t\t\trigidBody.friction = 0.3;\r\n\r\n\t\t\tvar compoundShape: CompoundColliderShape = new CompoundColliderShape();\r\n\r\n\t\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(40, 40, 40);\r\n\t\t\tvar boxLocalOffset: Vector3 = boxShape.localOffset;\r\n\t\t\tboxLocalOffset.setValue(0, 0, -20);\r\n\t\t\tboxShape.localOffset = boxLocalOffset;\r\n\t\t\tcompoundShape.addChildShape(boxShape);\r\n\r\n\t\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(25);\r\n\t\t\tvar sphereLocalOffset: Vector3 = sphereShape.localOffset;\r\n\t\t\tsphereLocalOffset.setValue(0, 0, 24);\r\n\t\t\tsphereShape.localOffset = sphereLocalOffset;\r\n\t\t\tcompoundShape.addChildShape(sphereShape);\r\n\r\n\t\t\trigidBody.colliderShape = compoundShape;\r\n\t\t});\r\n\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Color = Laya.Color;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport ConfigurableConstraint = Laya.ConfigurableConstraint;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ig70HnZPTaKXbRajDw92GA')\r\nexport class PhysicsWorld_ConfigurableJoint extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * \u6CE8\u610F\uFF0C\u53EA\u6709\u5728onStart\u65B9\u6CD5\u4E2D\u624D\u80FD\u751F\u6548\r\n     */\r\n    onStart(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 15);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\t//\u5E73\u9762\r\n\t\tvar plane: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(40, 40, 40, 40))));\r\n\t\tplane.transform.position = new Vector3(0, -2.0, 0);\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/grass.png\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tplaneMat.albedoTexture = tex;\r\n\t\t});\r\n\t\t//\u8BBE\u7F6E\u7EB9\u7406\u5E73\u94FA\u548C\u504F\u79FB\r\n\t\tvar tilingOffset: Vector4 = planeMat.tilingOffset;\r\n\t\ttilingOffset.setValue(5, 5, 0, 0);\r\n\t\tplaneMat.tilingOffset = tilingOffset;\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tplane.meshRenderer.material = planeMat;\r\n\r\n\t\tthis.springTest();\r\n\t\tthis.bounceTest();\r\n\t\tthis.alongZAixs();\r\n\t\tthis.freeRotate();\r\n\t\tthis.rotateAngularX();\r\n\t\tthis.rotateAngularPoint();\r\n\t}\r\n\r\n\tspringTest(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(7, 3, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\t\tboxARigid.overrideGravity = true;\r\n\t\tboxARigid.isKinematic = true;\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(10, 0, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, -3, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n\t\tconfigurableJoint.minLinearLimit = new Vector3(-3, 0, 0);\r\n\t\tconfigurableJoint.maxLinearLimit = new Vector3(3, 0, 0);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.linearLimitSpring = new Vector3(100, 0, 0);\r\n\t\tconfigurableJoint.linearDamp = new Vector3(0, 0, 0);\r\n\t}\r\n\r\n\r\n\r\n\tbounceTest(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(7, 3, 3), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(7, 0, 3), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, -3, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n\t\tconfigurableJoint.minLinearLimit = new Vector3(-2, 0, 0);\r\n\t\tconfigurableJoint.maxLinearLimit = new Vector3(2, 0, 0);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\r\n\t\tconfigurableJoint.linearBounce = new Vector3(0.5, 0, 0);\r\n\t\tboxBRigid.applyImpulse(new Vector3(100, 0, 0));\r\n\r\n\t}\r\n\r\n\tbounceTestY(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(0, 4, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(0, 2, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, -2, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n\t\tconfigurableJoint.minLinearLimit = new Vector3(0, -2, 0);\r\n\t\tconfigurableJoint.maxLinearLimit = new Vector3(0, 10, 0);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t}\r\n\r\n\trotateAngularX(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(-2, 3, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(-2, 1, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, -2, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n\t\tconfigurableJoint.minAngularLimit = new Vector3(-2, 0, 0);\r\n\t\tconfigurableJoint.maxAngularLimit = new Vector3(2, 0, 0);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tboxBRigid.angularVelocity = new Vector3(5, 0, 0);\r\n\r\n\t}\r\n\r\n\trotateAngularZ(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(-7, 6, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(-7, 4, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, -2, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n\t\tconfigurableJoint.minAngularLimit = new Vector3(0, 0, -1);\r\n\t\tconfigurableJoint.maxAngularLimit = new Vector3(0, 0, 1);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tboxBRigid.angularVelocity = new Vector3(0.0, 0, 0.5);\r\n\r\n\t}\r\n\r\n\trotateAngularY(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(-5, 6, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(-5, 4, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, -2, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n\t\tconfigurableJoint.minAngularLimit = new Vector3(0, -1, 0);\r\n\t\tconfigurableJoint.maxAngularLimit = new Vector3(0, 1, 0);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tboxBRigid.angularVelocity = new Vector3(0.0, 0.5, 0);\r\n\r\n\t}\r\n\r\n\tfreeRotate() {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(-6, 3, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(-6, 1, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, -1, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 1, 0);\r\n\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n\t\tboxBRigid.angularVelocity = new Vector3(20, 2, 10);\r\n\t}\r\n\r\n\trotateAngularPoint(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(0, 10, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(6, 10, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, 0, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(-6, 0, 0);\r\n\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n\r\n\t}\r\n\r\n\talongXAixs(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(0, 0, -4), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(5, 0, -4), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, 0, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(-5, 0, 0);\r\n\r\n\t\tconfigurableJoint.minLinearLimit = new Vector3(-2, 0, 0);\r\n\t\tconfigurableJoint.maxLinearLimit = new Vector3(2, 0, 0);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\r\n\t\tboxBRigid.linearVelocity = new Vector3(1.0, 0.0, 0);\r\n\r\n\t}\r\n\r\n\talongYAixs(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(0, 0, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(5, 0, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, 0, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(-5, 0, 0);\r\n\r\n\t\tconfigurableJoint.minLinearLimit = new Vector3(0, -3, 0);\r\n\t\tconfigurableJoint.maxLinearLimit = new Vector3(0, 3, 0);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\r\n\t\tboxBRigid.linearVelocity = new Vector3(0.0, 1.0, 0);\r\n\r\n\t}\r\n\r\n\talongZAixs(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(2, 3, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(2, 0, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, 0, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 3, 0);\r\n\r\n\t\tconfigurableJoint.minLinearLimit = new Vector3(0, 0, -4);\r\n\t\tconfigurableJoint.maxLinearLimit = new Vector3(0, 0, 4);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\r\n\t\tboxBRigid.linearVelocity = new Vector3(0.0, 0.0, 4);\r\n\r\n\t}\r\n\r\n\taddRigidBodyBox(pos: Vector3, scale: number): MeshSprite3D {\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(scale, scale, scale))));\r\n\t\tbox.transform.position = pos;\r\n\t\t//box.addComponent(TriggerCollisionScript);\r\n\r\n\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tbox.meshRenderer.material = mat;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(scale, scale, scale);\r\n\t\t//\u8BBE\u7F6E\u76D2\u5B50\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 1;\r\n\t\t//\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u6469\u64E6\u529B\r\n\t\trigidBody.friction = 0.5;\r\n\t\t//\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u5F39\u529B\r\n\t\trigidBody.restitution = 10.0;\r\n\t\treturn box;\r\n\t}\r\n\taddRigidBodySphere(pos: Vector3, scale: number): MeshSprite3D {\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(0.2))));\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tmat.albedoColor = new Color(0, 1, 0, 1);\r\n\t\tsphere.meshRenderer.material = mat;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n\t\tvar boxShape: SphereColliderShape = new SphereColliderShape(0.2);\r\n\t\t//\u8BBE\u7F6E\u76D2\u5B50\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 1;\r\n\t\t//\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u6469\u64E6\u529B\r\n\t\trigidBody.friction = 0.5;\r\n\t\t//\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u5F39\u529B\r\n\t\trigidBody.restitution = 0.0;\r\n\t\trigidBody.isKinematic = true;\r\n\t\treturn sphere;\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport FixedConstraint = Laya.FixedConstraint;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('HoVjz49LR5mpgqxfUhgz8Q')\r\nexport class PhysicsWorld_ConstraintFixedJoint extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * \u6CE8\u610F\uFF0C\u53EA\u6709\u5728onStart\u65B9\u6CD5\u4E2D\u624D\u80FD\u751F\u6548\r\n     */\r\n    onStart(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\tthis.addbox();\r\n\r\n\t}\r\n\r\n\taddbox() {\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(1, 1, 1))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tvar transform: Transform3D = box.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(0, 5, 0);\r\n\t\ttransform.position = pos;\r\n\t\tbox.meshRenderer.sharedMaterial = new BlinnPhongMaterial();\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(1, 1, 1);\r\n\t\t//\u8BBE\u7F6E\u76D2\u5B50\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody.colliderShape = boxShape;\r\n\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.isKinematic = true;\r\n\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar box2: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(1, 1, 1))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tvar transform2: Transform3D = box2.transform;\r\n\t\tvar pos2: Vector3 = transform2.position;\r\n\t\tpos2.setValue(0, 3, 0);\r\n\t\ttransform2.position = pos2;\r\n\t\tbox2.meshRenderer.sharedMaterial = new BlinnPhongMaterial();\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody2: Rigidbody3D = box2.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n\t\tvar boxShape2: BoxColliderShape = new BoxColliderShape(1, 1, 1);\r\n\t\t//\u8BBE\u7F6E\u76D2\u5B50\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody2.colliderShape = boxShape2;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody2.mass = 10;\r\n\r\n\t\t//\u6F2B\u53CD\u5C04\u8D34\u56FE\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/texture/layabox.png\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tvar blinnMat:BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t\tblinnMat.albedoTexture = tex;\r\n\t\t\tbox.meshRenderer.material = blinnMat;\r\n\t\t\tbox2.meshRenderer.material = blinnMat;\r\n\t\t});\r\n\t\t\r\n\r\n\t\tvar fixedConstraint: FixedConstraint = box.addComponent(FixedConstraint);\r\n\t\tfixedConstraint.anchor = new Vector3(0, 0, 0);\r\n\t\tfixedConstraint.connectAnchor = new Vector3(0, 2, 0);\r\n\t\tbox.addComponent(FixedEventTest);\r\n\t\tfixedConstraint.setConnectRigidBody(rigidBody, rigidBody2);\r\n\t}\r\n}\r\n\r\nexport class FixedEventTest extends Laya.Script {\r\n\tprivate fixedConstraint: FixedConstraint;\r\n\r\n\tonStart() {\r\n\t\tthis.fixedConstraint = this.owner.getComponent(FixedConstraint);\r\n\t\tthis.fixedConstraint.breakForce = 1000;\r\n\t}\r\n\r\n\tonUpdate() {\r\n\t\tif (this.fixedConstraint) {\r\n\t\t\tvar mass = this.fixedConstraint.connectedBody.mass;\r\n\t\t\tthis.fixedConstraint.connectedBody.mass = mass + 1;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tonJointBreak() {\r\n\t\tconsole.log(\"duanle\");\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('u2e3_hylRle33Pr9Z6t1Rg')\r\nexport class PhysicsWorld_ContinueCollisionDetection extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate mat2: BlinnPhongMaterial;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\tvar resource:any[] = [\r\n\r\n            \"resources/res/threeDimen/Physics/wood.jpg\",\r\n            \"resources/res/threeDimen/Physics/plywood.jpg\",\r\n        ];\r\n\r\n        Laya.loader.load(resource).then( (res:any[] )=>{\r\n            this.onComplete(res);\r\n        });\r\n\r\n\t}\r\n\r\n\tonComplete(res:any[]):void{\r\n\t\t\t\t\r\n\t\t//\u5E73\u9762\r\n\t\tvar plane = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 10, 10))));\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tplaneMat.albedoTexture = res[0];\r\n\t\tplaneMat.tilingOffset = new Vector4(2, 2, 0, 0);\r\n\t\tplane.meshRenderer.material = planeMat;\r\n\r\n\t\tvar planeStaticCollider: PhysicsCollider = plane.addComponent(PhysicsCollider);\r\n\t\tvar planeShape: BoxColliderShape = new BoxColliderShape(10, 0, 10);\r\n\t\tplaneStaticCollider.colliderShape = planeShape;\r\n\t\tplaneStaticCollider.friction = 2;\r\n\t\tplaneStaticCollider.restitution = 0.3;\r\n\t\tLaya.timer.loop(200, this, ()=> {\r\n\t\t\tthis.addSphere();\r\n\t\t});\r\n\t}\r\n\r\n\taddSphere(): void {\r\n\t\t\r\n\t\tvar radius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar sphere: MeshSprite3D = <MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius)));\r\n\t\tsphere.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\t(sphere.meshRenderer.material as BlinnPhongMaterial).albedoTexture = Laya.Loader.getRes(\"resources/res/threeDimen/Physics/plywood.jpg\") as Texture2D;\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.ccdSweptSphereRadius = radius;\r\n\t\trigidBody.ccdMotionThreshold = 0.0001;\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport InputManager = Laya.InputManager;\r\nimport Color = Laya.Color;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport CapsuleColliderShape = Laya.CapsuleColliderShape;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('kidtF9WhTDiP5nbgdww1Jg')\r\nexport class PhysicsWorld_Kinematic extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate kinematicSphere: Sprite3D;\r\n\tprivate translateW: Vector3 = new Vector3(0, 0, -0.2);\r\n\tprivate translateS: Vector3 = new Vector3(0, 0, 0.2);\r\n\tprivate translateA: Vector3 = new Vector3(-0.2, 0, 0);\r\n\tprivate translateD: Vector3 = new Vector3(0.2, 0, 0);\r\n\tprivate translateQ: Vector3 = new Vector3(-0.01, 0, 0);\r\n\tprivate translateE: Vector3 = new Vector3(0.01, 0, 0);\r\n\tprivate plane: MeshSprite3D;\r\n\r\n\tprivate mat1: BlinnPhongMaterial;\r\n\tprivate mat3: BlinnPhongMaterial;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\tthis.mat1 = new BlinnPhongMaterial();\r\n\t\tthis.mat3 = new BlinnPhongMaterial();\r\n\t\t//\u52A0\u8F7D\u7EB9\u7406\u8D44\u6E90\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/rocks.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tthis.mat1.albedoTexture = tex;\r\n\t\t});\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tthis.mat3.albedoTexture = tex;\r\n\t\t});\r\n\t\tthis.plane = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 10, 10))));\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tplaneMat.albedoTexture = tex;\r\n\t\t});\r\n\t\tplaneMat.tilingOffset = new Vector4(2, 2, 0, 0);\r\n\t\tthis.plane.meshRenderer.material = planeMat;\r\n\r\n\t\tvar rigidBody: PhysicsCollider = (<PhysicsCollider>this.plane.addComponent(PhysicsCollider));\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(20, 0, 20);\r\n\t\trigidBody.colliderShape = boxShape;\r\n\r\n\t\tfor (var i: number = 0; i < 60; i++) {\r\n\t\t\tthis.addBox();\r\n\t\t\tthis.addCapsule();\r\n\t\t}\r\n\r\n\t\tthis.addKinematicSphere();\r\n\t}\r\n\r\n\taddKinematicSphere(): void {\r\n\t\tvar mat2: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/plywood.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tmat2.albedoTexture = tex;\r\n\t\t});\r\n\t\tvar albedoColor: Color = mat2.albedoColor;\r\n\t\talbedoColor.setValue(1.0, 0.0, 0.0, 1.0);\r\n\t\tmat2.albedoColor = albedoColor;\r\n\r\n\t\tvar radius: number = 0.8;\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius))));\r\n\t\tsphere.meshRenderer.material = mat2;\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(0, 0.8, 0);\r\n\t\tsphere.transform.position = pos;\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\u4E3A\u7403\u578B\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u4E3AKinematic\uFF0C\u4EC5\u53EF\u901A\u8FC7transform\u5C5E\u6027\u79FB\u52A8\u7269\u4F53\r\n\t\trigidBody.isKinematic = true;\r\n\t\t//rigidBody.detectCollisions = false;\r\n\r\n\t\tthis.kinematicSphere = sphere;\r\n\t\tLaya.timer.frameLoop(1, this, this.onKeyDown);\r\n\t}\r\n\r\n\tonKeyDown(): void {\r\n\t\tInputManager.hasKeyDown(87) && this.kinematicSphere.transform.translate(this.translateW);//W\r\n\t\tInputManager.hasKeyDown(83) && this.kinematicSphere.transform.translate(this.translateS);//S\r\n\t\tInputManager.hasKeyDown(65) && this.kinematicSphere.transform.translate(this.translateA);//A\r\n\t\tInputManager.hasKeyDown(68) && this.kinematicSphere.transform.translate(this.translateD);//D\r\n\t\tInputManager.hasKeyDown(81) && this.plane.transform.translate(this.translateQ);//Q\r\n\t\tInputManager.hasKeyDown(69) && this.plane.transform.translate(this.translateE);//E\r\n\t}\r\n\r\n\taddBox(): void {\r\n\t\tvar sX: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sY: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sZ: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n\t\tbox.meshRenderer.material = this.mat1;\r\n\t\tvar transform: Transform3D = box.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(sX, sY, sZ);\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddCapsule(): void {\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\tvar capsule: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(raidius, height))));\r\n\t\tcapsule.meshRenderer.material = this.mat3;\r\n\t\tvar transform: Transform3D = capsule.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = capsule.addComponent(Rigidbody3D);\r\n\t\tvar sphereShape: CapsuleColliderShape = new CapsuleColliderShape(raidius, height);\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport MeshColliderShape = Laya.MeshColliderShape;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Mesh = Laya.Mesh;\r\nimport Loader = Laya.Loader;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport CapsuleColliderShape = Laya.CapsuleColliderShape;\r\nimport Color = Laya.Color;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('acRLTDhDQmCBhmswwgOLAQ')\r\nexport class PhysicsWorld_MeshCollider extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\tLaya.loader.load([\"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizard-lizard_geo.lm\", \"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_diff.png\", \"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_norm.png\"]).then(res=>{\r\n\t\t\t this.complete()\r\n\t\t});\r\n\t}\r\n\r\n\tcomplete(): void {\r\n\t\tvar mesh: Mesh = Loader.getRes(\"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizard-lizard_geo.lm\");\r\n\t\tvar albedo = Loader.getTexture2D(\"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_diff.png\");\r\n\t\tvar normal = Loader.getTexture2D(\"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_norm.png\");\r\n\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tmat.specularColor = new Color(0.5, 0.5, 0.5, 0.5);\r\n\t\tmat.albedoTexture = albedo;\r\n\t\tmat.normalTexture = normal;\r\n\r\n\t\tvar lizard: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(mesh)));\r\n\t\tlizard.transform.localPosition = new Vector3(-2, 0, 0);\r\n\t\tlizard.transform.localScale = new Vector3(0.01, 0.01, 0.01);\r\n\t\tlizard.meshRenderer.material = mat;\r\n\t\tvar lizardCollider: PhysicsCollider = lizard.addComponent(PhysicsCollider);\r\n\t\tvar meshShape: MeshColliderShape = new MeshColliderShape();\r\n\t\tmeshShape.mesh = mesh;\r\n\t\tlizardCollider.colliderShape = meshShape;\r\n\t\tlizardCollider.friction = 2;\r\n\t\tlizardCollider.restitution = 0.3;\r\n\r\n\t\tvar lizard1: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(mesh)));\r\n\t\tvar transform: Transform3D = lizard1.transform;\r\n\t\tvar localPosition: Vector3 = transform.localPosition;\r\n\t\tvar localRotationEuler: Vector3 = transform.localRotationEuler;\r\n\t\tvar localScale: Vector3 = transform.localScale;\r\n\t\tlocalPosition.setValue(3, 0, 0);\r\n\t\tlocalRotationEuler.setValue(0, 80, 0);\r\n\t\tlocalScale.setValue(0.01, 0.01, 0.01);\r\n\t\ttransform.localPosition = localPosition;\r\n\t\ttransform.localRotationEuler = localRotationEuler;\r\n\t\ttransform.localScale = localScale;\r\n\r\n\t\tlizard1.meshRenderer.material = mat;\r\n\t\tvar lizardCollider1: PhysicsCollider = lizard1.addComponent(PhysicsCollider);\r\n\t\tvar meshShape1: MeshColliderShape = new MeshColliderShape();\r\n\t\tmeshShape1.mesh = mesh;\r\n\t\tlizardCollider1.colliderShape = meshShape1;\r\n\t\tlizardCollider1.friction = 2;\r\n\t\tlizardCollider1.restitution = 0.3;\r\n\r\n\t\tthis.addBox();\r\n\t\tthis.randomAddPhysicsSprite();\r\n\t}\r\n\r\n\trandomAddPhysicsSprite(): void {\r\n\t\tLaya.timer.loop(1000, this, ()=> {\r\n\t\t\tvar random: number = Math.floor(Math.random() * 3) % 3;\r\n\t\t\tswitch (random) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tthis.addBox();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.addSphere();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tthis.addCapsule();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\taddBox(): void {\r\n\t\tvar sX: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sY: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sZ: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n\t\tbox.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/rocks.jpg\").then((res)=>{\r\n\t\t\t(box.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\r\n\t\tvar transform: Transform3D = box.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(sX, sY, sZ);\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddSphere(): void {\r\n\t\tvar radius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius))));\r\n\t\tsphere.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/plywood.jpg\").then((res)=>{\r\n\t\t\t(sphere.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddCapsule(): void {\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\tvar capsule: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(raidius, height))));\r\n\t\tcapsule.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((res)=>{\r\n\t\t\t(capsule.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\tvar transform: Transform3D = capsule.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = capsule.addComponent(Rigidbody3D);\r\n\t\tvar sphereShape: CapsuleColliderShape = new CapsuleColliderShape(raidius, height);\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Color = Laya.Color;\r\nimport Button = Laya.Button;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport CapsuleColliderShape = Laya.CapsuleColliderShape;\r\nimport HitResult = Laya.HitResult;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport Ray = Laya.Ray;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Event = Laya.Event;\r\nimport Handler = Laya.Handler;\r\nimport PixelLineSprite3D = Laya.PixelLineSprite3D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('KAIHSBc7QReSLQTcKOefeA')\r\nexport class PhysicsWorld_RayShapeCast extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\t//\u58F0\u660E\u4E00\u4E9B\u4F7F\u7528\u5230\u7684\u5168\u5C40\u53D8\u91CF\r\n\tprivate castType: number = 0;\r\n\tprivate castAll: boolean = false;\r\n\tprivate ray: Ray = new Ray(new Vector3(0, 0, 0), new Vector3(0, 0, 0));\r\n\tprivate hitResult: HitResult = new HitResult();\r\n\tprivate hitResults: HitResult[] = [];\r\n\tprivate debugSprites: Sprite3D[] = [];\r\n\t//\u521B\u5EFA\u5C04\u7EBF\u7684\u8D77\u59CB\u70B9\r\n\tprivate from: Vector3 = new Vector3(0, 1, 10);\r\n\tprivate to: Vector3 = new Vector3(0, 1, -5);\r\n\tprivate _albedoColor: Color = new Color(1.0, 1.0, 1.0, 0.5);\r\n\tprivate _position: Vector3 = new Vector3(0, 0, 0);\r\n\r\n\tprivate changeActionButton0:Button;\r\n\tprivate changeActionButton1:Button;\r\n\tprivate changeActionButton2:Button;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\t//\u6DFB\u52A0\u5730\u9762\r\n\t\tvar plane: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 10, 10))));\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t//\u52A0\u8F7D\u7EB9\u7406\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((res)=>{\r\n\t\t\t(planeMat as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tvar tilingOffset: Vector4 = planeMat.tilingOffset;\r\n\t\ttilingOffset.setValue(2, 2, 0, 0);\r\n\t\tplaneMat.tilingOffset = tilingOffset;\r\n\t\tplane.meshRenderer.material = planeMat;\r\n\r\n\r\n\t\t//\u4E3A\u5730\u9762\u521B\u5EFA\u7269\u7406\u78B0\u649E\u5668\r\n\t\tvar planeBody: PhysicsCollider = (<PhysicsCollider>plane.addComponent(PhysicsCollider));\r\n\t\t//\u521B\u5EFA\u76D2\u578B\u78B0\u649E\u5668\r\n\t\tvar boxCollider: BoxColliderShape = new BoxColliderShape(20, 0, 20);\r\n\t\t//\u8BBE\u7F6E\u5730\u9762\u7684\u78B0\u649E\u5668\u7684\u5F62\u72B6\u4E3A\u76D2\u578B\r\n\t\tplaneBody.colliderShape = boxCollider;\r\n\r\n\t\tfor (var i: number = 0; i < 60; i++) {\r\n\t\t\tthis.addBox();\r\n\t\t\tthis.addCapsule();\r\n\t\t}\t\t\t\r\n\t\tthis.loadUI();\r\n\t\t\r\n\t}\r\n\r\n\r\n\tprivate loadUI(): void {\r\n\t\tthis.changeActionButton0 = (<Button>this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u5C04\u7EBF\u6A21\u5F0F\")));\r\n        this.changeActionButton0.size(150, 40);\r\n        this.changeActionButton0.labelSize = 16;\r\n        this.changeActionButton0.sizeGrid = \"21,83,22,76\";\r\n        this.changeActionButton0.stateNum = 1;\r\n        this.changeActionButton0.labelColors = \"#ffffff\";\r\n\t\tthis.changeActionButton0.pos(50, 280);\r\n\t\tthis.changeActionButton0.on(Event.CLICK, this, this.stypeFun0);\r\n\r\n\t\tthis.changeActionButton1 = (<Button>this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u4E0D\u7A7F\u900F\")));\r\n        this.changeActionButton1.size(150, 40);\r\n        this.changeActionButton1.labelSize = 16;\r\n        this.changeActionButton1.sizeGrid = \"21,83,22,76\";\r\n        this.changeActionButton1.stateNum = 1;\r\n        this.changeActionButton1.labelColors = \"#ffffff\";\r\n\t\tthis.changeActionButton1.pos(50, 340);\r\n\t\tthis.changeActionButton1.on(Event.CLICK, this, this.stypeFun1);\r\n\r\n\t\tthis.changeActionButton2 = (<Button>this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u68C0\u6D4B\")));\r\n        this.changeActionButton2.size(150, 40);\r\n        this.changeActionButton2.labelSize = 16;\r\n        this.changeActionButton2.sizeGrid = \"21,83,22,76\";\r\n        this.changeActionButton2.stateNum = 1;\r\n        this.changeActionButton2.labelColors = \"#ffffff\";\r\n\t\tthis.changeActionButton2.pos(50, 400);\r\n\t\tthis.changeActionButton2.on(Event.CLICK, this, this.stypeFun2);\r\n\t}\r\n\r\n\tstypeFun0(label:string = \"\u5C04\u7EBF\u6A21\u5F0F\") {\r\n\t\tthis.castType++;\r\n\t\tthis.castType %= 4;\r\n\t\tswitch (this.castType) {\r\n\t\t\tcase 0:\r\n\t\t\t\tthis.changeActionButton0.label = \"\u5C04\u7EBF\u6A21\u5F0F\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tthis.changeActionButton0.label = \"\u76D2\u5B50\u6A21\u5F0F\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.changeActionButton0.label = \"\u7403\u6A21\u5F0F\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tthis.changeActionButton0.label = \"\u80F6\u56CA\u6A21\u5F0F\";\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tlabel = this.changeActionButton0.label;\r\n\r\n\t}\r\n\r\n\tstypeFun1(label:string = \"\u4E0D\u7A7F\u900F\") {\r\n\t\tif (this.castAll) {\r\n\t\t\tthis.changeActionButton1.label = \"\u4E0D\u7A7F\u900F\";\r\n\t\t\tthis.castAll = false;\r\n\t\t} else {\r\n\t\t\tthis.changeActionButton1.label = \"\u7A7F\u900F\";\r\n\t\t\tthis.castAll = true;\r\n\t\t}\r\n\t\tlabel = this.changeActionButton1.label;\r\n\t}\r\n\r\n\tstypeFun2(castType:number = 0) {\r\n\t\tif (this.hitResult.succeeded)\r\n\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResult.collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 1.0, 1.0, 1.0);\r\n\r\n\t\tif (this.hitResults.length > 0) {\r\n\t\t\tfor (var i: number = 0, n: number = this.hitResults.length; i < n; i++)\r\n\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResults[i].collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 1.0, 1.0, 1.0);\r\n\t\t\tthis.hitResults.length = 0;\r\n\t\t}\r\n\r\n\t\tif (this.debugSprites.length > 0) {\r\n\t\t\tfor (i = 0, n = this.debugSprites.length; i < n; i++)\r\n\t\t\t\tthis.debugSprites[i].destroy();\r\n\t\t\tthis.debugSprites.length = 0;\r\n\t\t}\r\n\r\n\r\n\t\tswitch (this.castType) {\r\n\t\t\tcase 0:\r\n\t\t\t\t//\u521B\u5EFA\u7EBF\u6027\u5C04\u7EBF\r\n\t\t\t\tvar lineSprite: PixelLineSprite3D = (<PixelLineSprite3D>this.scene.addChild(new PixelLineSprite3D(1)));\r\n\t\t\t\t//\u8BBE\u7F6E\u5C04\u7EBF\u7684\u8D77\u59CB\u70B9\u548C\u989C\u8272\r\n\t\t\t\tlineSprite.addLine(this.from, this.to, Color.RED, Color.RED);\r\n\t\t\t\tthis.debugSprites.push(lineSprite);\r\n\t\t\t\tif (this.castAll) {\r\n\t\t\t\t\t//\u8FDB\u884C\u5C04\u7EBF\u68C0\u6D4B,\u68C0\u6D4B\u6240\u6709\u78B0\u649E\u7684\u7269\u4F53\r\n\t\t\t\t\tthis.scene.physicsSimulation.raycastAllFromTo(this.from, this.to, this.hitResults);\r\n\t\t\t\t\t//\u904D\u5386\u5C04\u7EBF\u68C0\u6D4B\u7684\u7ED3\u679C\r\n\t\t\t\t\tfor (i = 0, n = this.hitResults.length; i < n; i++)\r\n\t\t\t\t\t\t//\u5C06\u5C04\u7EBF\u78B0\u649E\u5230\u7684\u7269\u4F53\u8BBE\u7F6E\u4E3A\u7EA2\u8272\r\n\t\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResults[i].collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//\u8FDB\u884C\u5C04\u7EBF\u68C0\u6D4B,\u68C0\u6D4B\u7B2C\u4E00\u4E2A\u78B0\u649E\u7269\u4F53\r\n\t\t\t\t\tthis.scene.physicsSimulation.raycastFromTo(this.from, this.to, this.hitResult);\r\n\t\t\t\t\t//\u5C06\u68C0\u6D4B\u5230\u7684\u7269\u4F53\u8BBE\u7F6E\u4E3A\u7EA2\u8272\r\n\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResult.collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\t//\u521B\u5EFA\u76D2\u578B\u78B0\u649E\u5668\r\n\t\t\t\tvar boxCollider: BoxColliderShape = new BoxColliderShape(1.0, 1.0, 1.0);\r\n\t\t\t\tfor (i = 0; i < 21; i++) {\r\n\t\t\t\t\t//\u521B\u5EFA\u8FDB\u884C\u5C04\u7EBF\u68C0\u6D4B\u7684\u76D2\u5B50\u7CBE\u7075\r\n\t\t\t\t\tvar boxSprite: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(1.0, 1.0, 1.0))));\r\n\t\t\t\t\t//\u521B\u5EFABlinnPhong\u6750\u8D28\r\n\t\t\t\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t\t\t\t//\u8BBE\u7F6E\u6750\u8D28\u7684\u989C\u8272\r\n\t\t\t\t\tmat.albedoColor = this._albedoColor;\r\n\t\t\t\t\t//\u8BBE\u7F6E\u6750\u8D28\u7684\u6E32\u67D3\u6A21\u5F0F\r\n\t\t\t\t\tmat.renderMode = BlinnPhongMaterial.RENDERMODE_TRANSPARENT;\r\n\t\t\t\t\tboxSprite.meshRenderer.material = mat;\r\n\t\t\t\t\tVector3.lerp(this.from, this.to, i / 20, this._position);\r\n\t\t\t\t\tboxSprite.transform.localPosition = this._position;\r\n\t\t\t\t\tthis.debugSprites.push(boxSprite);\r\n\t\t\t\t}\r\n\t\t\t\t//\u4F7F\u7528\u76D2\u578B\u78B0\u649E\u5668\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B\r\n\t\t\t\tif (this.castAll) {\r\n\t\t\t\t\t//\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B,\u68C0\u6D4B\u6240\u6709\u78B0\u649E\u7684\u7269\u4F53\r\n\t\t\t\t\tthis.scene.physicsSimulation.shapeCastAll(boxCollider, this.from, this.to, this.hitResults);\r\n\t\t\t\t\t//\u904D\u5386\u68C0\u6D4B\u5230\u7684\u6240\u6709\u7269\u4F53\uFF0C\u5E76\u5C06\u5176\u8BBE\u7F6E\u4E3A\u7EA2\u8272\r\n\t\t\t\t\tfor (i = 0, n = this.hitResults.length; i < n; i++)\r\n\t\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResults[i].collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B,\u68C0\u6D4B\u7B2C\u4E00\u4E2A\u78B0\u649E\u7269\u4F53\r\n\t\t\t\t\tif (this.scene.physicsSimulation.shapeCast(boxCollider, this.from, this.to, this.hitResult))\r\n\t\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResult.collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\t\t\tvar sphereCollider: SphereColliderShape = new SphereColliderShape(0.5);\r\n\t\t\t\tfor (i = 0; i < 41; i++) {\r\n\t\t\t\t\tvar sphereSprite: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(0.5))));\r\n\t\t\t\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t\t\t\tmat.albedoColor = this._albedoColor;\r\n\t\t\t\t\tmat.renderMode = BlinnPhongMaterial.RENDERMODE_TRANSPARENT;\r\n\t\t\t\t\tsphereSprite.meshRenderer.material = mat;\r\n\t\t\t\t\tVector3.lerp(this.from, this.to, i / 40, this._position);\r\n\t\t\t\t\tsphereSprite.transform.localPosition = this._position;\r\n\t\t\t\t\tthis.debugSprites.push(sphereSprite);\r\n\t\t\t\t}\r\n\t\t\t\t//\u4F7F\u7528\u7403\u578B\u78B0\u649E\u5668\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B\r\n\t\t\t\tif (this.castAll) {\r\n\t\t\t\t\t//\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B,\u68C0\u6D4B\u6240\u6709\u78B0\u649E\u7684\u7269\u4F53\r\n\t\t\t\t\tthis.scene.physicsSimulation.shapeCastAll(sphereCollider, this.from, this.to, this.hitResults);\r\n\t\t\t\t\tfor (i = 0, n = this.hitResults.length; i < n; i++)\r\n\t\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResults[i].collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B,\u68C0\u6D4B\u7B2C\u4E00\u4E2A\u78B0\u649E\u7269\u4F53\r\n\t\t\t\t\tif (this.scene.physicsSimulation.shapeCast(sphereCollider, this.from, this.to, this.hitResult))\r\n\t\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResult.collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\t//\u521B\u5EFA\u80F6\u56CA\u578B\u78B0\u649E\u5668\r\n\t\t\t\tvar capsuleCollider: CapsuleColliderShape = new CapsuleColliderShape(0.25, 1.0);\r\n\t\t\t\tfor (i = 0; i < 41; i++) {\r\n\t\t\t\t\tvar capsuleSprite: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(0.25, 1.0))));\r\n\t\t\t\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t\t\t\tmat.albedoColor = this._albedoColor;\r\n\t\t\t\t\tmat.renderMode = BlinnPhongMaterial.RENDERMODE_TRANSPARENT;\r\n\t\t\t\t\tcapsuleSprite.meshRenderer.material = mat;\r\n\t\t\t\t\tVector3.lerp(this.from, this.to, i / 40, this._position);\r\n\t\t\t\t\tcapsuleSprite.transform.localPosition = this._position;\r\n\t\t\t\t\tthis.debugSprites.push(capsuleSprite);\r\n\t\t\t\t}\r\n\t\t\t\t//\u4F7F\u7528\u80F6\u56CA\u78B0\u649E\u5668\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B\r\n\t\t\t\tif (this.castAll) {\r\n\t\t\t\t\t//\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B,\u68C0\u6D4B\u6240\u6709\u78B0\u649E\u7684\u7269\u4F53\r\n\t\t\t\t\tthis.scene.physicsSimulation.shapeCastAll(capsuleCollider, this.from, this.to, this.hitResults);\r\n\t\t\t\t\tfor (i = 0, n = this.hitResults.length; i < n; i++)\r\n\t\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResults[i].collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B,\u68C0\u6D4B\u7B2C\u4E00\u4E2A\u78B0\u649E\u7269\u4F53\r\n\t\t\t\t\tif (this.scene.physicsSimulation.shapeCast(capsuleCollider, this.from, this.to, this.hitResult))\r\n\t\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResult.collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcastType = this.castType;\r\n\t}\r\n\r\n\taddBox(): void {\r\n\t\tvar mat1: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/rocks.jpg\").then((res)=>{\r\n\t\t\t(mat1 as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\r\n\t\t//\u968F\u673A\u751F\u6210\u76D2\u5B50\u7684\u4F4D\u7F6E\r\n\t\tvar sX: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sY: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sZ: number = Math.random() * 0.75 + 0.25;\r\n\t\t//\u521B\u5EFA\u76D2\u5B50 MeshSprite3D\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n\t\t//\u8BBE\u7F6E\u76D2\u5B50\u7684\u6750\u8D28\r\n\t\tbox.meshRenderer.material = mat1;\r\n\t\tvar transform: Transform3D = box.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u578B\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(sX, sY, sZ);\r\n\t\t//\u8BBE\u7F6E\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddCapsule(): void {\r\n\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((res)=>{\r\n\t\t\t(mat as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\r\n\t\t//\u968F\u673A\u751F\u6210\u80F6\u56CA\u7684\u534A\u5F84\u548C\u9AD8\u5EA6\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\t//\u521B\u5EFA\u80F6\u56CAMeshSprite3D\u7CBE\u7075\r\n\t\tvar capsule: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(raidius, height))));\r\n\t\t//\u4E3A\u80F6\u56CA\u7CBE\u7075\u8BBE\u7F6E\u6750\u8D28\r\n\t\tcapsule.meshRenderer.material = mat;\r\n\t\tvar transform: Transform3D = capsule.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = capsule.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u80F6\u56CA\u578B\u78B0\u649E\u5668\r\n\t\tvar sphereShape: CapsuleColliderShape = new CapsuleColliderShape(raidius, height);\r\n\t\t//\u8BBE\u7F6E\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Color = Laya.Color;\r\nimport InputManager = Laya.InputManager;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport CapsuleColliderShape = Laya.CapsuleColliderShape;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport Collision = Laya.Collision;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport PhysicsComponent = Laya.PhysicsComponent;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('TYc_fkzXRhO8pP0oUdpDAQ')\r\nexport class PhysicsWorld_TriggerAndCollisionEvent extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate kinematicSphere: Sprite3D;\r\n\r\n\tprivate translateW: Vector3 = new Vector3(0, 0, -0.2);\r\n\tprivate translateS: Vector3 = new Vector3(0, 0, 0.2);\r\n\tprivate translateA: Vector3 = new Vector3(-0.2, 0, 0);\r\n\tprivate translateD: Vector3 = new Vector3(0.2, 0, 0);\r\n\tprivate translateQ: Vector3 = new Vector3(-0.01, 0, 0);\r\n\tprivate translateE: Vector3 = new Vector3(0.01, 0, 0);\r\n\r\n\tprivate plane: MeshSprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\t//\u521B\u5EFA\u5730\u9762\r\n\t\tthis.plane = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 10, 10))));\r\n\t\t//\u521B\u5EFABlinnPhong\u6750\u8D28\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t//\u52A0\u8F7D\u7EB9\u7406\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((res)=>{\r\n\t\t\t(planeMat as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tplaneMat.tilingOffset = new Vector4(2, 2, 0, 0);\r\n\t\tthis.plane.meshRenderer.material = planeMat;\r\n\r\n\t\t//\u521B\u5EFA\u7269\u7406\u78B0\u649E\r\n\t\tvar staticCollider: PhysicsCollider = (<PhysicsCollider>this.plane.addComponent(PhysicsCollider));\r\n\t\t//\u521B\u5EFA\u76D2\u578B\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(20, 0, 20);\r\n\t\t//\u4E3A\u7269\u7406\u78B0\u649E\u8BBE\u7F6E\u78B0\u649E\u5F62\u72B6\r\n\t\tstaticCollider.colliderShape = boxShape;\r\n\t\t//\u521B\u5EFA\u8FD0\u52A8\u5B66\u7269\u4F53\r\n\t\tthis.addKinematicSphere();\r\n\t\tfor (var i: number = 0; i < 30; i++) {\r\n\t\t\tthis.addBoxAndTrigger();\r\n\t\t\tthis.addCapsuleCollision();\r\n\t\t}\r\n\t}\r\n\r\n\taddKinematicSphere(): void {\r\n\t\t//\u521B\u5EFABlinnPhong\u6750\u8D28\r\n\t\tvar mat2: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t//\u52A0\u8F7D\u7EB9\u7406\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/plywood.jpg\").then((res)=>{\r\n\t\t\t(mat2 as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\u53CD\u7167\u7387\u989C\u8272\r\n\t\tmat2.albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\r\n\t\t//\u521B\u5EFA\u7403\u578BMeshSprite3D\r\n\t\tvar radius: number = 0.8;\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius))));\r\n\t\tsphere.meshRenderer.material = mat2;\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(0, 0.8, 0);\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u5F62\u78B0\u649E\u5668\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u78B0\u649E\u5F62\u72B6\u4E3A\u7403\u5F62\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 60;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u4E3A\u8FD0\u52A8\u5B66\uFF0C\u5982\u679C\u4E3Atrue\u4EC5\u53EF\u901A\u8FC7transform\u5C5E\u6027\u79FB\u52A8\u7269\u4F53,\u800C\u975E\u5176\u4ED6\u529B\u76F8\u5173\u5C5E\u6027\u3002\r\n\t\trigidBody.isKinematic = true;\r\n\r\n\t\tthis.kinematicSphere = sphere;\r\n\t\t//\u5F00\u59CB\u59CB\u7EC8\u5FAA\u73AF\uFF0C\u5B9A\u65F6\u91CD\u590D\u6267\u884C(\u57FA\u4E8E\u5E27\u7387)\uFF0C\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E3A\u95F4\u9694\u5E27\u6570\u3002\r\n\t\tLaya.timer.frameLoop(1, this, this.onKeyDown);\r\n\t}\r\n\r\n\tonKeyDown(): void {\r\n\t\tInputManager.hasKeyDown(87) && this.kinematicSphere.transform.translate(this.translateW);//W\r\n\t\tInputManager.hasKeyDown(83) && this.kinematicSphere.transform.translate(this.translateS);//S\r\n\t\tInputManager.hasKeyDown(65) && this.kinematicSphere.transform.translate(this.translateA);//A\r\n\t\tInputManager.hasKeyDown(68) && this.kinematicSphere.transform.translate(this.translateD);//D\r\n\t\tInputManager.hasKeyDown(81) && this.plane.transform.translate(this.translateQ);//Q\r\n\t\tInputManager.hasKeyDown(69) && this.plane.transform.translate(this.translateE);//E\r\n\t}\r\n\r\n\taddBoxAndTrigger(): void {\r\n\t\t//\u521B\u5EFABlinnPhong\u6750\u8D28\r\n\t\tvar mat1: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/rocks.jpg\").then((res)=>{\r\n\t\t\t(mat1 as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\t//\u8BBE\u7F6E\u53CD\u7167\u7387\u989C\u8272\r\n\t\tmat1.albedoColor = new Color(1.0, 1.0, 1.0, 1.0);\r\n\r\n\t\t//\u968F\u673A\u751F\u6210\u5750\u6807\r\n\t\tvar sX: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sY: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sZ: number = Math.random() * 0.75 + 0.25;\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tbox.meshRenderer.material = mat1;\r\n\r\n\t\tvar transform: Transform3D = box.transform;\r\n\t\t//\u8BBE\u7F6E\u4F4D\u7F6E\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 16 - 8, sY / 2, Math.random() * 16 - 8);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u6B27\u62C9\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(0, Math.random() * 360, 0);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\t//\u521B\u5EFA\u7269\u7406\u78B0\u649E\u5668\r\n\t\tvar staticCollider: PhysicsCollider = box.addComponent(PhysicsCollider);//StaticCollider\u53EF\u4E0E\u975EKinematic\u7C7B\u578BRigidBody3D\u4EA7\u751F\u78B0\u649E\r\n\t\t//\u521B\u5EFA\u76D2\u578B\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(sX, sY, sZ);\r\n\t\tstaticCollider.colliderShape = boxShape;\r\n\t\t//\u6807\u8BB0\u4E3A\u89E6\u53D1\u5668,\u53D6\u6D88\u7269\u7406\u53CD\u9988\r\n\t\tstaticCollider.isTrigger = true;\r\n\t\t//\u6DFB\u52A0\u89E6\u53D1\u5668\u7EC4\u4EF6\u811A\u672C\r\n\t\tvar script: TriggerCollisionScript = box.addComponent(TriggerCollisionScript);\r\n\t\tscript.kinematicSprite = this.kinematicSphere;\r\n\t}\r\n\r\n\taddCapsuleCollision(): void {\r\n\t\tvar mat3: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((res)=>{\r\n\t\t\t(mat3 as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\tvar capsule: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(raidius, height))));\r\n\t\tcapsule.meshRenderer.material = mat3;\r\n\r\n\t\tvar transform: Transform3D = capsule.transform;\r\n\t\t//\u8BBE\u7F6E\u4F4D\u7F6E\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u6B27\u62C9\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = capsule.addComponent(Rigidbody3D);//Rigidbody3D\u53EF\u4E0EStaticCollider\u548CRigidBody3D\u4EA7\u751F\u78B0\u649E\r\n\t\tvar sphereShape: CapsuleColliderShape = new CapsuleColliderShape(raidius, height);\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\trigidBody.mass = 10;\r\n\t\tvar script: TriggerCollisionScript = capsule.addComponent(TriggerCollisionScript);\r\n\t\tscript.kinematicSprite = this.kinematicSphere;\r\n\r\n\t}\r\n\r\n\taddSphere(): void {\r\n\t\tvar mat2: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/plywood.jpg\").then((res)=>{\r\n\t\t\t(mat2 as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\r\n\t\tvar radius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius))));\r\n\t\tsphere.meshRenderer.material = mat2;\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n}\r\n\r\nclass TriggerCollisionScript extends Laya.Script {\r\n\tkinematicSprite: Sprite3D;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\r\n\t}\r\n\r\n\t//\u5F00\u59CB\u89E6\u53D1\u65F6\u6267\u884C\r\n\tonTriggerEnter(other: PhysicsComponent): void {\r\n\t\t((<BlinnPhongMaterial>((<MeshRenderer>((<MeshSprite3D>this.owner)).meshRenderer)).sharedMaterial)).albedoColor = new Color(0.0, 1.0, 0.0, 1.0);\r\n\t}\r\n\r\n\t//\u6301\u7EED\u89E6\u53D1\u65F6\u6267\u884C\r\n\tonTriggerStay(other: PhysicsComponent): void {\r\n\t}\r\n\r\n\t//\u7ED3\u675F\u89E6\u53D1\u65F6\u6267\u884C\r\n\tonTriggerExit(other: PhysicsComponent): void {\r\n\t\t((<BlinnPhongMaterial>((<MeshRenderer>((<MeshSprite3D>this.owner)).meshRenderer)).sharedMaterial)).albedoColor = new Color(1.0, 1.0, 1.0, 1.0);\r\n\t}\r\n\r\n\t//\u5F00\u59CB\u78B0\u649E\u65F6\u6267\u884C\r\n\tonCollisionEnter(collision: Collision): void {\r\n\t\tif (collision.other.owner === this.kinematicSprite)\r\n\t\t\t((<BlinnPhongMaterial>((<MeshRenderer>((<MeshSprite3D>this.owner)).meshRenderer)).sharedMaterial)).albedoColor = new Color(0.0, 0.0, 0.0, 1.0);\r\n\t}\r\n\r\n\t//\u6301\u7EED\u78B0\u649E\u65F6\u6267\u884C\r\n\tonCollisionStay(collision: Collision): void {\r\n\t}\r\n\r\n\t//\u7ED3\u675F\u78B0\u649E\u65F6\u6267\u884C\r\n\tonCollisionExit(collision: Collision): void {\r\n\t}\r\n\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('LPbNgvuaRTOcq09WVTZE1Q')\r\nexport class PostProcessAO extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private postProcess:Laya.PostProcess = null;\r\n\r\n    constructor() {\r\n        super();        \r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        let postProcess = new Laya.PostProcess();\r\n\t\tpostProcess  = this.camera.postProcess;\r\n\t\tthis.postProcess = postProcess;\r\n\r\n        super.addBottomButton( [\"\u5173\u95EDAO\",\"\u5F00\u542FAO\"] , this, [this.setPostProcess, this.setPostProcess] );\r\n\t}\r\n\r\n\r\n\r\n\tprivate setPostProcess(): void {\r\n\r\n\t\tvar enableHDR = !!this.camera.postProcess;\r\n\t\tif (enableHDR) {\r\n\t\t\tthis.camera.postProcess = null;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.camera.postProcess = this.postProcess;\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('QilciEhpSaaAzkTE6AzkUQ')\r\nexport class PostProcessBloom extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n        \r\n    }\r\n\r\n    onAwake(): void {\r\n        super.base(this.camera);\r\n        \r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('6tWmalhjRXa18CoBDdVr-g')\r\nexport class PostProcessDoF extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n        \r\n    }\r\n\r\n    onAwake(): void {\r\n        super.base(this.camera);\r\n        \r\n\t}\r\n}", "#include \"Camera.glsl\";\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main() {\r\n\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\r\n\tv_Texcoord0 = a_PositionTexcoord.zw;\r\n\tgl_Position = remapPositionZ(gl_Position);\r\n}", "#define SHADER_NAME BlurHorizontal\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main()\r\n{\r\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\r\n    vec2 uv = v_Texcoord0;\r\n    vec2 uvOffset = vec2(1.0,0.0)*u_MainTex_TexelSize.xy*u_DownSampleValue;\r\n    uv = uv - uvOffset*3.0;\r\n    //\u9AD8\u65AF\u53C2\u6570\r\n    color+=0.0205*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.324*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0205*texture2D(u_MainTex,uv);\r\n\r\n    gl_FragColor = color;\r\n    \r\n\r\n    \r\n}", "#define SHADER_NAME BlurVertical\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main()\r\n{\r\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\r\n    vec2 uv = v_Texcoord0;\r\n    vec2 uvOffset = vec2(0.0,1.0)*u_MainTex_TexelSize.xy*u_DownSampleValue;\r\n    uv = uv - uvOffset*3.0;\r\n    //\u9AD8\u65AF\u53C2\u6570\r\n    color+=0.0205*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.324*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0205*texture2D(u_MainTex,uv);\r\n\r\n    gl_FragColor = color;\r\n    \r\n\r\n    \r\n}", "#define SHADER_NAME BlurDownSample\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main()\r\n{\r\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\r\n    color += texture2D(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(1.0,0.0));\r\n\tcolor += texture2D(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(-1.0,0.0));\r\n\tcolor += texture2D(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(0.0,-1.0));\r\n    color += texture2D(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(0.0,1.0));\r\n    gl_FragColor = color/4.0;\r\n    // gl_FragColor = vec4(1.0,0.0,0.0,1.0);\r\n}", "#include \"Camera.glsl\";\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main() {\r\n\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\r\n\tv_Texcoord0 = a_PositionTexcoord.zw;\r\n\tgl_Position = remapPositionZ(gl_Position);\r\n}", "#define SHADER_NAME EdgeAdd\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main()\r\n{\r\n    vec2 uv = v_Texcoord0;\r\n    vec4 mainColor = texture2D(u_MainTex,uv);\r\n    vec4 sourceColor = texture2D(u_sourceTexture0,uv);\r\n    float factor = step(sourceColor.x+sourceColor.y+sourceColor.z,0.001);\r\n    vec4 color = mix(sourceColor,mainColor,factor);\r\n    gl_FragColor =color;\r\n}", "#define SHADER_NAME EdgeSub\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main()\r\n{\r\n    vec2 uv = v_Texcoord0;\r\n    vec4 blurColor = texture2D(u_sourceTexture0,uv);\r\n    vec4 clearColor = texture2D(u_sourceTexture1,uv);\r\n    float factor = step(clearColor.x+clearColor.y+clearColor.z,0.001);\r\n    vec4 color = blurColor*factor;\r\n    color = (1.0-step(color.x+color.y+color.z,0.15))*vec4(1.0,0.0,0.0,1.0);\r\n    gl_FragColor = color;\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport PostProcessEffect = Laya.PostProcessEffect;\r\nimport PostProcessRenderContext = Laya.PostProcessRenderContext;\r\nimport CommandBuffer = Laya.CommandBuffer;\r\nimport Viewport = Laya.Viewport;\r\nimport Material = Laya.Material;\r\nimport BaseTexture = Laya.BaseTexture;\r\nimport FilterMode = Laya.FilterMode;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport Shader3D = Laya.Shader3D;\r\nimport ShaderData = Laya.ShaderData;\r\nimport ShaderDataType = Laya.ShaderDataType;\r\nimport LayaGL = Laya.LayaGL;\r\nimport Vector4 = Laya.Vector4;\r\nimport RenderTexture = Laya.RenderTexture;\r\nimport RenderState = Laya.RenderState;\r\nimport ShaderPass = Laya.ShaderPass;\r\nimport SubShader = Laya.SubShader;\r\nimport VertexMesh = Laya.VertexMesh;\r\n\r\n//\u53EF\u8BBF\u95EELayaAirDemo\u5DE5\u7A0B\u67E5\u770B\r\nimport BlurVS from \"./BlurShader/Blur.vs\";\r\nimport BlurHorizentalFS from \"./BlurShader/BlurHorizontal.fs\";\r\nimport BlurVerticalFS from \"./BlurShader/BlurVertical.fs\";\r\nimport BlurDownSampleFS from \"./BlurShader/BlurDownSample.fs\";\r\nimport BlurDownSampleVS from \"./BlurShader/BlurDownSample.vs\";\r\nimport BlurEdgeAdd from \"./BlurShader/EdgeAdd.fs\";\r\nimport BlurEdgeSub from \"./BlurShader/EdgeSub.fs\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('nrITl1efR5mxBLU56Zcdhg')\r\nexport class PostProcess_Blur extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private postProcess:Laya.PostProcess = null;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n        super.base(this.camera);\r\n\r\n\t\t(this.camera as Camera).clearFlag = CameraClearFlags.Sky;\r\n\t\t(this.camera as Camera).cullingMask ^=2;\r\n\t\t//this.camera.active = false;\r\n\t\t(this.camera as Camera).enableHDR = false;\r\n\t\tvar mainCamera:Camera = (this.scene.getChildByName(\"BlurCamera\") as Camera);// MainCamera//(this.camera as Camera).getChildAt(0) as Camera;\r\n        mainCamera.clearFlag = CameraClearFlags.DepthOnly;//\u5FAE\u4FE1\u5E73\u53F0\u6709bug\u8FD9\u91CC\u5F97\u6362\u6210DepthOnly\r\n\t\tmainCamera.cullingMask = 2;\r\n\t\tmainCamera.renderingOrder = 1;\r\n\t\tmainCamera.enableHDR = false;\r\n\t\t(this.camera as Camera).addChild(mainCamera);\r\n\t\tmainCamera.transform.localMatrix = new Laya.Matrix4x4();\r\n\r\n\t\t//\u589E\u52A0\u540E\u671F\u5904\u7406\r\n\t\tthis.postProcess = new Laya.PostProcess();\r\n\r\n\t\tvar blurEffect:BlurEffect = new BlurEffect();\r\n\t\tthis.postProcess.addEffect(blurEffect);\r\n\t\tthis.camera.postProcess = this.postProcess;\r\n\t\t\r\n\t\t//\u8BBE\u7F6E\u6A21\u7CCA\u53C2\u6570\r\n\t\tblurEffect.downSampleNum =6;\r\n\t\tblurEffect.blurSpreadSize = 1;\r\n\t\tblurEffect.blurIterations = 1;\r\n\r\n\t\tsuper.addBottomButton( [\"\u5173\u95ED\u9AD8\u65AF\u6A21\u7CCA\",\"\u5F00\u542F\u9AD8\u65AF\u6A21\u7CCA\"] , this, [this.setPostProcess, this.setPostProcess] );\r\n        // \u8FD9\u91CC\u4E3A\u4E86\u5904\u7406MainCamera\u4F7F\u7528RenderTexture\u753B\u5230canvas\u4E0A\u7334\u5B50\u7684\u95EE\u9898\uFF0C\u5355\u72EC\u8DD1\u793A\u4F8B\u65F6\u5019\u4E0D\u9700\u8981\u8FD9\u91CC\r\n        var RT = this.camera.renderTarget; \r\n        // RenderTexture.createFromPool(mainCamera.viewport.width, mainCamera.viewport.height, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.None, false, 1, false, true);\r\n        mainCamera.renderTarget = RT; \r\n    }\r\n\r\n\tprivate setPostProcess(): void {\r\n\t\tvar enableHDR = !!this.camera.postProcess;\r\n\t\tif (enableHDR) {\r\n\t\t\tthis.camera.postProcess = null;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.camera.postProcess = this.postProcess;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class BlurEffect extends PostProcessEffect {\r\n\r\n    static BLUR_TYPE_GaussianBlur: number = 0;\r\n    static BLUR_TYPE_Simple: number = 1;\r\n    static SHADERVALUE_MAINTEX: number;\r\n    static SHADERVALUE_TEXELSIZE: number;\r\n    static SHADERVALUE_DOWNSAMPLEVALUE: number;\r\n\r\n    static init() {\r\n        BlurEffect.SHADERVALUE_MAINTEX = Shader3D.propertyNameToID(\"u_MainTex\");\r\n        BlurEffect.SHADERVALUE_TEXELSIZE = Shader3D.propertyNameToID(\"u_MainTex_TexelSize\");\r\n        BlurEffect.SHADERVALUE_DOWNSAMPLEVALUE = Shader3D.propertyNameToID(\"u_DownSampleValue\");\r\n        //\u521D\u59CB\u5316shader\r\n        let attributeMap: any = {\r\n            'a_PositionTexcoord': [VertexMesh.MESH_POSITION0, ShaderDataType.Vector4]\r\n        };\r\n\r\n        let uniformMap: any = {\r\n            \"u_MainTex\": ShaderDataType.Texture2D,\r\n            \"u_sourceTexture0\": ShaderDataType.Texture2D,\r\n            \"u_sourceTexture1\": ShaderDataType.Texture2D,\r\n            \"u_MainTex_TexelSize\": ShaderDataType.Vector4,\r\n            \"u_DownSampleValue\": ShaderDataType.Float\r\n        };\r\n        var shader: Shader3D = Shader3D.add(\"blurEffect\");\r\n        //subShader0  \u964D\u91C7\u6837\r\n        var subShader: SubShader = new SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        var shaderpass: ShaderPass = subShader.addShaderPass(BlurDownSampleVS, BlurDownSampleFS);\r\n        var renderState: RenderState = shaderpass.renderState;\r\n        renderState.depthTest = RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = RenderState.CULL_NONE;\r\n        renderState.blend = RenderState.BLEND_DISABLE;\r\n        //subShader1 \u5782\u76F4\u53CD\u5411\u6A21\u7CCA\r\n        subShader = new SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurVerticalFS);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = RenderState.CULL_NONE;\r\n        renderState.blend = RenderState.BLEND_DISABLE;\r\n        //subShader2 \u6C34\u5E73\u65B9\u5411\u6A21\u7CCA\r\n        subShader = new SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurHorizentalFS);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = RenderState.CULL_NONE;\r\n        renderState.blend = RenderState.BLEND_DISABLE;\r\n        //subShader3 subTexture\r\n        subShader = new SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurEdgeSub);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = RenderState.CULL_NONE;\r\n        renderState.blend = RenderState.BLEND_DISABLE;\r\n        //subShader4 addTexture\r\n        subShader = new SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurEdgeAdd);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = RenderState.CULL_NONE;\r\n        renderState.blend = RenderState.BLEND_DISABLE;\r\n\r\n    }\r\n\r\n    /**@internal */\r\n    private _shader: Shader3D = null;\r\n    /**@internal */\r\n    private _shaderData: ShaderData = LayaGL.renderOBJCreate.createShaderData(null);\r\n    /**@internal */\r\n    private _downSampleNum: number = 1;\r\n    /**@internal */\r\n    private _blurSpreadSize: number = 1;\r\n    /**@internal */\r\n    private _blurIterations: number = 2;\r\n    /**@internal */\r\n    private _texSize: Vector4 = new Vector4(1.0, 1.0, 1.0, 1.0);\r\n    /**@internal */\r\n    private _tempRenderTexture: any[];\r\n\r\n    constructor() {\r\n        super();\r\n        BlurEffect.init();\r\n        this._shader = Shader3D.find(\"blurEffect\");\r\n        this._tempRenderTexture = new Array(13);\r\n    }\r\n\r\n    /**\r\n     * @return \u5F3A\u5EA6\u3002\r\n     */\r\n    get downSampleNum(): number {\r\n        return this._downSampleNum;\r\n    }\r\n\r\n    /**\r\n     * \u964D\u91C7\u6837,\u503C\u8303\u56F4\u4E3A0-6\u3002\r\n     * @param value \u5F3A\u5EA6\u3002\r\n     */\r\n    set downSampleNum(value: number) {\r\n        this._downSampleNum = Math.min(6, Math.max(value, 0.0));\r\n    }\r\n\r\n    /**\r\n     * \u91C7\u6837\u95F4\u9694  \u8FC7\u5927\u4F1A\u5931\u771F1-10\r\n     * @return \u3002\r\n     */\r\n    get blurSpreadSize(): number {\r\n        return this._blurSpreadSize;\r\n    }\r\n\r\n    /**\r\n     * @param value \r\n     */\r\n    set blurSpreadSize(value: number) {\r\n        this._blurSpreadSize = Math.min(10, Math.max(value, 1.0));\r\n    }\r\n\r\n    /**\r\n     * \u8FED\u4EE3\u6B21\u6570  \u8D8A\u5927\u6027\u80FD\u6D88\u8017\u8D8A\u5927 \u6548\u679C\u8D8A\u597D\r\n     * @return \u3002\r\n     */\r\n    get blurIterations(): number {\r\n        return this._blurIterations;\r\n    }\r\n\r\n    /**\r\n     * @param value\u3002\r\n     */\r\n    set blurIterations(value: number) {\r\n        this._blurIterations = Math.min(Math.max(value, 0.0), 6.0);\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     * @internal\r\n     */\r\n    render(context: PostProcessRenderContext): void {\r\n        var cmd: CommandBuffer = context.command;\r\n        var viewport: Viewport = context.camera.viewport;\r\n        var scaleFactor: number = 1.0 / (1 << Math.floor(this._downSampleNum));\r\n        var tw: number = Math.floor(viewport.width * scaleFactor);\r\n        var th: number = Math.floor(viewport.height * scaleFactor);\r\n        this._texSize.setValue(1.0 / tw, 1.0 / th, tw, th);\r\n        //\u8D4B\u503C\r\n        this._shaderData.setNumber(BlurEffect.SHADERVALUE_DOWNSAMPLEVALUE, this.blurSpreadSize);\r\n        this._shaderData.setVector(BlurEffect.SHADERVALUE_TEXELSIZE, this._texSize);\r\n        //\u964D\u91C7\u6837\r\n        var downSampleTexture: RenderTexture = RenderTexture.createFromPool(tw, th, RenderTargetFormat.R8G8B8, RenderTargetFormat.None, false, 1);\r\n        downSampleTexture.filterMode = FilterMode.Bilinear;\r\n        this._tempRenderTexture[0] = downSampleTexture;\r\n        var lastDownTexture: RenderTexture = context.source;\r\n        cmd.blitScreenTriangle(lastDownTexture, downSampleTexture, null, this._shader, this._shaderData, 0);\r\n        lastDownTexture = downSampleTexture;\r\n        //\u8FED\u4EE3\u6B21\u6570\r\n        for (var i: number = 0; i < this._blurIterations; i++) {\r\n            //vertical\r\n            var blurTexture: RenderTexture = RenderTexture.createFromPool(tw, th, RenderTargetFormat.R8G8B8, RenderTargetFormat.None, false, 1);\r\n            blurTexture.filterMode = FilterMode.Bilinear;\r\n            cmd.blitScreenTriangle(lastDownTexture, blurTexture, null, this._shader, this._shaderData, 1);\r\n            lastDownTexture = blurTexture;\r\n            this._tempRenderTexture[i * 2 + 1] = blurTexture;\r\n            //Horizental\r\n            blurTexture = RenderTexture.createFromPool(tw, th, RenderTargetFormat.R8G8B8, RenderTargetFormat.None, false, 1);\r\n            blurTexture.filterMode = FilterMode.Bilinear;\r\n            cmd.blitScreenTriangle(lastDownTexture, blurTexture, null, this._shader, this._shaderData, 2);\r\n            lastDownTexture = blurTexture;\r\n            this._tempRenderTexture[i * 2 + 2] = blurTexture;\r\n        }\r\n        context.source = lastDownTexture;\r\n        cmd.blitScreenTriangle(context.source, context.destination);\r\n        var maxTexture = this._blurIterations * 2 + 1;\r\n        //\u91CA\u653E\u6E32\u67D3\u7EB9\u7406\r\n        for (i = 0; i < maxTexture; i++) {\r\n            RenderTexture.recoverToPool(this._tempRenderTexture[i]);\r\n        }\r\n        context.deferredReleaseTextures.push(lastDownTexture);\r\n    }\r\n}\r\n\r\nexport class BlurMaterial extends Material {\r\n    static SHADERVALUE_MAINTEX: number;\r\n    static SHADERVALUE_TEXELSIZE: number;\r\n    static SHADERVALUE_DOWNSAMPLEVALUE: number;\r\n    static SHADERVALUE_SOURCETEXTURE0: number;\r\n    static ShADERVALUE_SOURCETEXTURE1: number;\r\n\r\n    static __init__(){\r\n        BlurMaterial.SHADERVALUE_MAINTEX = Shader3D.propertyNameToID(\"u_MainTex\");\r\n        BlurMaterial.SHADERVALUE_TEXELSIZE = Shader3D.propertyNameToID(\"u_MainTex_TexelSize\");\r\n        BlurMaterial.SHADERVALUE_DOWNSAMPLEVALUE = Shader3D.propertyNameToID(\"u_DownSampleValue\");\r\n        BlurMaterial.SHADERVALUE_SOURCETEXTURE0 = Shader3D.propertyNameToID(\"u_sourceTexture0\");\r\n        BlurMaterial.ShADERVALUE_SOURCETEXTURE1 = Shader3D.propertyNameToID(\"u_sourceTexture1\");\r\n    }\r\n\r\n    constructor(texelSize: Vector4, offset: number) {\r\n        super();\r\n        BlurMaterial.__init__();\r\n        this.setShaderName(\"blurEffect\");\r\n        this.setIntByIndex(BlurMaterial.SHADERVALUE_DOWNSAMPLEVALUE, offset);\r\n        this.setVector4ByIndex(BlurMaterial.SHADERVALUE_TEXELSIZE, texelSize);\r\n    }\r\n\r\n    sourceTexture(sourceTexture0: BaseTexture, sourceTexture1: BaseTexture) {\r\n        this.setTextureByIndex(BlurMaterial.SHADERVALUE_SOURCETEXTURE0, sourceTexture0);\r\n        this.setTextureByIndex(BlurMaterial.ShADERVALUE_SOURCETEXTURE1, sourceTexture1);\r\n    }\r\n}\r\n\r\n", "#define SHADER_NAME EdgeEffectVS\r\n\r\n#include \"Camera.glsl\";\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main() {\r\n\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\r\n\tv_Texcoord0 = a_PositionTexcoord.zw;\r\n\tgl_Position = remapPositionZ(gl_Position);\r\n}\r\n", "#define SHADER_NAME EdgeEffectFS\r\n#include \"DepthNormalUtil.glsl\";\r\n\r\nvarying vec2 v_Texcoord0;\r\n\r\n#ifdef DEPTHNORMAL\r\n    void getDepthNormal(out float depth, out vec3 normal){\r\n        vec4 col = texture2D(u_DepthNormalTex, v_Texcoord0);\r\n        DecodeDepthNormal(col, depth, normal);\r\n    }\r\n\r\n    float getDepth(vec2 uv) {\r\n        float depth;\r\n        vec3 normal;\r\n        vec4 col = texture2D(u_DepthNormalTex, uv);\r\n        DecodeDepthNormal(col, depth, normal);\r\n        return depth;\r\n    }\r\n\r\n    vec3 getNormal(vec2 uv) {\r\n        float depth;\r\n        vec3 normal;\r\n        vec4 col = texture2D(u_DepthNormalTex, uv);\r\n        DecodeDepthNormal(col, depth, normal);\r\n        return normal;\r\n    }\r\n\r\n#endif\r\n\r\n#ifdef DEPTH\r\n    float getDepth(vec2 uv) {\r\n        float depth = texture2D(u_DepthTex, uv).r;\r\n        depth = Linear01Depth(depth, u_DepthBufferParams);\r\n        return depth;\r\n    }\r\n#endif\r\n\r\nvoid SobelSample(in vec2 uv,out vec3 colorG, out vec3 normalG, out vec3 depthG) {\r\n\r\n    float offsetx = u_MainTex_TexelSize.x;\r\n    float offsety = u_MainTex_TexelSize.y;\r\n    vec2 offsets[9];\r\n    offsets[0] = vec2(-offsetx,  offsety); // \u5DE6\u4E0A\r\n    offsets[1] = vec2( 0.0,    offsety); // \u6B63\u4E0A\r\n    offsets[2] = vec2( offsetx,  offsety); // \u53F3\u4E0A\r\n    offsets[3] = vec2(-offsetx,  0.0);   // \u5DE6\r\n    offsets[4] = vec2( 0.0,    0.0);   // \u4E2D\r\n    offsets[5] = vec2( offsetx,  0.0);   // \u53F3\r\n    offsets[6] = vec2(-offsetx, -offsety); // \u5DE6\u4E0B\r\n    offsets[7] = vec2( 0.0,   -offsety); // \u6B63\u4E0B\r\n    offsets[8] = vec2( offsetx, -offsety); // \u53F3\u4E0B\r\n\r\n    float Gx[9];\r\n    Gx[0] = -1.0; Gx[1] = 0.0; Gx[2] = 1.0; \r\n    Gx[3] = -2.0; Gx[4] = 0.0; Gx[5] = 2.0; \r\n    Gx[6] = -1.0; Gx[7] = 0.0; Gx[8] = 1.0; \r\n\r\n    float Gy[9];\r\n    Gy[0] = 1.0; Gy[1] = 2.0; Gy[2] = 1.0; \r\n    Gy[3] = 0.0; Gy[4] = 0.0; Gy[5] = 0.0; \r\n    Gy[6] = -1.0; Gy[7] = -2.0;Gy[8] = -1.0; \r\n\r\n    vec3 sampleTex[9];\r\n    float sampleDepth[9];\r\n    vec3 sampleNormal[9];\r\n    for (int i = 0; i < 9; i++)\r\n    {\r\n        vec2 uvOffset = uv + offsets[i];\r\n        sampleTex[i] = texture2D(u_MainTex, uvOffset).rgb;\r\n        sampleDepth[i] = getDepth(uvOffset);\r\n        sampleNormal[i] = (getNormal(uvOffset) + 1.0) / 2.0;\r\n    }\r\n\r\n    vec3 colorGx = vec3(0.0);\r\n    vec3 colorGy = vec3(0.0);\r\n    float depthGx = 0.0;\r\n    float depthGy = 0.0;\r\n    vec3 normalGx = vec3(0.0);\r\n    vec3 normalGy = vec3(0.0);\r\n\r\n    for (int i = 0; i < 9; i++) {\r\n        colorGx += sampleTex[i] * Gx[i];\r\n        colorGy += sampleTex[i] * Gy[i];\r\n        depthGx += sampleDepth[i] * Gx[i];\r\n        depthGy += sampleDepth[i] * Gy[i];\r\n        normalGx += sampleNormal[i] * Gx[i];\r\n        normalGy += sampleNormal[i] * Gy[i];\r\n    }\r\n\r\n    float colDepthG = abs(depthGx) + abs(depthGy);\r\n    depthG = vec3(colDepthG);\r\n\r\n    colorG = abs(colorGx) + abs(colorGy);\r\n\r\n    normalG = abs(normalGx) + abs(normalGy);\r\n\r\n}\r\n\r\nfloat ColorGray(vec3 color) {\r\n    return (color.r + color.g + color.b) / 3.0;\r\n}\r\n\r\nvec3 getEdgeValue(float hold, vec3 valueG) {\r\n    return vec3(step(hold, ColorGray(valueG)));\r\n}\r\n\r\nvoid main() {\r\n    \r\n    vec2 uv = v_Texcoord0;\r\n\r\n    vec3 colorG, normalG, depthG;\r\n    SobelSample(uv, colorG, normalG, depthG);\r\n    vec3 edgeColor = vec3(0.2);\r\n\r\n    #if defined(DEPTHEDGE)\r\n        vec3 edgeValue = getEdgeValue(u_Depthhold, depthG);\r\n    #endif\r\n\r\n    #if defined(NORMALEDGE)\r\n        vec3 edgeValue = getEdgeValue(u_NormalHold, normalG);\r\n    #endif\r\n\r\n    #if defined(COLOREDGE)\r\n        vec3 edgeValue = getEdgeValue(u_ColorHold, colorG);\r\n    #endif\r\n\r\n    vec3 fillColor = u_EdgeColor.xyz;\r\n\r\n    #ifdef SOURCE\r\n        fillColor = texture2D(u_MainTex, uv).rgb;\r\n    #endif\r\n\r\n    vec3 finalColor = mix(fillColor, edgeColor, edgeValue);\r\n    gl_FragColor = vec4(finalColor, 1.0);\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport EdgeEffectVS from \"./PostProcess_Edge/shader/EdgeEffectVS.vs\";\r\nimport EdgeEffectFS from \"./PostProcess_Edge/shader/EdgeEffectFS.fs\";\r\n\r\nimport PostProcessEffect = Laya.PostProcessEffect;\r\nimport PostProcessRenderContext = Laya.PostProcessRenderContext;\r\nimport CommandBuffer = Laya.CommandBuffer;\r\nimport Viewport = Laya.Viewport;\r\nimport Camera = Laya.Camera;\r\nimport DepthTextureMode = Laya.DepthTextureMode;\r\nimport ShaderDefine = Laya.ShaderDefine;\r\nimport FilterMode = Laya.FilterMode;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport Shader3D = Laya.Shader3D;\r\nimport ShaderData = Laya.ShaderData;\r\nimport ShaderDataType = Laya.ShaderDataType;\r\nimport LayaGL = Laya.LayaGL;\r\nimport Vector4 = Laya.Vector4;\r\nimport RenderTexture = Laya.RenderTexture;\r\nimport ShaderPass = Laya.ShaderPass;\r\nimport SubShader = Laya.SubShader;\r\nimport VertexMesh = Laya.VertexMesh;\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Color = Laya.Color;\r\nimport Quaternion = Laya.Quaternion;\r\nimport Event = Laya.Event;\r\nimport HSlider = Laya.HSlider;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Button = Laya.Button;\r\nimport PostProcess = Laya.PostProcess;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('9hC_-O-LQLe_XVQZw2pFyw')\r\nexport class PostProcess_Edge extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();        \r\n    }\r\n\r\n    onAwake(): void {\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 4, 10);\r\n        this.camera.transform.rotation = new Quaternion(-0.2, 0, 0, 0.97);\r\n\r\n        this.addLight();\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/dude/dude.lh\").then(res=>{\r\n\t\t\tlet sphere: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createSphere(1), \"Sphere\");\r\n\t\t\tthis.scene.addChild(sphere);\r\n\t\t\tsphere.transform.position = new Vector3(0, 1, 0);\r\n\t\r\n\t\t\tlet plane: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createPlane(), \"Plane\");\r\n\t\t\tthis.scene.addChild(plane);\r\n\t\t\tplane.transform.position = new Vector3(0, -0.5, 0);\r\n\t\r\n\t\t\tlet cube: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createBox(1, 1, 1), \"Cube\");\r\n\t\t\tthis.scene.addChild(cube);\r\n\t\t\tcube.transform.position = new Vector3(0, 3, 0);\r\n\t\t\t\r\n\t\t\tthis.camera.depthTextureMode |= DepthTextureMode.DepthNormals;\r\n\t\r\n\t\t\tlet dude: Sprite3D = res.create();\r\n\t\t\tthis.scene.addChild(dude);\r\n\t\t\tdude.transform.position = new Vector3(1.5, 0, 0);\r\n\t\t\tdude.transform.rotationEuler = new Vector3(0, 180, 0);\r\n\t\r\n\t\t\tlet postProcess: PostProcess = new PostProcess();\r\n\t\t\tthis.camera.postProcess = postProcess;\r\n\t\r\n\t\t\tlet edgeEffect: EdgeEffect = new EdgeEffect();\r\n\t\t\tpostProcess.addEffect(edgeEffect);\r\n\t\r\n\t\t\tthis.addUI(edgeEffect);\r\n\t\t});\r\n\t}\r\n\r\n    addLight(): void {\r\n\r\n        let dirLightDirections: Vector3[] = [new Vector3(-1, -1, -1), new Vector3(1, -1, -1)]\r\n        let lightColor: Color = new Color(0.6, 0.6, 0.6);\r\n        for (let index = 0; index < dirLightDirections.length; index++) {\r\n            let dir: Vector3 = dirLightDirections[index];\r\n            Vector3.normalize(dir, dirLightDirections[index]);\r\n            let dirLight: DirectionLight = new DirectionLight();\r\n            this.scene.addChild(dirLight);\r\n            dirLight.transform.worldMatrix.setForward(dirLightDirections[index]);\r\n            dirLight.color = lightColor;\r\n        }\r\n\r\n    }\r\n\r\n    addUI(edgeEffect: EdgeEffect): void {\r\n\t\tLaya.loader.load([\"resources/res/ui/hslider.png\", \"resources/image/img_btn_bg.png\", \"resources/res/ui/hslider$bar.png\", \"resources/res/ui/colorPicker.png\"]).then(()=>{\r\n            \r\n\t\t\tlet colorFunc: Function = function () {\r\n                edgeEffect.edgeMode = EdgeMode.ColorEdge;\r\n                colorSlider.visible = true;\r\n                normalSlider.visible = false;\r\n                depthSlider.visible = false;\r\n            };\r\n            let colorButton: Button = this.addButton(60, 150, 160, 30, \"color edge\", 20, colorFunc);\r\n\r\n            let colorSlider: HSlider = this.addSlider(60, 190, 300, 0.01, 1, 0.7, 0.01, function (value: number) {\r\n                edgeEffect.colorHold = value;\r\n            });\r\n\r\n            let normalFunc: Function = function () {\r\n                edgeEffect.edgeMode = EdgeMode.NormalEdge;\r\n                colorSlider.visible = false;\r\n                normalSlider.visible = true;\r\n                depthSlider.visible = false;\r\n            };\r\n            let normalButton: Button = this.addButton(60, 230, 160, 30, \"normal edge\", 20, normalFunc);\r\n\r\n            let normalSlider: HSlider = this.addSlider(60, 270, 300, 0.01, 1, 0.7, 0.01, function (value: number) {\r\n                edgeEffect.normalHold = value;\r\n            });\r\n\r\n            let depthButton: Button = this.addButton(60, 310, 160, 30, \"depth edge\", 20, function () {\r\n                edgeEffect.edgeMode = EdgeMode.DepthEdge;\r\n                colorSlider.visible = false;\r\n                normalSlider.visible = false;\r\n                depthSlider.visible = true;\r\n            });\r\n\r\n            let depthSlider: HSlider = this.addSlider(60, 350, 300, 0.01, 1, 0.7, 0.01, function (value: number) {\r\n                edgeEffect.depthHold = value;\r\n            });\r\n\r\n            let source: Button = this.addButton(60, 390, 160, 30, \"show source\", 20, function () {\r\n                edgeEffect.showSource = !edgeEffect.showSource;\r\n            });\r\n\r\n            colorFunc();\r\n\r\n        });\r\n    }\r\n\r\n    addButton(x: number, y: number, width: number, height: number, text: string, size: number, clickFunc: Function) {\r\n        let button: Button = <Button>this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", text));\r\n        button.size(width, height);\r\n        button.size(150, 40);\r\n        button.labelSize = 16;\r\n        button.sizeGrid = \"21,83,22,76\";\r\n        button.stateNum = size;\r\n        button.stateNum = 1;\r\n        button.labelColors = \"#ffffff\";\r\n        button.pos(x, y);\r\n        button.on(Event.CLICK, this, clickFunc);\r\n        return button;\r\n    }\r\n\r\n    addSlider(x: number, y: number, width: number, min: number, max: number, value: number, tick: number, changeFunc: Function) {\r\n        let slider: HSlider = <HSlider>this.owner.addChild(new HSlider(\"resources/res/ui/hslider.png\"));\r\n        slider.width = width;\r\n        slider.pos(x, y);\r\n        slider.min = min;\r\n        slider.max = max;\r\n        slider.value = value;\r\n        slider.tick = tick;\r\n        slider.changeHandler = Handler.create(this, changeFunc, [], false);\r\n\r\n        slider.visible = false;\r\n\r\n        return slider;\r\n    }\r\n\r\n}\r\n\r\nexport enum EdgeMode {\r\n    ColorEdge = 0,\r\n    NormalEdge = 1,\r\n    DepthEdge = 2\r\n}\r\n\r\nexport class EdgeEffect extends PostProcessEffect {\r\n    private _shader: Shader3D = null;\r\n    private static _isShaderInit: boolean = false;\r\n    private _shaderData: ShaderData = LayaGL.renderOBJCreate.createShaderData(null);\r\n    static DEPTHTEXTURE: number;\r\n    static DEPTHNORMALTEXTURE: number;\r\n    static DEPTHBUFFERPARAMS: number;\r\n    static EDGECOLOR: number;\r\n    static COLORHOLD: number;\r\n    static DEPTHHOLD: number;\r\n    static NORMALHOLD: number;\r\n    static SHADERDEFINE_DEPTHNORMAL: ShaderDefine;\r\n    static SHADERDEFINE_DEPTH: ShaderDefine;\r\n    static SHADERDEFINE_DEPTHEDGE: ShaderDefine;\r\n    static SHADERDEFINE_NORMALEDGE: ShaderDefine;\r\n    static SHADERDEFINE_COLOREDGE: ShaderDefine;\r\n    static SHADERDEFINE_SOURCE: ShaderDefine;\r\n    _depthBufferparam: Vector4 = new Vector4();\r\n\r\n    _edgeMode: EdgeMode = EdgeMode.NormalEdge;\r\n\r\n    static __init__() {\r\n        EdgeEffect.DEPTHTEXTURE = Shader3D.propertyNameToID(\"u_DepthTex\");\r\n        EdgeEffect.DEPTHNORMALTEXTURE = Shader3D.propertyNameToID(\"u_DepthNormalTex\");\r\n        EdgeEffect.DEPTHBUFFERPARAMS = Shader3D.propertyNameToID(\"u_DepthBufferParams\");\r\n        EdgeEffect.EDGECOLOR = Shader3D.propertyNameToID(\"u_EdgeColor\");\r\n        EdgeEffect.COLORHOLD = Shader3D.propertyNameToID(\"u_ColorHold\");\r\n        EdgeEffect.DEPTHHOLD = Shader3D.propertyNameToID(\"u_Depthhold\");\r\n        EdgeEffect.NORMALHOLD = Shader3D.propertyNameToID(\"u_NormalHold\");\r\n    }\r\n    static EdgeEffectShaderInit() {\r\n        EdgeEffect.__init__();\r\n        EdgeEffect.SHADERDEFINE_DEPTH = Shader3D.getDefineByName(\"DEPTH\");\r\n        EdgeEffect.SHADERDEFINE_DEPTHNORMAL = Shader3D.getDefineByName(\"DEPTHNORMAL\");\r\n\r\n        EdgeEffect.SHADERDEFINE_DEPTHEDGE = Shader3D.getDefineByName(\"DEPTHEDGE\");\r\n        EdgeEffect.SHADERDEFINE_NORMALEDGE = Shader3D.getDefineByName(\"NORMALEDGE\");\r\n        EdgeEffect.SHADERDEFINE_COLOREDGE = Shader3D.getDefineByName(\"COLOREDGE\");\r\n\r\n        EdgeEffect.SHADERDEFINE_SOURCE = Shader3D.getDefineByName(\"SOURCE\");\r\n        let attributeMap: any = {\r\n            'a_PositionTexcoord': [VertexMesh.MESH_POSITION0, ShaderDataType.Vector4]\r\n        };\r\n\r\n        let uniformMap: any = {\r\n            \"u_MainTex\": ShaderDataType.Texture2D,\r\n            \"u_MainTex_TexelSize\": ShaderDataType.Vector4,\r\n            \"u_DepthTex\": ShaderDataType.Texture2D,\r\n            \"u_DepthNormalTex\": ShaderDataType.Texture2D,\r\n            \"u_DepthBufferParams\": ShaderDataType.Vector4,\r\n            \"u_EdgeColor\": ShaderDataType.Color,\r\n            \"u_ColorHold\": ShaderDataType.Float,\r\n            \"u_Depthhold\": ShaderDataType.Float,\r\n            \"u_NormalHold\": ShaderDataType.Float,\r\n        };\r\n        let shader: Shader3D = Shader3D.add(\"PostProcessEdge\");\r\n        let subShader: SubShader = new SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        let pass: ShaderPass = subShader.addShaderPass(EdgeEffectVS, EdgeEffectFS);\r\n        pass.renderState.depthWrite = false;\r\n    }\r\n    constructor() {\r\n        super();\r\n        if (!EdgeEffect._isShaderInit) {\r\n            EdgeEffect._isShaderInit = true;\r\n            EdgeEffect.EdgeEffectShaderInit();\r\n        }\r\n        this._shader = Shader3D.find(\"PostProcessEdge\");\r\n        this.edgeColor = new Vector3(0.0, 0.0, 0.0);\r\n        this.colorHold = 0.7;\r\n        this.normalHold = 0.7;\r\n        this.depthHold = 0.7;\r\n        this.edgeMode = EdgeMode.DepthEdge;\r\n        this.showSource = true;\r\n    }\r\n\r\n    get edgeColor(): Vector3 {\r\n        return this._shaderData.getVector3(EdgeEffect.EDGECOLOR);\r\n    }\r\n\r\n    set edgeColor(value: Vector3) {\r\n        this._shaderData.setVector3(EdgeEffect.EDGECOLOR, value);\r\n    }\r\n\r\n    get colorHold(): number {\r\n        return this._shaderData.getNumber(EdgeEffect.COLORHOLD);\r\n    }\r\n\r\n    set colorHold(value: number) {\r\n        this._shaderData.setNumber(EdgeEffect.COLORHOLD, value);\r\n    }\r\n\r\n    get depthHold(): number {\r\n        return this._shaderData.getNumber(EdgeEffect.DEPTHHOLD);\r\n    }\r\n\r\n    set depthHold(value: number) {\r\n        this._shaderData.setNumber(EdgeEffect.DEPTHHOLD, value)\r\n    }\r\n\r\n    get normalHold(): number {\r\n        return this._shaderData.getNumber(EdgeEffect.NORMALHOLD);\r\n    }\r\n\r\n    set normalHold(value: number) {\r\n        this._shaderData.setNumber(EdgeEffect.NORMALHOLD, value);\r\n    }\r\n\r\n    get edgeMode(): EdgeMode {\r\n        return this._edgeMode;\r\n    }\r\n\r\n    get showSource(): boolean {\r\n        return this._shaderData.hasDefine(EdgeEffect.SHADERDEFINE_SOURCE);\r\n    }\r\n\r\n    set showSource(value: boolean) {\r\n        if (value) {\r\n            this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_SOURCE);\r\n        }\r\n        else {\r\n            this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_SOURCE);\r\n        }\r\n    }\r\n\r\n    set edgeMode(value: EdgeMode) {\r\n        this._edgeMode = value;\r\n        switch (value) {\r\n            case EdgeMode.ColorEdge:\r\n                this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_COLOREDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_DEPTHEDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_NORMALEDGE);\r\n                break;\r\n            case EdgeMode.NormalEdge:\r\n                this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_NORMALEDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_DEPTHEDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_COLOREDGE);\r\n                break;\r\n            case EdgeMode.DepthEdge:\r\n                this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_DEPTHEDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_COLOREDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_NORMALEDGE);\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    render(context: PostProcessRenderContext): void {\r\n        let cmd: CommandBuffer = context.command;\r\n        let viewport: Viewport = context.camera.viewport;\r\n\r\n        let camera: Camera = context.camera;\r\n        let far: number = camera.farPlane;\r\n        let near: number = camera.nearPlane;\r\n\r\n        let source: RenderTexture = context.indirectTarget;\r\n        let destination: RenderTexture = context.destination;\r\n\r\n        let width: number = viewport.width;\r\n        let height: number = viewport.height;\r\n\r\n        let renderTexture: RenderTexture = RenderTexture.createFromPool(width, height, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.DEPTH_16, false, 1);\r\n        renderTexture.filterMode = FilterMode.Bilinear;\r\n\r\n        if (camera.depthTextureMode == DepthTextureMode.Depth) {\r\n            this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_DEPTH);\r\n            this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_DEPTHNORMAL);\r\n            this._shaderData.setTexture(EdgeEffect.DEPTHTEXTURE, camera.depthTexture);\r\n        }\r\n        else if (camera.depthTextureMode == DepthTextureMode.DepthNormals) {\r\n            this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_DEPTHNORMAL);\r\n            this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_DEPTH);\r\n            this._shaderData.setTexture(EdgeEffect.DEPTHNORMALTEXTURE, camera.depthNormalTexture);\r\n        }\r\n\r\n        this._depthBufferparam.setValue(1.0 - far / near, far / near, (near - far) / (near * far), 1 / near);\r\n        this._shaderData.setVector(EdgeEffect.DEPTHBUFFERPARAMS, this._depthBufferparam);\r\n\r\n        cmd.blitScreenTriangle(source, context.destination, null, this._shader, this._shaderData, 0);\r\n\r\n        //context.source = renderTexture;\r\n        context.deferredReleaseTextures.push(renderTexture);\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Handler = Laya.Handler;\r\nimport Resource = Laya.Resource;\r\nimport Camera = Laya.Camera;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('38famCDgR0ym30-6sa8ajw')\r\nexport class GarbageCollection extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate _scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\t//\u53EF\u4EE5\u4F7F\u7528Laya.Scene3D.load\r\n\t\tScene3D.load(\"resources/res/threeDimen/scene/LayaScene_dudeScene/Conventional/dudeSceneNoCamera.ls\", Handler.create(this, (scene:Scene3D)=> {\r\n\t\t\tthis._scene = (<Scene3D>this.scene.addChildAt(scene, 0));\r\n\t\t\tsuper.addBottomButton( [\"\u91CA\u653E\u663E\u5B58\",\"\u52A0\u8F7D\u573A\u666F\"] , this, [this.garbageCollection, this.loadScene] );\r\n\t\t}));\r\n\t}\r\n\t\r\n\tloadScene(): void {\r\n\r\n\t\t//\u4E5F\u53EF\u4EE5\u4F7F\u7528Laya.loader\u7684\u65B9\u5F0F\u52A0\u8F7D\uFF0C\u52A0\u8F7D\u540E\u6839\u8282\u70B9\u662FScene2D\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/scene/LayaScene_dudeScene/Conventional/dudeSceneNoCamera.ls\").then((res)=> {\r\n\t\t\tlet scene = res.create();\r\n\t\t\t//scene.scene3D \u53EF\u4EE5\u83B7\u5F97Scene3D\u8D44\u6E90\r\n\t\t\tlet scene3D = scene.scene3D;\r\n\t\t\tthis._scene = (<Scene3D>this.scene.addChildAt(scene3D, 0));\r\n\t\t});\r\n\t}\r\n\t\r\n\tgarbageCollection(): void {\r\n\t\t\r\n\t\tif (this._scene)//_scene\u4E0D\u4E3A\u7A7A\u8868\u793A\u573A\u666F\u5DF2\u52A0\u8F7D\u5B8C\u6210\r\n\t\t{\r\n\t\t\tthis._scene.destroy();//\u9500\u6BC1\u573A\u666F\r\n\t\t\tthis._scene = null;\r\n\t\t\tResource.destroyUnusedResources();//\u9500\u6BC1\u65E0\u7528\u8D44\u6E90(\u6CA1\u6709\u88AB\u573A\u666F\u6811\u5F15\u7528,\u5E76\u4E14\u6CA1\u6709\u52A0\u8D44\u6E90\u9501\u7684)\r\n\t\t}\r\n\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Loader = Laya.Loader;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('l_P8B_I6QPebADRrvKlaxQ')\r\nexport class LoadFbxRosource extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n        \r\n        this.camera.transform.position = new Vector3(0.5, 1.2, 4);\r\n\r\n        //\u6570\u7EC4\u52A0\u8F7D\u65B9\u5F0F\r\n        var Resource:any[] = [\r\n            //\u53EF\u4EE5\u76F4\u63A5\u52A0\u8F7D\u5DF2\u7ECF\u5728IDE\u91CC\u5236\u4F5C\u597D\u7684lh\uFF0C\u5176\u4E2D\u6750\u8D28\u5DF2\u7ECF\u521B\u5EFA\u597D\r\n            { url: \"resources/res/threeDimen/fbx/Danding.lh\", type: Loader.HIERARCHY },\r\n            //\u53EF\u4EE5\u76F4\u63A5\u52A0\u8F7DFBX\u6587\u4EF6\uFF0C\u5E76\u914D\u7F6E\u6750\u8D28\u4F7F\u7528\u7684shader\u548C\u7EB9\u7406\u8D34\u56FE\r\n            { url: \"resources/res/threeDimen/fbx/Stand.FBX\", type: Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/fbx/Material.lmat\", type: Loader.MATERIAL },\r\n            { url: \"resources/res/threeDimen/fbx/LayaMonkey.lmat\", type: Loader.MATERIAL }\r\n        ];\r\n\r\n        Laya.loader.load(Resource).then( (res:any[] )=>{\r\n            this.onFBXComplete(res);\r\n\r\n            //\u5355\u72EC\u52A0\u8F7D\u65B9\u5F0F\uFF0C\u5FC5\u987B\u52A0\u5165Loader.HIERARCHY\u7C7B\u578B\r\n            Laya.loader.load(\"resources/res/threeDimen/fbx/LayaMonkey.FBX\",Loader.HIERARCHY).then( fbx =>{\r\n                var LayaMonkey: Sprite3D = fbx.create();\r\n                this.scene.addChild(LayaMonkey);\r\n                LayaMonkey.transform.position = new Vector3(2.5, 0, 0);\r\n                LayaMonkey.transform.setWorldLossyScale(new Vector3(0.6, 0.6, 0.6));\r\n                LayaMonkey.getChildAt(0).getComponent(Laya.MeshRenderer).material = res[3];\r\n            });            \r\n        });\r\n\r\n    }\r\n\r\n    onFBXComplete(res:any[]): void {\r\n\r\n        // \u9700\u8981\u4F7F\u7528create()\r\n        let Danding: Sprite3D = res[0].create();\r\n        this.scene.addChild(Danding);\r\n        Danding.transform.position = new Vector3(-2, 0, 0);\r\n\r\n        var Stand: Sprite3D = res[1].create();\r\n        this.scene.addChild(Stand);\r\n        Stand.transform.position = new Vector3(0, 0, 0);\r\n        Stand.getChildAt(0).getComponent(Laya.MeshRenderer).material = res[2];\r\n        \r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Loader = Laya.Loader;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('lPWOq6rmQyKUxN1mVPIxeg')\r\nexport class LoadGltfRosource extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n        \r\n        this.camera.transform.position = new Vector3(0.5, 1.2, 4);\r\n\r\n        //\u6570\u7EC4\u52A0\u8F7D\u65B9\u5F0F\r\n        var gltfResource:any[] = [\r\n\r\n            { url: \"resources/res/threeDimen/gltf/RiggedFigure/RiggedFigure.gltf\", type: Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/gltf/Duck/Duck.lh\", type: Loader.HIERARCHY }\r\n        ];\r\n\r\n        Laya.loader.load(gltfResource).then( (res:any[] )=>{\r\n            this.onGLTFComplete(res);\r\n        });\r\n\r\n        //\u5355\u72EC\u52A0\u8F7D\u65B9\u5F0F\uFF0C\u5FC5\u987B\u52A0\u5165Loader.HIERARCHY\u7C7B\u578B\r\n        Laya.loader.load(\"resources/res/threeDimen/gltf/AnimatedCube/AnimatedCube.gltf\",Loader.HIERARCHY).then( res=>{\r\n            var cube: Sprite3D = res.create();\r\n            this.scene.addChild(cube);\r\n            cube.transform.position = new Vector3(2.5, 0.6, 0);\r\n            cube.transform.setWorldLossyScale(new Vector3(0.6, 0.6, 0.6));\r\n        });\r\n    \r\n    }\r\n\r\n    onGLTFComplete(res:any[]): void {\r\n\r\n        // \u9700\u8981\u4F7F\u7528create()\r\n        let riggedFigure: Sprite3D = res[0].create();\r\n        this.scene.addChild(riggedFigure);\r\n        riggedFigure.transform.position = new Vector3(-2, 0, 0);\r\n\r\n        var duck: Sprite3D = res[1].create();\r\n        this.scene.addChild(duck);\r\n        duck.transform.position = new Vector3(0, 0, 0);\r\n        \r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport SkyRenderer = Laya.SkyRenderer;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Quaternion = Laya.Quaternion;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport SkyBox = Laya.SkyBox;\r\nimport ProgressBar = Laya.ProgressBar;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('3MBAcdRxQ4yTPr_DYawDpA')\r\nexport class LoadResourceDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.ProgressBar)\r\n    private loadingBar: ProgressBar;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        let resArr : Array<any>= [\r\n\r\n            //\u52A0\u8F7D\u4E0D\u540C\u7C7B\u578B\u76843D\u8D44\u6E90\r\n            { url: \"resources/res/threeDimen/skyBox/skyBox2/skyBox2.lmat\", type: Laya.Loader.MATERIAL },\r\n            { url: \"resources/res/threeDimen/texture/earth.png\", type: Laya.Loader.TEXTURE2D },\r\n            { url: \"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\", type: Laya.Loader.MESH },\r\n            { url: \"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", type: Laya.Loader.HIERARCHY }\r\n\r\n        ]; \r\n\r\n        Laya.loader.load(resArr, null, Laya.Handler.create(this, this.onLoading, null, false)).then(( res:any[] )=> {\r\n\r\n            this.loadingBar.visible = false;\r\n            this.onComplete(res);\r\n            \r\n        });\r\n        // \u4FA6\u542C\u52A0\u8F7D\u5931\u8D25\r\n        Laya.loader.on(Laya.Event.ERROR, this, this.onError);\r\n\t}\r\n\r\n\t//\u52A0\u8F7D\u8D44\u6E90\r\n\tonComplete(res:any[]) {\r\n\r\n        //res[1] \u83B7\u53D6\u6750\u8D28\r\n        //\u83B7\u53D6\u76F8\u673A\u7684\u5929\u7A7A\u6E32\u67D3\u5668\r\n        var skyRenderer: SkyRenderer = this.camera.skyRenderer;\r\n        //\u521B\u5EFA\u5929\u7A7A\u76D2\u7684mesh\r\n        skyRenderer.mesh = SkyBox.instance;\r\n        //\u8BBE\u7F6E\u5929\u7A7A\u76D2\u6750\u8D28\r\n        skyRenderer.material = res[0];\r\n\r\n        //res[1] \u83B7\u53D6\u7EB9\u7406\r\n        var earth1: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(1))));\r\n        earth1.transform.position = new Laya.Vector3(0, 1, 0);\r\n        var earthMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n        earthMat.albedoTexture = res[1];\r\n        earthMat.albedoIntensity = 1;\r\n        earth1.meshRenderer.material = earthMat;\r\n\r\n        //res[2] \u83B7\u53D6Mesh\uFF0C\u521B\u5EFAMeshSprite3D\r\n        var layaMonkey: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(res[2])));\r\n        var layaMonkeyTrans = layaMonkey.transform;\r\n        var layaMonkeyScale: Vector3 = layaMonkeyTrans.localScale;\r\n        layaMonkeyScale.setValue(0.5, 0.5, 0.5);\r\n        layaMonkeyTrans.localScale = layaMonkeyScale;\r\n        layaMonkey.transform.rotation = new Quaternion(0.7071068, 0, 0, -0.7071067);\r\n        layaMonkey.transform.translate(new Vector3(-2, 0, 0));\r\n\r\n        //res[3].create() \u83B7\u53D6\u7CBE\u7075\uFF0Clh/ls\u9700\u8981\u4F7F\u7528create()\r\n        var layaMonkey2: Sprite3D = (<Sprite3D>this.scene.addChild(res[3].create()));\r\n        var layaMonkey2Trans = layaMonkey2.transform;\r\n        var layaMonkey2Scale: Vector3 = layaMonkey2Trans.localScale;\r\n        layaMonkey2Scale.setValue(5, 5, 5);\r\n        layaMonkey2Trans.localScale = layaMonkey2Scale;\r\n        layaMonkey2Trans.translate(new Vector3(2, 0, 0));\r\n\t}\r\n\r\n\r\n    /**\r\n   * \u5F53\u62A5\u9519\u65F6\u6253\u5370\u9519\u8BEF\r\n   */\r\n    onError(err: string): void {\r\n        console.log(\"\u52A0\u8F7D\u5931\u8D25: \" + err);\r\n    }\r\n\r\n    /**\r\n     * \u52A0\u8F7D\u65F6\u4FA6\u542C\r\n     */\r\n    onLoading(progress: number): void {\r\n        //\u63A5\u8FD1\u5B8C\u6210\u52A0\u8F7D\u65F6\uFF0C\u8BA9\u663E\u793A\u8FDB\u5EA6\u6BD4\u5B9E\u9645\u8FDB\u5EA6\u6162\u4E00\u70B9\uFF0C\u8FD9\u662F\u4E3A\u6253\u5F00\u573A\u666F\u65F6\u7684\u81EA\u52A8\u52A0\u8F7D\u9884\u7559\uFF0C\u5C24\u5176\u662F\u8981\u6253\u5F00\u7684\u573A\u666F\u8D44\u6E90\u591A\uFF0C\u5E76\u6CA1\u6709\u5B8C\u5168\u653E\u5230\u9884\u52A0\u8F7D\u4E2D\uFF0C\u8FD8\u9700\u8981\u518D\u81EA\u52A8\u52A0\u8F7D\u4E00\u90E8\u5206\u65F6\u3002\r\n        if (progress > 0.92) this.loadingBar.value = 0.95;\r\n        else\r\n        {\r\n            this.loadingBar.value = progress;\r\n            console.log(\"\u52A0\u8F7D\u8FDB\u5EA6: \" + progress, this.loadingBar.value);\r\n        }\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Scene3D = Laya.Scene3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Mesh = Laya.Mesh;\r\nimport Texture2D = Laya.Texture2D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('BbAKFuvnRZqB07oEEn5PFw')\r\nexport class DynamicBatchTest extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6.2, 10.5);\r\n\t\tthis.camera.transform.rotationEuler = new Vector3(-40, 0, 0);\r\n\r\n        Laya.loader.load(\"resources/res/threeDimen/layabox.png\").then((tex:Texture2D)=>{\r\n\t\t\tvar radius: Vector3 = new Vector3(0, 0, 1);\r\n\t\t\tvar radMatrix: Matrix4x4 = new Matrix4x4();\r\n\t\t\tvar circleCount: number = 50;\r\n\r\n\t\t\tvar boxMesh: Mesh = PrimitiveMesh.createBox(0.02, 0.02, 0.02);\r\n\t\t\tvar boxMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t\tboxMat.albedoTexture = tex;\r\n\t\t\tfor (var i: number = 0; i < circleCount; i++) {\r\n\t\t\t\tradius.z = 1.0 + i * 0.15;\r\n\t\t\t\tradius.y = i * 0.03;\r\n\t\t\t\tvar oneCircleCount: number = 100 + i * 15;\r\n\t\t\t\tfor (var j: number = 0; j < oneCircleCount; j++) {\r\n\t\t\t\t\tvar boxSprite: MeshSprite3D = new MeshSprite3D(boxMesh);\r\n\t\t\t\t\tboxSprite.meshRenderer.sharedMaterial = boxMat;\r\n\t\t\t\t\tvar localPos: Vector3 = boxSprite.transform.localPosition;\r\n\t\t\t\t\tvar rad: number = ((Math.PI * 2) / oneCircleCount) * j;\r\n\t\t\t\t\tMatrix4x4.createRotationY(rad, radMatrix);\r\n\t\t\t\t\tVector3.transformCoordinate(radius, radMatrix, localPos);\r\n\t\t\t\t\tboxSprite.transform.localPosition = localPos;\r\n\t\t\t\t\tthis.scene.addChild(boxSprite);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport SkyRenderer = Laya.SkyRenderer;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport AmbientMode = Laya.AmbientMode;\r\nimport SkyBoxMaterial = Laya.SkyBoxMaterial;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport SkyBox = Laya.SkyBox;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('1hCkqcdbRjqjmoSNj6H_iQ')\r\nexport class EnvironmentalReflection extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate teapot: MeshSprite3D = null;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\t//\u8BBE\u7F6E\u573A\u666F\u7684\u53CD\u5C04\u6A21\u5F0F(\u5168\u5C40\u6709\u6548)\r\n\t\tthis.scene.ambientMode = AmbientMode.SphericalHarmonics;\r\n\t\tthis.scene.reflectionIntensity = 1;\r\n\r\n\t\t//\u521D\u59CB\u5316\u7167\u76F8\u673A\r\n\t\tthis.camera.transform.translate(new Vector3(0, 2, 3));\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u6E05\u9664\u6807\u8BC6\u4E3A\u5929\u7A7A\u76D2\r\n\t\tthis.camera.clearFlag = CameraClearFlags.Sky;\r\n\r\n\t\t//\u5929\u7A7A\u76D2\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skyBox/DawnDusk/Skybox.lmat\").then((res: SkyBoxMaterial)=> {\r\n\t\t\t//\u83B7\u53D6\u76F8\u673A\u7684\u5929\u7A7A\u76D2\u6E32\u67D3\u4F53\r\n\t\t\tvar skyRenderer: SkyRenderer = this.scene.skyRenderer;\r\n\t\t\t//\u8BBE\u7F6E\u5929\u7A7A\u76D2mesh\r\n\t\t\tskyRenderer.mesh = SkyBox.instance;\r\n\t\t\t//\u8BBE\u7F6E\u5929\u7A7A\u76D2\u6750\u8D28\r\n\t\t\tskyRenderer.material = res;\r\n\t\t\t//\u8BBE\u7F6E\u66DD\u5149\u5F3A\u5EA6\r\n\t\t\tres.exposure = 0.6 + 1;\r\n\t\t});\r\n\r\n\t\t//\u52A0\u8F7DMesh\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/staticModel/teapot/teapot-Teapot001.lm\").then((res)=> {\r\n\r\n\t\t\tthis.teapot = <MeshSprite3D>this.scene.addChild(new MeshSprite3D(res));\r\n\t\t\tthis.teapot.transform.position = new Vector3(0, 1.75, 2);\r\n            this.teapot.transform.setWorldLossyScale(new Vector3(5, 5, 5));\r\n\t\t\tthis.teapot.transform.rotate(new Vector3(-90, 0, 0), false, false);\r\n\t\t\t//\u5B9E\u4F8BPBR\u6750\u8D28\r\n\t\t\tvar pbrMat: PBRStandardMaterial = new PBRStandardMaterial();\r\n\t\t\t//\u8BBE\u7F6E\u6750\u8D28\u7684\u91D1\u5C5E\u5EA6\uFF0C\u5C3D\u91CF\u9AD8\u70B9\uFF0C\u53CD\u5C04\u6548\u679C\u66F4\u660E\u663E\r\n\t\t\tpbrMat.metallic = 1;\r\n\t\t\tthis.teapot.meshRenderer.material = pbrMat;\r\n\t\t\t\r\n\t\t});\t\t\r\n\r\n\t\tthis.loadEnvironmentalReflection();\r\n\r\n\t\t//super.addBottomButton( [\"\u53D6\u6D88\u73AF\u5883\u53CD\u5C04\",\"\u52A0\u8F7D\u73AF\u5883\u53CD\u5C04\"] , this, [this.removeEnvironmentalReflection, this.loadEnvironmentalReflection]);\r\n\r\n\t}\r\n \r\n\tremoveEnvironmentalReflection() {\r\n                \r\n       this.scene.sceneReflectionProb.iblTex = null;\r\n\t}\r\n\r\n\tloadEnvironmentalReflection() {\r\n\r\n\t\t//\u52A0\u8F7D\u5728\u573A\u666F\u4E2D\u9884\u5148\u7528\u5929\u7A7A\u76D2\u70D8\u7119\u51FA\u6765\u7684\u5929\u7A7A\u76D2cubemap\r\n\t\tLaya.loader.load(\"resources/scene/3D/Scene3D/EnvironmentalReflection/EnvironmentalReflection.ktx\").then((res)=> {\t\t\r\n\t\t\tthis.scene.sceneReflectionProb.iblTex = res;\t\t\t\r\n\t\t});     \r\n\t}  \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Camera = Laya.Camera;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Button = Laya.Button;\r\nimport AmbientMode = Laya.AmbientMode;\r\nimport Color = Laya.Color;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('qTisyXdZTwG1gOvVHqytCw')\r\nexport class GriendSkyAmbientDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private sprite3D: Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\t//\u521D\u59CB\u5316\u7167\u76F8\u673A\r\n\t\tthis.camera.transform.position = (new Vector3(0, 2, 3));\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u573A\u666F\u9884\u5148\u70D8\u7119\u597D\u73AF\u5883\u53CD\u5C04\r\n        this.scene.ambientIntensity = 0.5;\r\n\r\n        this.sprite3D = this.scene.addChild(new Sprite3D()) as Sprite3D;\r\n\r\n        var mat: PBRStandardMaterial = new PBRStandardMaterial();\r\n        //\u6B63\u65B9\u4F53\r\n        var box = this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createBox(0.5, 0.5, 0.5))) as MeshSprite3D;\r\n        box.transform.position = new Vector3(2.0, 0.25, 0.6);\r\n        box.transform.rotate(new Vector3(0, 45, 0), false, false);\r\n        box.meshRenderer.material = mat;\r\n        //\u7403\u4F53\r\n        var sphere = this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(0.25, 20, 20))) as MeshSprite3D;\r\n        sphere.transform.position = new Vector3(1.0, 0.25, 0.6);\r\n        sphere.meshRenderer.material = mat;\r\n        //\u5706\u67F1\u4F53\r\n        var cylinder = this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCylinder(0.25, 1, 20))) as MeshSprite3D;\r\n        cylinder.transform.position = new Vector3(0, 0.5, 0.6);\r\n        cylinder.meshRenderer.material = mat;\r\n        //\u80F6\u56CA\u4F53\r\n        var capsule = this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(0.25, 1, 10, 20))) as MeshSprite3D;\r\n        capsule.transform.position = new Vector3(-1.0, 0.5, 0.6);\r\n        capsule.meshRenderer.material = mat;\r\n        \r\n        //\u5706\u9525\u4F53\r\n        var cone = this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCone(0.25, 0.75))) as MeshSprite3D;\r\n        cone.transform.position = new Vector3(-2.0, 0.375, 0.6);\r\n        cone.meshRenderer.material = mat;\r\n\r\n        super.addBottomButton( [\"\u56FA\u5B9A\u989C\u8272\",\"\u7403\u8C10\u5149\u7167\"] , this, [this.setSolidColor, this.setSphericalHarmonics]);\r\n                \r\n    }\r\n\r\n\tsetSphericalHarmonics() {\r\n\r\n        //\u4F7F\u7528\u7403\u8C10\u5149\u7167\uFF0C\u524D\u63D0\u662F\u5728\u573A\u666F\u4E2D\u5148\u8BBE\u7F6E\u597D\u5929\u7A7A\u76D2\uFF0C\u5728ReflectionProbe\u4E2D\u70D8\u7119\r\n        this.scene.ambientMode = AmbientMode.SphericalHarmonics;\r\n\t}\r\n\r\n\tsetSolidColor() {\r\n\r\n        //\u4F7F\u7528\u56FA\u5B9A\u989C\u8272\r\n        this.scene.ambientMode = AmbientMode.SolidColor;\r\n        this.scene.ambientColor = new Color(0.56, 0.89, 1);\r\n        \r\n\t}    \r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Lightmap = Laya.Lightmap;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('QF4gBXa_TEOCyNGvac8wYQ')\r\nexport class LightmapScene extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private lightMaps: Lightmap[];\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    //\u8BF7\u8FDB\u5165\u573A\u666F\u67E5\u770B\u5149\u7167\u8D34\u56FE\u7684\u8BBE\u7F6E resources\\res\\threeDimen\\LightmapScene\\Scene.ls\r\n    //\u4F7F\u7528\u5149\u7167\u8D34\u56FE\uFF0C\u524D\u63D0\u662F\u5728\u573A\u666F\u4E2D\u5148\u521B\u5EFA\u706F\u5149\u8BBE\u7F6E\uFF0C\u70D8\u7119\u51FA\u5149\u7167\u8D34\u56FE\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.lightMaps = this.scene.lightmaps;\r\n        super.addBottomButton( [\"\u53D6\u6D88\u5149\u7167\u8D34\u56FE\",\"\u663E\u793A\u5149\u7167\u8D34\u56FE\",\"\u52A0\u8F7D\u5149\u7167\u8D34\u56FE\"] , this, [this.setLightmapOff, this.setLightmapOn, this.loadLightmap]);\r\n                \r\n    }\r\n\r\n\tsetLightmapOff() {\r\n                \r\n        this.scene.lightmaps = null;\r\n\t}\r\n\r\n\tsetLightmapOn() {\r\n\r\n        this.scene.lightmaps = this.lightMaps;\r\n\t\t// Laya.loader.load(\"resources/res/threeDimen/LightmapScene/Scene/diffuse0.png\").then((res)=> {\r\n\t\t// \tthis.lightMaps[0].lightmapColor = res;\r\n\t\t// });        \r\n\t}   \r\n\r\n\tloadLightmap() {\r\n\r\n        this.scene.lightmaps = null;\r\n        let newLightmap: Lightmap = new Lightmap();        \r\n\t\tLaya.loader.load(\"resources/res/threeDimen/LightmapScene/Scene/diffuse0.png\").then((res)=> {\r\n\t\t\tnewLightmap.lightmapColor = res;\r\n            newLightmap.lightmapDirection = null;\r\n\t\t});    \r\n        let newLightmaps: Lightmap[] = [];\r\n        newLightmaps.push(newLightmap);\r\n        this.scene.lightmaps = newLightmaps;\r\n\t}       \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport ProgressBar = Laya.ProgressBar;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('xhc7RuhBSzunYgtV0RhO6A')\r\nexport class SceneLoad1 extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.ProgressBar)\r\n    private loadingBar: ProgressBar;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n        \r\n        Laya.loader.load(\"resources/res/threeDimen/scene/LayaScene_dudeScene/Conventional/dudeSceneNoCamera.ls\", null, Laya.Handler.create(this, this.onLoading, null, false)).then((res)=> {\r\n\r\n            this.loadingBar.visible = false;\r\n\r\n            // lh/ls\u9700\u8981\u4F7F\u7528create()\r\n\t\t\tlet scene = res.create();\r\n\t\t\t//scene.scene3D \u53EF\u4EE5\u83B7\u5F97Scene3D\u8D44\u6E90\r\n\t\t\tlet scene3D = scene.scene3D;\r\n            this.scene.addChildAt(scene3D, 0);\r\n            \r\n        });\r\n        // \u4FA6\u542C\u52A0\u8F7D\u5931\u8D25\r\n        Laya.loader.on(Laya.Event.ERROR, this, this.onError);\r\n\r\n\t}\r\n\r\n    /**\r\n   * \u5F53\u62A5\u9519\u65F6\u6253\u5370\u9519\u8BEF\r\n   * @param err \u62A5\u9519\u4FE1\u606F\r\n   */\r\n    onError(err: string): void {\r\n        console.log(\"\u52A0\u8F7D\u5931\u8D25: \" + err);\r\n    }\r\n\r\n    /**\r\n     * \u52A0\u8F7D\u65F6\u4FA6\u542C\r\n     */\r\n    onLoading(progress: number): void {\r\n        //\u63A5\u8FD1\u5B8C\u6210\u52A0\u8F7D\u65F6\uFF0C\u8BA9\u663E\u793A\u8FDB\u5EA6\u6BD4\u5B9E\u9645\u8FDB\u5EA6\u6162\u4E00\u70B9\uFF0C\u8FD9\u662F\u4E3A\u6253\u5F00\u573A\u666F\u65F6\u7684\u81EA\u52A8\u52A0\u8F7D\u9884\u7559\uFF0C\u5C24\u5176\u662F\u8981\u6253\u5F00\u7684\u573A\u666F\u8D44\u6E90\u591A\uFF0C\u5E76\u6CA1\u6709\u5B8C\u5168\u653E\u5230\u9884\u52A0\u8F7D\u4E2D\uFF0C\u8FD8\u9700\u8981\u518D\u81EA\u52A8\u52A0\u8F7D\u4E00\u90E8\u5206\u65F6\u3002\r\n        if (progress > 0.92) this.loadingBar.value = 0.95;\r\n        else\r\n        {\r\n            this.loadingBar.value = progress;\r\n            console.log(\"\u52A0\u8F7D\u8FDB\u5EA6: \" + progress, this.loadingBar.value);\r\n        }\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('qfgvizrZTmGXKOyyozuFtA')\r\nexport class ScriptDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\t//\u6DFB\u52A0\u81EA\u5B9A\u4E49\u6A21\u578B\r\n\t\tvar box = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1), \"MOs\")) as Laya.MeshSprite3D;\r\n\t\t//\u8BBE\u7F6E\u6A21\u578B\u7684\u65CB\u8F6C\r\n\t\tbox.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);\r\n\t\t//\u521B\u5EFA\u6750\u8D28\r\n\t\tvar material = new Laya.BlinnPhongMaterial();\r\n\t\tbox.meshRenderer.material = material;\r\n\t\t//\u52A0\u8F7D\u6A21\u578B\u7684\u6750\u8D28\u8D34\u56FE\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/layabox.png\").then((text)=> {\r\n\t\t\t\r\n\t\t\t//\u7ED9box\u6DFB\u52A0\u81EA\u5B9A\u4E49\u811A\u672C\u7EC4\u4EF6\r\n\t\t\tbox.addComponent(BoxControlScript);\r\n\t\t\t\r\n\t\t\t//\u7ED9\u6A21\u578B\u6DFB\u52A0\u6750\u8D28\r\n\t\t\tmaterial.albedoTexture = text;\r\n\r\n\t\t});\r\n        \t//4\u79D2\u540E\u5220\u9664\u81EA\u5B9A\u4E49\u7EC4\u4EF6\r\n\t\tLaya.timer.once(4000, this, this.onLoop, [box]);\r\n\t}\r\n\r\n\tprivate onLoop(box:Laya.MeshSprite3D):void {\r\n\t\tconsole.log(\"\u79FB\u9664\u7EC4\u4EF6\");\r\n\t\t// \u83B7\u53D6\u5230\u7EC4\u4EF6\r\n\t\tvar boxContro = box.getComponent(BoxControlScript);\r\n\t\t// \u79FB\u9664\u7EC4\u4EF6\r\n\t\tboxContro.destroy();\r\n\t\t//\u5982\u4E0D\u60F3\u79FB\u9664\u7EC4\u4EF6\uFF0C\u53EF\u8BBE\u7F6E\u4E3A\u4E0D\u542F\u7528\u80FD\u8FBE\u5230\u540C\u6837\u6548\u679C\uFF08\u7EC4\u4EF6_update\u65B9\u6CD5\u5C06\u4E0D\u4F1A\u88AB\u66F4\u65B0\uFF09\r\n\t\t//boxContro.enabled = false;\r\n\t}\r\n}\r\n\r\nclass BoxControlScript extends Laya.Script3D {\r\n\r\n\tprivate box:Laya.MeshSprite3D;\r\n\tprivate _rotation = new Laya.Vector3(0, 0.5, 0);\r\n\t\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\t/**\r\n\t * \u8986\u51993D\u5BF9\u8C61\u7EC4\u4EF6\u88AB\u6FC0\u6D3B\u540E\u6267\u884C\uFF0C\u6B64\u65F6\u6240\u6709\u8282\u70B9\u548C\u7EC4\u4EF6\u5747\u5DF2\u521B\u5EFA\u5B8C\u6BD5\uFF0C\u6B64\u65B9\u6CD5\u53EA\u6267\u884C\u4E00\u6B21\r\n\t */\r\n\tpublic onAwake():void {\r\n\t\t//\u5F97\u52303D\u5BF9\u8C61\r\n\t\tthis.box = this.owner as  Laya.MeshSprite3D;\r\n\t}\r\n\t\r\n\tpublic onStart():void {\r\n\t}\r\n\t\r\n\t/**\r\n\t * \u8986\u5199\u7EC4\u4EF6\u66F4\u65B0\u65B9\u6CD5\uFF08\u76F8\u5F53\u4E8E\u5E27\u5FAA\u73AF\uFF09\r\n\t */\r\n\tpublic onUpdate():void {\r\n\t\t//\u6240\u5C5E\u811A\u672C\u5BF9\u8C61\u65CB\u8F6C\u66F4\u65B0\r\n\t\tthis.box.transform.rotate(this._rotation, false, false)\r\n\t}\r\n\t\r\n\tpublic onDisable() {\r\n\t\tconsole.log(\"\u7EC4\u4EF6\u8BBE\u7F6E\u4E3A\u4E0D\u53EF\u7528\");\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n// import { GlowingEdgeMaterial } from \"./customMaterials/GlowingEdgeMaterial\";\r\n// import GlowingEdgeShaderFS from \"./customShader/glowingEdgeShader.fs\";\r\n// import GlowingEdgeShaderVS from \"./customShader/glowingEdgeShader.vs\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Material = Laya.Material;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BaseTexture = Laya.BaseTexture;\r\nimport Shader3D = Laya.Shader3D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('6ILsZVUCStSsKZ1349Aitw')\r\nexport class Shader_GlowingEdge extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\r\n    constructor() {\r\n        super();        \r\n    }\r\n\t\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\t//\u521D\u59CB\u5316shader\r\n\t\tthis.initShader();\r\n\r\n\t\tvar resource:any[] = [\r\n            \"resources/res/threeDimen/skinModel/dude/dude.lh\",\r\n            \"resources/res/threeDimen/skinModel/dude/Assets/dude/head.png\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/dude/Assets/dude/jacket.png\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/dude/Assets/dude/pants.png\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/dude/Assets/dude/upBodyC.png\",\r\n\t\t\t\"resources/res/threeDimen/texture/earth.png\"\r\n        ];\r\n\r\n        Laya.loader.load(resource).then( (res:any[] )=>{\r\n\t\t\t//\u521D\u59CB\u5316\u8D44\u6E90\r\n            this.onComplete(res);\r\n        });\r\n\r\n\t}\r\n\r\n\tonComplete(res:any[]):void{\t\t\r\n\t\t//\u521B\u5EFA\u573A\u666F\r\n\t\tvar scene: Scene3D = this.scene;\r\n\r\n\t\t//\u521B\u5EFA\u76F8\u673A\r\n\t\tvar camera: Camera = this.camera;\r\n\t\tcamera.transform.position = (new Vector3(0, 1, 1));\r\n\t\tcamera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\t\t\r\n\t\t//\u521B\u5EFA\u5E73\u884C\u5149\r\n\t\tvar directionLight: DirectionLight = new DirectionLight();\r\n\t\tscene.addChild(directionLight);\r\n\t\tdirectionLight.color = new Laya.Color(1, 1, 1, 1);\r\n\t\tscene.ambientColor = new Laya.Color(1.0, 0.0, 0.0);\r\n\t\t//\u52A0\u8F7D\u7CBE\u7075\r\n\t\tlet dude = scene.addChild(res[0].create());\r\n\t\tdude.active = false;\r\n\t\tLaya.timer.once(500, this, ()=> {\r\n\t\t\tdude.active = true;\r\n\t\t});\r\n\r\n\t\t//\u4F7F\u7528\u81EA\u5B9A\u4E49\u7684\u6750\u8D28\r\n\t\tvar glowingEdgeMaterial1: GlowingEdgeMaterial = new GlowingEdgeMaterial();\r\n\t\t//\u52A0\u8F7D\u7EB9\u7406\r\n\t\tglowingEdgeMaterial1.diffuseTexture = res[1];\r\n\t\t//\u8BBE\u7F6E\u8FB9\u7F18\u989C\u8272\r\n\t\tglowingEdgeMaterial1.marginalColor = new Vector3(1, 0.7, 0);\r\n\r\n\t\tvar glowingEdgeMaterial2: GlowingEdgeMaterial = new GlowingEdgeMaterial();\r\n\t\tglowingEdgeMaterial2.diffuseTexture = res[2];\r\n\t\tglowingEdgeMaterial2.marginalColor = new Vector3(1, 0.7, 0);\r\n\r\n\t\tvar glowingEdgeMaterial3: GlowingEdgeMaterial = new GlowingEdgeMaterial();\r\n\t\tglowingEdgeMaterial3.diffuseTexture = res[3];\r\n\t\tglowingEdgeMaterial3.marginalColor = new Vector3(1, 0.7, 0);\r\n\r\n\t\tvar glowingEdgeMaterial4: GlowingEdgeMaterial = new GlowingEdgeMaterial();\r\n\t\tglowingEdgeMaterial4.diffuseTexture = res[4];\r\n\t\tglowingEdgeMaterial4.marginalColor = new Vector3(1, 0.7, 0);\r\n\r\n\t\tvar baseMaterials: Material[] = [];\r\n\t\tbaseMaterials[0] = glowingEdgeMaterial1;\r\n\t\tbaseMaterials[1] = glowingEdgeMaterial2;\r\n\t\tbaseMaterials[2] = glowingEdgeMaterial3;\r\n\t\tbaseMaterials[3] = glowingEdgeMaterial4;\r\n\r\n\t\t(<Laya.SkinnedMeshSprite3D>dude.getChildAt(0).getChildAt(0)).skinnedMeshRenderer.sharedMaterials = baseMaterials;\r\n\t\tdude.transform.position = new Vector3(0, 0.5, 0);\r\n\t\tdude.transform.setWorldLossyScale(new Vector3(0.2, 0.2, 0.2));\r\n\t\tdude.transform.rotate(new Vector3(0, 180, 0), false, false);\r\n\r\n\t\t//\u52A0\u8F7D\u5730\u7403\u7CBE\u7075\r\n\t\tvar earth: MeshSprite3D = (<MeshSprite3D>scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(0.5, 128, 128))));\r\n\r\n\t\tvar glowingEdgeMaterial: GlowingEdgeMaterial = new GlowingEdgeMaterial();\r\n\t\t\t\r\n\t\tglowingEdgeMaterial.diffuseTexture = res[5];\r\n\t\tearth.meshRenderer.sharedMaterial = glowingEdgeMaterial;\t\r\n\t\tglowingEdgeMaterial.marginalColor = new Vector3(0.0, 0.3, 1.0);\t\t\r\n\r\n\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\tearth.transform.rotate(this.rotation, true);\r\n\t\t});\r\n\t}\r\n    //\u521D\u59CB\u5316shader\r\n\tprivate initShader(): void {\r\n\t\t//\u521B\u5EFA\u81EA\u5B9A\u4E49shader\r\n\t\tvar glowingEdgeShader: Laya.Shader3D = Laya.Shader3D.add(\"GlowingEdgeMaterial\", true, true);\r\n\t\t//\u4E3A\u5F53\u524D\u81EA\u5B9A\u4E49\u7684shader\u6DFB\u52A0SubShader\r\n\t\tvar subShader: Laya.SubShader = new Laya.SubShader();\r\n\t\tglowingEdgeShader.addSubShader(subShader);\r\n\t\t//SubShader\u6DFB\u52A0ShaderPass\r\n\r\n\t\tlet GlowingEdgeShaderVS = \r\n\t\t'#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n'+\r\n\t\t'precision highp float;\\r\\n'+\r\n\t\t'precision highp int;\\r\\n'+\r\n\t\t'#else\\r\\n'+\r\n\t\t\t'precision mediump float;\\r\\n'+\r\n\t\t\t'precision mediump int;\\r\\n'+\r\n\t\t'#endif\\r\\n'+\r\n\t\t\r\n\t\t'#define SHADER_NAME EDGE_VS\\r\\n'+\r\n\t\t\r\n\t\t'#include \"VertexCommon.glsl\";\\r\\n'+\r\n\t\t'#include \"Scene.glsl\";\\r\\n'+\r\n\t\t'#include \"Camera.glsl\";\\r\\n'+\r\n\t\t'#include \"Sprite3DVertex.glsl\";\\r\\n'+\r\n\t\t'varying vec2 v_Texcoord;\\r\\n'+\r\n\t\t'varying vec3 v_Normal;\\r\\n'+\r\n\t\t'varying vec3 v_PositionWorld;\\r\\n'+\r\n\t\t\r\n\t\t'void main()\\r\\n'+\r\n\t\t'{\\r\\n'+\r\n\t\t\t'Vertex vertex;\\r\\n'+\r\n\t\t\t'getVertexParams(vertex);\\r\\n'+\r\n\t\t\t'v_Texcoord = vertex.texCoord0;\\r\\n'+\r\n\t\t\t'mat4 worldMat = getWorldMatrix();\\r\\n'+\r\n\t\t\t'vec3 positionWS = (worldMat * vec4(vertex.positionOS, 1.0)).xyz;\\r\\n'+\r\n\t\t\t'v_PositionWorld = positionWS;\\r\\n'+\r\n\t\t\t'v_Normal = normalize((worldMat * vec4(vertex.normalOS, 0.0))).xyz;\\r\\n'+\r\n\t\t\t'gl_Position = getPositionCS(positionWS);\\r\\n'+\r\n\t\t\t'gl_Position=remapPositionZ(gl_Position);\\r\\n'+\r\n\t\t'}\\r\\n';\r\n\r\n\t\t//\u00A0\u539F\u6765\u7684\u5199\u6CD5\u4F1A\u88AB\u6211\u4EEC\u81EA\u5DF1\u7684\u89E3\u6790\u6D41\u7A0B\u5904\u7406\uFF0C\u800C\u6211\u4EEC\u7684\u89E3\u6790\u662F\u4E0D\u8BA4\u5185\u7F6E\u5B8F\u7684\uFF0C\u5BFC\u81F4\u88AB\u5220\u6389\uFF0C\u6240\u4EE5\u6539\u6210\u00A0if\u00A0defined\u00A0\u4E86\r\n\t\tlet GlowingEdgeShaderFS = \r\n\t\t'#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n'+\r\n\t\t'precision highp float;\\r\\n'+\r\n\t\t'precision highp int;\\r\\n'+\r\n\t\t'#else\\r\\n'+\r\n\t\t\t'precision mediump float;\\r\\n'+\r\n\t\t\t'precision mediump int;\\r\\n'+\r\n\t\t'#endif\\r\\n'+\r\n\t\t'#define SHADER_NAME EDGE_FS\\r\\n'+\r\n\t\t\r\n\t\t'#include \"Lighting.glsl\";\\r\\n'+\r\n\t\t'#include \"Camera.glsl\";\\r\\n'+\r\n\t\t\r\n\t\t'#include \"Scene.glsl\";\\r\\n'+\r\n\t\t'#include \"globalIllumination.glsl\";\\r\\n'+\r\n\t\t\r\n\t\t'varying vec2 v_Texcoord;\\r\\n'+\r\n\t\t'uniform sampler2D u_texture;\\r\\n'+\r\n\t\t'uniform vec3 u_marginalColor;\\r\\n'+\r\n\t\t\r\n\t\t'varying vec3 v_Normal;\\r\\n'+\r\n\t\t'varying vec3 v_PositionWorld;\\r\\n'+\r\n\t\t\r\n\t\t'void main()\\r\\n'+\r\n\t\t'{\\r\\n'+\r\n\t\t\t'gl_FragColor=texture2D(u_texture, v_Texcoord);\\r\\n'+\r\n\t\t\t'vec3 ambientCol = diffuseIrradiance(v_Normal);\\r\\n'+\r\n\t\t\t'vec3 normal=normalize(v_Normal);\\r\\n'+\r\n\t\t\t'vec3 toEyeDir = normalize(getViewDirection(v_PositionWorld));\\r\\n'+\r\n\t\t\t'float Rim = 1.0 - max(0.0,dot(toEyeDir, normal));\\r\\n'+\r\n\t\t\t'vec3 lightColor = ambientCol;\\r\\n'+\r\n\t\t\t'vec3 Emissive = 2.0 * lightColor * u_marginalColor * pow(Rim,3.0);\\r\\n'+  \r\n\t\t\t\r\n\t\t\t'gl_FragColor = texture2D(u_texture, v_Texcoord) + vec4(Emissive,1.0);\\r\\n'+\r\n\t\t'}\\r\\n';\r\n\r\n\t\t(<Laya.ShaderPass>subShader.addShaderPass(GlowingEdgeShaderVS, GlowingEdgeShaderFS));\r\n\t}\r\n}\r\n\r\nclass GlowingEdgeMaterial extends Material {\r\n    public static DIFFUSETEXTURE: number;\r\n    public static MARGINALCOLOR: number;\r\n    public isInit:boolean = false;\r\n    __init__() {\r\n        GlowingEdgeMaterial.DIFFUSETEXTURE = Shader3D.propertyNameToID(\"u_texture\");\r\n        GlowingEdgeMaterial.MARGINALCOLOR = Shader3D.propertyNameToID(\"u_marginalColor\");\r\n    }\r\n    constructor() {\r\n        super();\r\n        if(!this.isInit){\r\n            this.__init__();\r\n            this.isInit = true;\r\n        }\r\n        this.setShaderName(\"GlowingEdgeMaterial\");\r\n    }\r\n    /**\r\n     * \u83B7\u53D6\u6F2B\u53CD\u5C04\u8D34\u56FE\u3002\r\n     *  \u6F2B\u53CD\u5C04\u8D34\u56FE\u3002\r\n     */\r\n    public get diffuseTexture(): BaseTexture {\r\n        return this.getTextureByIndex(GlowingEdgeMaterial.DIFFUSETEXTURE);\r\n    }\r\n\r\n    /**\r\n     * \u8BBE\u7F6E\u6F2B\u53CD\u5C04\u8D34\u56FE\u3002\r\n     * \u6F2B\u53CD\u5C04\u8D34\u56FE\u3002\r\n     */\r\n    public set diffuseTexture(value: BaseTexture) {\r\n        this.setTextureByIndex(GlowingEdgeMaterial.DIFFUSETEXTURE, value);\r\n    }\r\n\r\n    /**\r\n     * \u8BBE\u7F6E\u8FB9\u7F18\u5149\u7167\u989C\u8272\u3002\r\n     * \u8FB9\u7F18\u5149\u7167\u989C\u8272\u3002\r\n     */\r\n    public set marginalColor(value: Vector3) {\r\n        this.setVector3ByIndex(GlowingEdgeMaterial.MARGINALCOLOR, value);\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n// import { MultiplePassOutlineMaterial } from \"./customMaterials/MultiplePassOutlineMaterial\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Material = Laya.Material;\r\nimport BaseTexture = Laya.BaseTexture;\r\nimport ShaderDefine = Laya.ShaderDefine;\r\nimport Shader3D = Laya.Shader3D;\r\nimport Color = Laya.Color;\r\nimport ShaderDataType = Laya.ShaderDataType;\r\nimport SubShader = Laya.SubShader;\r\nimport ShaderPass = Laya.ShaderPass;\r\nimport RenderState = Laya.RenderState;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('JgYvJCCFQoWlqxSTDpke5w')\r\nexport class Shader_MultiplePassOutline extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\r\n    constructor() {\r\n        super();        \r\n    }\r\n\r\n    onAwake(): void {\r\n        super.base(this.camera);\r\n\t\t//\u521D\u59CB\u5316Shader\r\n\t\tMultiplePassOutlineMaterial.initShader();\r\n\t\t//\u521B\u5EFA\u573A\u666F\r\n\t\tvar scene: Scene3D = this.scene;\r\n\t\t//\u521B\u5EFA\u76F8\u673A\r\n\t\tvar camera: Camera = this.camera;\r\n\t\tcamera.transform.position = (new Vector3(0, 1, 1.5));\r\n\t\tcamera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\t\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color = new Laya.Color(1, 1, 1, 1);\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\").then((mesh: any)=> {\r\n\t\t\tvar layaMonkey: MeshSprite3D = (<MeshSprite3D>scene.addChild(new MeshSprite3D(mesh)));\r\n\t\t\tlayaMonkey.transform.localScale = new Vector3(0.3, 0.3, 0.3);\r\n\t\t\tlayaMonkey.transform.rotation = new Laya.Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\t\t\tvar customMaterial: MultiplePassOutlineMaterial = new MultiplePassOutlineMaterial();\r\n\t\t\tlayaMonkey.meshRenderer.sharedMaterial = customMaterial;\r\n\t\t\t//\u6F2B\u53CD\u5C04\u8D34\u56FE\r\n\t\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/diffuse.png\").then((res: any)=> {\r\n\t\t\t\tcustomMaterial.albedoTexture = res;\r\n\t\t\t});\t\t\t\r\n\r\n\t\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\t\tlayaMonkey.transform.rotate(this.rotation,false);\r\n\t\t\t});\r\n\t\t});\r\n\t}  \r\n}\r\n\r\nexport class MultiplePassOutlineMaterial extends Material {\r\n\tstatic ALBEDOTEXTURE: number;\r\n\tstatic OUTLINECOLOR: number;\r\n\tstatic OUTLINEWIDTH: number;\r\n\tstatic OUTLINELIGHTNESS: number;\r\n\r\n\tstatic SHADERDEFINE_ALBEDOTEXTURE: ShaderDefine;\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tstatic __init__(): void {\r\n\t\tMultiplePassOutlineMaterial.ALBEDOTEXTURE = Shader3D.propertyNameToID(\"u_AlbedoTexture\");\r\n\t\tMultiplePassOutlineMaterial.OUTLINECOLOR = Shader3D.propertyNameToID(\"u_OutlineColor\");\r\n\t\tMultiplePassOutlineMaterial.OUTLINEWIDTH = Shader3D.propertyNameToID(\"u_OutlineWidth\");\r\n\t\tMultiplePassOutlineMaterial.OUTLINELIGHTNESS = Shader3D.propertyNameToID(\"u_OutlineLightness\");\r\n\t}\r\n\t/**\r\n\t * \u6F2B\u53CD\u5C04\u8D34\u56FE\u3002\r\n\t */\r\n\tget albedoTexture(): BaseTexture {\r\n\t\treturn this.getTextureByIndex(MultiplePassOutlineMaterial.ALBEDOTEXTURE);\r\n\t}\r\n\r\n\tset albedoTexture(value: BaseTexture) {\r\n\t\tthis.setTextureByIndex(MultiplePassOutlineMaterial.ALBEDOTEXTURE, value);\r\n\t}\r\n\t/**\r\n\t * \u7EBF\u6761\u989C\u8272\r\n\t */\r\n\tget outlineColor(): Color {\r\n\t\treturn this.getColorByIndex(MultiplePassOutlineMaterial.OUTLINECOLOR);\r\n\t}\r\n\r\n\tset outlineColor(value: Color) {\r\n\t\tthis.setColorByIndex(MultiplePassOutlineMaterial.OUTLINECOLOR, value);\r\n\t}\r\n\t/**\r\n\t * \u83B7\u53D6\u8F6E\u5ED3\u5BBD\u5EA6,\u8303\u56F4\u4E3A0\u52300.05\u3002\r\n\t */\r\n\tget outlineWidth(): number {\r\n\t\treturn this.getFloatByIndex(MultiplePassOutlineMaterial.OUTLINEWIDTH);\r\n\t}\r\n\r\n\tset outlineWidth(value: number) {\r\n\t\tvalue = Math.max(0.0, Math.min(0.05, value));\r\n\t\tthis.setFloatByIndex(MultiplePassOutlineMaterial.OUTLINEWIDTH, value);\r\n\t}\r\n\r\n\t/**\r\n\t * \u8F6E\u5ED3\u4EAE\u5EA6,\u8303\u56F4\u4E3A0\u52301\u3002\r\n\t */\r\n\tget outlineLightness(): number {\r\n\t\treturn this.getFloatByIndex(MultiplePassOutlineMaterial.OUTLINELIGHTNESS);\r\n\t}\r\n\r\n\tset outlineLightness(value: number) {\r\n\t\tvalue = Math.max(0.0, Math.min(1.0, value));\r\n\t\tthis.setFloatByIndex(MultiplePassOutlineMaterial.OUTLINELIGHTNESS, value);\r\n\t}\r\n\r\n\r\n\tstatic initShader(): void {\r\n\t\tMultiplePassOutlineMaterial.__init__();\r\n\r\n\t\tvar uniformMap: any = {\r\n\t\t\t'u_OutlineLightness': ShaderDataType.Float,\r\n\t\t\t'u_OutlineColor': ShaderDataType.Color,\r\n\t\t\t'u_AlbedoTexture': ShaderDataType.Texture2D,\r\n\t\t\t'u_OutlineWidth': ShaderDataType.Float\r\n\r\n\t\t};\r\n\t\tvar customShader: Shader3D = Shader3D.add(\"MultiplePassOutlineShader\");\r\n\t\tvar subShader: SubShader = new SubShader(SubShader.DefaultAttributeMap, uniformMap);\r\n\t\tcustomShader.addSubShader(subShader);\r\n\r\n\t\tlet OutlineVS = \r\n\t\t'#include \"Sprite3DVertex.glsl\";\\r\\n'+\r\n\t\t'#include \"VertexCommon.glsl\";\\r\\n'+\r\n\t\t'#include \"Camera.glsl\";\\r\\n'+\r\n\t\t'void main()\\r\\n'+\r\n\t\t'{\\r\\n'+\r\n\t\t\t'Vertex vertex;\\r\\n'+\r\n\t\t\t'getVertexParams(vertex);\\r\\n'+\r\n\t\t\t'vec4 position = vec4((vertex.positionOS) + (vertex.normalOS) * u_OutlineWidth, 1.0);\\r\\n'+\r\n\t\t\r\n\t\t\t'mat4 worldMat = getWorldMatrix();\\r\\n'+\r\n\t\t\t'vec3 positionWS = (worldMat * vec4(position)).xyz;\\r\\n'+\r\n\t\t\t'gl_Position = getPositionCS(positionWS);\\r\\n'+\r\n\t\t\t'gl_Position = remapPositionZ(gl_Position);\\r\\n'+\r\n\t\t'} \\r\\n';\t\t\r\n\r\n\r\n\t\t//\u00A0\u539F\u6765\u7684\u5199\u6CD5\u4F1A\u88AB\u6211\u4EEC\u81EA\u5DF1\u7684\u89E3\u6790\u6D41\u7A0B\u5904\u7406\uFF0C\u800C\u6211\u4EEC\u7684\u89E3\u6790\u662F\u4E0D\u8BA4\u5185\u7F6E\u5B8F\u7684\uFF0C\u5BFC\u81F4\u88AB\u5220\u6389\uFF0C\u6240\u4EE5\u6539\u6210\u00A0if\u00A0defined\u00A0\u4E86\r\n\t\tlet OutlineFS = \r\n\t\t'#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n'+ \r\n\t\t\t'precision highp float;\\r\\n'+ \r\n\t\t'#else \\r\\n'+ \r\n\t\t\t'precision mediump float;\\r\\n'+ \r\n\t\t'#endif \\r\\n'+ \r\n\r\n\t\t'void main() \\r\\n'+ \r\n\t\t'{ \\r\\n'+ \r\n\t\t\t'vec3 finalColor = u_OutlineColor.rgb * u_OutlineLightness;\\r\\n'+ \r\n\t\t\t'gl_FragColor = vec4(finalColor,0.0);\\r\\n'+ \r\n\t\t'}\\r\\n';\r\n\r\n\t\tvar pass1: ShaderPass = subShader.addShaderPass(OutlineVS, OutlineFS);\r\n\t\tpass1.statefirst = true;\r\n\t\tpass1.renderState.cull = RenderState.CULL_FRONT;\r\n\r\n\t\tlet Outline02VS = \r\n\t\t'#include \"Camera.glsl\";\\r\\n'+\r\n\t\t'#include \"Sprite3DVertex.glsl\";\\r\\n'+\r\n\t\t'#include \"VertexCommon.glsl\";\\r\\n'+\r\n\t\t\r\n\t\t'varying vec3 v_Normal;\\r\\n'+ \r\n\t\t'varying vec2 v_Texcoord0;\\r\\n'+ \r\n\t\t\r\n\t\t'void main() \\r\\n'+\r\n\t\t'{ \\r\\n'+\r\n\t\t\r\n\t\t\t'Vertex vertex;\\r\\n'+\r\n\t\t\t'getVertexParams(vertex);\\r\\n'+\r\n\t\t\t'mat4 worldMat = getWorldMatrix();\\r\\n'+\r\n\t\t\t'vec3 positionWS = (worldMat * vec4(vertex.positionOS, 1.0)).xyz;\\r\\n'+\r\n\t\t\r\n\t\t\t'gl_Position = getPositionCS(positionWS);\\r\\n'+\r\n\t\t\r\n\t\t\t'v_Normal = normalize((worldMat * vec4(vertex.normalOS, 0.0)).xyz);\\r\\n'+\r\n\t\t\t'v_Texcoord0 = vertex.texCoord0;\\r\\n'+ \r\n\t\t\t'gl_Position=remapPositionZ(gl_Position);\\r\\n'+ \r\n\t\t'}\\r\\n';\t\r\n\r\n\r\n\t\t//\u00A0\u539F\u6765\u7684\u5199\u6CD5\u4F1A\u88AB\u6211\u4EEC\u81EA\u5DF1\u7684\u89E3\u6790\u6D41\u7A0B\u5904\u7406\uFF0C\u800C\u6211\u4EEC\u7684\u89E3\u6790\u662F\u4E0D\u8BA4\u5185\u7F6E\u5B8F\u7684\uFF0C\u5BFC\u81F4\u88AB\u5220\u6389\uFF0C\u6240\u4EE5\u6539\u6210\u00A0if\u00A0defined\u00A0\u4E86\r\n\t\tlet Outline02FS = \r\n\t\t'#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n'+\r\n\t\t\t'precision highp float;\\r\\n'+\r\n\t\t'#else\\r\\n'+\r\n\t\t\t'precision mediump float;\\r\\n'+\r\n\t\t'#endif\\r\\n'+\r\n\t\t'varying vec2 v_Texcoord0;\\r\\n'+\r\n\t\t'varying vec3 v_Normal;\\r\\n'+\r\n\t\t\r\n\t\t'void main()\\r\\n'+\r\n\t\t'{\\r\\n'+\r\n\t\t\t'vec4 albedoTextureColor = vec4(1.0);\\r\\n'+\r\n\t\t\t\r\n\t\t\t'albedoTextureColor = texture2D(u_AlbedoTexture, v_Texcoord0);\\r\\n'+\r\n\t\t\t'gl_FragColor = albedoTextureColor;\\r\\n'+\r\n\t\t'}\\r\\n';\t\r\n\t\tvar pass2: ShaderPass = subShader.addShaderPass(Outline02VS, Outline02FS);\r\n\t}\r\n\t\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.setShaderName(\"MultiplePassOutlineShader\");\r\n\t\tthis.setFloatByIndex(MultiplePassOutlineMaterial.OUTLINEWIDTH, 0.01581197);\r\n\t\tthis.setFloatByIndex(MultiplePassOutlineMaterial.OUTLINELIGHTNESS, 1);\r\n\t\tthis.setColorByIndex(MultiplePassOutlineMaterial.OUTLINECOLOR, new Color(1.0, 1.0, 1.0, 0.0));\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n//import SimpleShaderVS from \"./customShader/simpleShader.vs\";\r\n//import SimpleShaderFS from \"./customShader/simpleShader.fs\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Mesh = Laya.Mesh;\r\nimport Quaternion = Laya.Quaternion;\r\nimport SubShader = Laya.SubShader;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport Shader3D = Laya.Shader3D;\r\nimport Material = Laya.Material;\r\nimport MaterialRenderMode = Laya.MaterialRenderMode;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('alR31ErETyW7NMhUVvvpYQ')\r\nexport class Shader_Simple extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = (new Vector3(0, 0.5, 1.5));\r\n\r\n\t\tthis.initShader();\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\").then((mesh: Mesh)=> {\r\n\t\t\tvar layaMonkey: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(mesh)));\r\n\t\t\tlayaMonkey.transform.localScale = new Vector3(0.3, 0.3, 0.3);\r\n\t\t\tlayaMonkey.transform.rotation = new Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\r\n\t\t\tvar customMaterial: CustomMaterial = new CustomMaterial();\r\n\t\t\tlayaMonkey.getComponent(MeshRenderer).sharedMaterial = customMaterial;\r\n\r\n\t\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\t\tlayaMonkey.transform.rotate(this.rotation, false);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprivate initShader(): void {\r\n\t\tvar customShader: Shader3D = Shader3D.add(\"CustomShader\");\r\n\t\tvar subShader: SubShader = new SubShader();\r\n\t\tcustomShader.addSubShader(subShader);\r\n\t\t\r\n\t\tlet SimpleShaderVS = \r\n\t\t'#include \"Camera.glsl\";\\r\\n'+\r\n\t\t'#include \"Sprite3DVertex.glsl\";\\r\\n'+\r\n\t\t'#include \"VertexCommon.glsl\";\\r\\n'+\t\t\r\n\t\t'varying vec3 v_Normal;\\r\\n'+\t\t\r\n\t\t'void main()\\r\\n'+\r\n\t\t'{\\r\\n'+\r\n\t\t\t'Vertex vertex;\\r\\n'+\r\n\t\t\t'getVertexParams(vertex);\\r\\n'+\r\n\t\t\t'mat4 worldMat = getWorldMatrix();\\r\\n'+\r\n\t\t\t'vec3 positionWS = (worldMat * vec4(vertex.positionOS, 1.0)).xyz;\\r\\n'+\t\t\r\n\t\t\t'gl_Position = getPositionCS(positionWS);\\r\\n'+\t\t\t  \r\n\t\t\t'vec3 normalWS = normalize((worldMat * vec4(vertex.normalOS, 0.0)).xyz);\\r\\n'+\r\n\t\t\t'v_Normal = normalWS;\\r\\n'+\r\n\t\t\t'gl_Position=remapPositionZ(gl_Position);\\r\\n'+\r\n\t\t'}\\r\\n';\r\n\r\n\t\t//\u00A0\u539F\u6765\u7684\u5199\u6CD5\u4F1A\u88AB\u6211\u4EEC\u81EA\u5DF1\u7684\u89E3\u6790\u6D41\u7A0B\u5904\u7406\uFF0C\u800C\u6211\u4EEC\u7684\u89E3\u6790\u662F\u4E0D\u8BA4\u5185\u7F6E\u5B8F\u7684\uFF0C\u5BFC\u81F4\u88AB\u5220\u6389\uFF0C\u6240\u4EE5\u6539\u6210\u00A0if\u00A0defined\u00A0\u4E86\r\n\t\tlet SimpleShaderFS = \r\n\t\t'#if defined(GL_FRAGMENT_PRECISION_HIGH) \\r\\n'+\r\n\t\t\t'precision highp float;\\r\\n'+\r\n\t\t'#else\\r\\n '+\r\n\t\t\t'precision mediump float;\\r\\n'+\r\n\t\t'#endif \\r\\n'+\t\t\r\n\t\t'varying vec3 v_Normal;\\r\\n'+\t\t\r\n\t\t'void main()\\r\\n'+\r\n\t\t'{\\r\\n'+\r\n\t\t\t'gl_FragColor=vec4(v_Normal, 1.0);\\r\\n'+\r\n\t\t'}\\r\\n';\r\n\r\n\t\tsubShader.addShaderPass(SimpleShaderVS, SimpleShaderFS);\r\n\t}\r\n}\r\n\r\nclass CustomMaterial extends Material {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.setShaderName(\"CustomShader\");\r\n\t\tthis.materialRenderMode = MaterialRenderMode.RENDERMODE_OPAQUE;\r\n\t}\r\n}\r\n\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport InputManager = Laya.InputManager;\r\nimport Script3D = Laya.Script3D;\r\nimport Text = Laya.Text;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('npMOJXdMSvOqhloPNhaPpw')\r\nexport class CerberusModelShow extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tvar damagedHelmet: MeshSprite3D = <MeshSprite3D>this.scene.getChildByName(\"Cerberus_LP\");\r\n\t\tvar rotationScript: RotationScript = damagedHelmet.addComponent(RotationScript);\r\n\t\trotationScript.model = damagedHelmet;\r\n\r\n\t\tvar size: number = 20;\r\n\t\tthis.addText(30, 200, 10, \"\u62D6\u52A8\u5C4F\u5E55\u4EE5\u65CB\u8F6C\u6A21\u578B\", \"red\");\r\n\t\tsize = 10;\r\n\t\tthis.addText(size, 20, this.pageHeight - size * 4, \"Cerberus by Andrew Maximov     http://artisaverb.info/PBT.html\", \"#FFFF00\");\r\n\t}\r\n\r\n\t/**\r\n\t * add text.\r\n\t */\r\n\taddText(size: number, x: number, y: number, text: string, color: string): void {\r\n\t\tvar cerberusText: Text = new Text();\r\n\t\tcerberusText.color = color;\r\n\t\tcerberusText.fontSize = size;\r\n\t\tcerberusText.x = x;\t\t\r\n\t\tcerberusText.y = y;\r\n\t\tcerberusText.text = text;\r\n\t\tthis.owner.addChild(cerberusText);\r\n\t}\r\n}\r\n\r\nclass RotationScript extends Script3D {\r\n\tprivate _lastMouseX: number;\r\n\tprivate _mouseDown: boolean = false;\r\n\tprivate _rotate: Vector3 = new Vector3();\r\n\tprivate _autoRotateSpeed: Vector3 = new Vector3(0, 0.25, 0);\r\n\r\n\tmodel: Sprite3D;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tLaya.stage.on(Event.MOUSE_DOWN, this, ()=> {\r\n\t\t\tthis._mouseDown = true;\r\n\t\t\tthis._lastMouseX = InputManager.mouseX;\r\n\t\t});\r\n\t\tLaya.stage.on(Event.MOUSE_UP, this, ()=> {\r\n\t\t\tthis._mouseDown = false;\r\n\t\t});\r\n\r\n\t}\r\n\tonUpdate(): void {\r\n\t\tif (this._mouseDown) {\r\n\t\t\tvar deltaX: number = InputManager.mouseX - this._lastMouseX;\r\n\t\t\tthis._rotate.y = deltaX * 0.2;\r\n\t\t\tthis.model.transform.rotate(this._rotate, false, false);\r\n\t\t\tthis._lastMouseX = InputManager.mouseX;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.model.transform.rotate(this._autoRotateSpeed, false, false);\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport InputManager = Laya.InputManager;\r\nimport Script3D = Laya.Script3D;\r\nimport Text = Laya.Text;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('VqyaC7tgR-OurFk0J1rqVw')\r\nexport class DamagedHelmetModelShow extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tvar damagedHelmet: MeshSprite3D = <MeshSprite3D>this.scene.getChildAt(1).getChildAt(0);\r\n\t\tvar rotationScript: RotationScript = damagedHelmet.addComponent(RotationScript);\r\n\t\trotationScript.model = damagedHelmet;\r\n\r\n\t\tvar size: number = 20;\r\n\t\tthis.addText(30, 200, 10, \"\u62D6\u52A8\u5C4F\u5E55\u4EE5\u65CB\u8F6C\u6A21\u578B\", \"red\");\r\n\t\tsize = 10;\r\n\t\tthis.addText(size, 20, this.pageHeight - size * 4, \"Battle Damaged Sci-fi Helmet by theblueturtle_    www.leonardocarrion.com\", \"#FFFF00\");\r\n\t}\r\n\r\n\t/**\r\n\t * add text.\r\n\t */\r\n\taddText(size: number, x: number, y: number, text: string, color: string): void {\r\n\t\tvar cerberusText: Text = new Text();\r\n\t\tcerberusText.color = color;\r\n\t\tcerberusText.fontSize = size;\r\n\t\tcerberusText.x = x;\t\t\r\n\t\tcerberusText.y = y;\r\n\t\tcerberusText.text = text;\r\n\t\tthis.owner.addChild(cerberusText);\r\n\t}\r\n}\r\n\r\nclass RotationScript extends Script3D {\r\n\tprivate _lastMouseX: number;\r\n\tprivate _mouseDown: boolean = false;\r\n\tprivate _rotate: Vector3 = new Vector3();\r\n\tprivate _autoRotateSpeed: Vector3 = new Vector3(0, 0.25, 0);\r\n\r\n\tmodel: Sprite3D;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tLaya.stage.on(Event.MOUSE_DOWN, this, ()=> {\r\n\t\t\tthis._mouseDown = true;\r\n\t\t\tthis._lastMouseX = InputManager.mouseX;\r\n\t\t});\r\n\t\tLaya.stage.on(Event.MOUSE_UP, this, ()=> {\r\n\t\t\tthis._mouseDown = false;\r\n\t\t});\r\n\r\n\t}\r\n\tonUpdate(): void {\r\n\t\tif (this._mouseDown) {\r\n\t\t\tvar deltaX: number = InputManager.mouseX - this._lastMouseX;\r\n\t\t\tthis._rotate.y = deltaX * 0.2;\r\n\t\t\tthis.model.transform.rotate(this._rotate, false, false);\r\n\t\t\tthis._lastMouseX = InputManager.mouseX;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.model.transform.rotate(this._autoRotateSpeed, false, false);\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport InputManager = Laya.InputManager;\r\nimport Script3D = Laya.Script3D;\r\nimport Text = Laya.Text;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('8kO0vQ_iQWynqTAcNhxClg')\r\nexport class GunDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tvar gun: MeshSprite3D = <MeshSprite3D>this.scene.getChildByName(\"Gun\");\r\n\t\tvar rotationScript: RotationScript = gun.addComponent(RotationScript);\r\n\t\trotationScript.model = gun;\r\n\r\n\t\tvar size: number = 20;\r\n\t\tthis.addText(30, 200, 10, \"\u62D6\u52A8\u5C4F\u5E55\u4EE5\u65CB\u8F6C\u6A21\u578B\", \"red\");\r\n\t}\r\n\r\n\t/**\r\n\t * add text.\r\n\t */\r\n\taddText(size: number, x: number, y: number, text: string, color: string): void {\r\n\t\tvar cerberusText: Text = new Text();\r\n\t\tcerberusText.color = color;\r\n\t\tcerberusText.fontSize = size;\r\n\t\tcerberusText.x = x;\t\t\r\n\t\tcerberusText.y = y;\r\n\t\tcerberusText.text = text;\r\n\t\tthis.owner.addChild(cerberusText);\r\n\t}\r\n}\r\n\r\nclass RotationScript extends Script3D {\r\n\tprivate _lastMouseX: number;\r\n\tprivate _mouseDown: boolean = false;\r\n\tprivate _rotate: Vector3 = new Vector3();\r\n\tprivate _autoRotateSpeed: Vector3 = new Vector3(0, 0.25, 0);\r\n\r\n\tmodel: Sprite3D;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tLaya.stage.on(Event.MOUSE_DOWN, this, ()=> {\r\n\t\t\tthis._mouseDown = true;\r\n\t\t\tthis._lastMouseX = InputManager.mouseX;\r\n\t\t});\r\n\t\tLaya.stage.on(Event.MOUSE_UP, this, ()=> {\r\n\t\t\tthis._mouseDown = false;\r\n\t\t});\r\n\r\n\t}\r\n\tonUpdate(): void {\r\n\t\tif (this._mouseDown) {\r\n\t\t\tvar deltaX: number = InputManager.mouseX - this._lastMouseX;\r\n\t\t\tthis._rotate.y = deltaX * 0.2;\r\n\t\t\tthis.model.transform.rotate(this._rotate, false, false);\r\n\t\t\tthis._lastMouseX = InputManager.mouseX;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.model.transform.rotate(this._autoRotateSpeed, false, false);\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('xKG8-9oXRtan-nCzch0TsA')\r\nexport class Sky_Procedural extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate rotation: Vector3;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 0.7, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(10, 0, 0), true, false);\r\n\r\n\t\t//\u521D\u59CB\u5316\u5E73\u884C\u5149\r\n\t\tvar mat = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\t\tthis.rotation = new Laya.Vector3(-0.01, 0, 0);\r\n\r\n\t\t//\u521D\u59CB\u5316\u5929\u7A7A\u6E32\u67D3\u5668\r\n\t\tvar skyRenderer:Laya.SkyRenderer = this.scene.skyRenderer;\r\n\t\tskyRenderer.mesh = Laya.SkyDome.instance;\r\n\t\tskyRenderer.material = new Laya.SkyProceduralMaterial();\r\n\t\t//\u65CB\u8F6C\u5E73\u884C\u5149,\u6A21\u62DF\u592A\u9633\u8F68\u8FF9\r\n\t\tLaya.timer.frameLoop(1, this, this.onFrameLoop);\r\n\t}\r\n\r\n\tonFrameLoop(){\r\n\t\tthis.directionLight.transform.rotate(this.rotation);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport SkyRenderer = Laya.SkyRenderer;\r\nimport Vector3 = Laya.Vector3;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport SkyBoxMaterial = Laya.SkyBoxMaterial;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport Color = Laya.Color;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('LQ3yhA3cSV-ubr1iByatng')\r\nexport class Sky_SkyBox extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate mat: SkyBoxMaterial;\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 0.7, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(10, 0, 0), true, false);\r\n\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u6E05\u9664\u6807\u8BC6\u4E3A\u5929\u7A7A\u76D2(\u8FD9\u4E2A\u53C2\u6570\u5FC5\u987B\u8BBE\u7F6E\u4E3ACLEARFLAG_SKY\uFF0C\u5426\u5219\u65E0\u6CD5\u4F7F\u7528\u5929\u7A7A\u76D2)\r\n\t\tthis.camera.clearFlag = CameraClearFlags.Sky;\r\n\r\n\t\tsuper.addBottomButton( [\"\u7ACB\u65B9\u4F53\u5929\u7A7A\u76D2\",\"\u7A0B\u5E8F\u5316\u5929\u7A7A\u76D2\"] , this, [this.changeSkybox, this.changeSkyProcedural] );\r\n\t}\r\n\r\n\tchangeSkyProcedural(){\r\n\r\n\t\t//\u7A0B\u5E8F\u5316\u5929\u7A7A\u76D2\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skyBox/SkyProcedural/Skybox.lmat\").then((mat: SkyBoxMaterial)=> {\r\n\t\t\t//\u83B7\u53D6\u76F8\u673A\u7684\u5929\u7A7A\u6E32\u67D3\u5668\r\n\t\t\tvar skyRenderer: SkyRenderer = this.camera.skyRenderer;\r\n\t\t\t//\u8BBE\u7F6E\u5929\u7A7A\u76D2\u6750\u8D28\r\n\t\t\tskyRenderer.material = mat;\r\n\t\t});\t\t\r\n\t}\r\n\r\n\tchangeSkybox(){\r\n\t\t\r\n\t\t//\u7ACB\u65B9\u4F53\u5929\u7A7A\u76D2\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skyBox/DawnDusk/Skybox.lmat\").then((mat: SkyBoxMaterial)=> {\r\n\t\t\t//\u83B7\u53D6\u76F8\u673A\u7684\u5929\u7A7A\u6E32\u67D3\u5668\r\n\t\t\tvar skyRenderer: SkyRenderer = this.camera.skyRenderer;\r\n\t\t\t//\u8BBE\u7F6E\u5929\u7A7A\u76D2\u6750\u8D28\r\n\t\t\tskyRenderer.material = mat;\r\n\t\t});\r\n\t}\t\r\n\r\n\tonDestroy(): void {\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Color = Laya.Color;\r\nimport PixelLineSprite3D = Laya.PixelLineSprite3D;\r\nimport Mesh = Laya.Mesh;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('zA9od7fzTgC0p6aBdl_KWQ')\r\nexport class PixelLineSprite3DDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate sprite3D: Sprite3D;\r\n\tprivate lineSprite3D: Sprite3D;\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1.2, 3.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\r\n\t\tthis.sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\t\tthis.lineSprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\r\n\t\t//\u7403\u4F53\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(0.25, 20, 20))));\r\n\t\tsphere.transform.position = new Vector3(0.0, 0.75, 2);\r\n\t\tvar sphereLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(3500)));\r\n\t\tTool.linearModel(sphere, sphereLineSprite3D, Color.GREEN);\r\n\t\tthis.sprite3D.active = false;;\r\n\t\tthis.lineSprite3D.active = true;\r\n\t}\r\n}\r\n\r\n\r\nexport class Tool {\r\n\tprivate static transVertex0: Vector3 = new Vector3();\r\n\tprivate static transVertex1: Vector3 = new Vector3();\r\n\tprivate static transVertex2: Vector3 = new Vector3();\r\n\tprivate static corners: Vector3[] = [];\r\n\tstatic linearModel(sprite3D: Sprite3D, lineSprite3D: PixelLineSprite3D, color: Color): void {\r\n\t\tif (sprite3D instanceof MeshSprite3D) {\r\n\t\t\tvar meshSprite3D: MeshSprite3D = <MeshSprite3D>sprite3D;\r\n\t\t\tvar mesh: Mesh = meshSprite3D.meshFilter.sharedMesh;\r\n\t\t\tvar positions: Array<Vector3> = [];\r\n\t\t\tmesh.getPositions(positions);\r\n\t\t\tvar indices = mesh.getSubMesh(0).getIndices();\r\n\r\n\t\t\tfor (var i: number = 0; i < indices.length; i += 3) {\r\n\t\t\t\tvar vertex0: Vector3 = positions[indices[i]];\r\n\t\t\t\tvar vertex1: Vector3 = positions[indices[i + 1]];\r\n\t\t\t\tvar vertex2: Vector3 = positions[indices[i + 2]];\r\n\t\t\t\tVector3.transformCoordinate(vertex0, meshSprite3D.transform.worldMatrix, this.transVertex0);\r\n\t\t\t\tVector3.transformCoordinate(vertex1, meshSprite3D.transform.worldMatrix, this.transVertex1);\r\n\t\t\t\tVector3.transformCoordinate(vertex2, meshSprite3D.transform.worldMatrix, this.transVertex2);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex0, this.transVertex1, color, color);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex1, this.transVertex2, color, color);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex2, this.transVertex0, color, color);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var i: number = 0, n: number = sprite3D.numChildren; i < n; i++)\r\n\t\t\tTool.linearModel((<Sprite3D>sprite3D.getChildAt(i)), lineSprite3D, color);\r\n\t}\r\n\r\n\tstatic DrawBoundingBox(sprite3D: Sprite3D, sprite: Sprite3D, color: Color): void {\r\n\t\t(<MeshSprite3D>sprite3D).meshRenderer.bounds.getCorners(Tool.corners);\r\n\r\n\t\tvar rotate: Vector3 = new Vector3(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[1], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[2], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[3], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[0], rotate, sprite);\r\n\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[4], Tool.corners[5], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[5], Tool.corners[6], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[6], Tool.corners[7], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[7], Tool.corners[4], rotate, sprite);\r\n\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[4], rotate, sprite);\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[5], rotate, sprite);\r\n\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[6], rotate, sprite);\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[7], rotate, sprite);\r\n\t}\r\n\r\n\tprivate static DrawTwelveLines(start: Vector3, end: Vector3, rotate: Vector3, sprite3D: Sprite3D): void {\r\n\t\tvar length: number = Vector3.distance(start, end);\r\n\t\tvar cylinder: MeshSprite3D = (<MeshSprite3D>sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCylinder(0.004, length, 3))));\r\n\t\tcylinder.transform.rotate(rotate, true, false);\r\n\t\tvar cylPos: Vector3 = cylinder.transform.position;\r\n\t\tvar x: number = start.x + end.x;\r\n\t\tvar y: number = start.y + end.y;\r\n\t\tvar z: number = start.z + end.z;\r\n\t\tcylPos.setValue(x / 2, y / 2, z / 2);\r\n\t\tcylinder.transform.position = cylPos;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n}", "/*Laya.LayaEnv.beforeInit = function(config: Laya.IStageConfig) {\r\n    //\u8FD9\u4E2A\u65B9\u6CD5\u4F1A\u5728Laya.init\u524D\u8C03\u7528\r\n    console.log(\"before init\");\r\n    //\u8FD9\u91CC\u53EF\u4EE5\u5BF9config\u4EE5\u53CALaya.Config\u3001Laya.Config3D\u8FDB\u884C\u81EA\u5B9A\u4E49\u7684\u4FEE\u6539\r\n    Laya.Config.preserveDrawingBuffer =true;    \r\n}*/\r\n\r\nimport { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Camera = Laya.Camera;\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('LZKeo6rTTaSvs2zMc71B-A')\r\nexport class ScreenShot extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\r\n\t\t//\u9700\u8981\u5728 Laya.LayaEnv.beforeInit \u4E2D\u63D0\u524D\u8C03\u7528 Laya.Config.preserveDrawingBuffer =true;\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 2, 3);\r\n\t\tthis.camera.transform.rotate(new Vector3(-30, 0, 0), true, false);\r\n\r\n\r\n\t\t//\u6DFB\u52A0\u81EA\u5B9A\u4E49\u6A21\u578B\r\n\t\tvar box: Laya.MeshSprite3D = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1))) as Laya.MeshSprite3D;\r\n\t\tbox.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);\r\n\t\tvar material: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n\t\tLaya.Texture2D.load(\"resources/res/threeDimen/layabox.png\", Laya.Handler.create(null, function (tex: Laya.Texture2D) {\r\n\t\t\tmaterial.albedoTexture = tex;\r\n\t\t}));\r\n\t\tbox.meshRenderer.material = material;\r\n\t\tthis.loadUI();\r\n\t}\r\n\t\r\n\tprivate loadUI() {\r\n\t\tLaya.loader.load([\"resources/image/img_btn_bg.png\"], Laya.Handler.create(this, ()=> {\r\n\t\t\tvar screenshotBtn = new Laya.Button(\"resources/image/img_btn_bg.png\", \"\u622A\u56FE\");\r\n\t\t\tthis.owner.addChild(screenshotBtn);\r\n\t\t\tscreenshotBtn.size(100, 30);\r\n\t\t\tscreenshotBtn.labelBold = true;\r\n\t\t\tscreenshotBtn.labelSize = 15;\r\n\t\t\tscreenshotBtn.sizeGrid = \"4,4,4,4\";\r\n\t\t\tscreenshotBtn.pos(this.pageWidth / 2 - screenshotBtn.width /2 , this.pageHeight - 100);\r\n\t\t\tscreenshotBtn.on(Laya.Event.CLICK, this, this.onAddClick);\r\n\t\t}))\r\n\t}\r\n\r\n\tonAddClick() {\r\n\t\t//\u6E32\u67D3\u5230\u7EB9\u7406\u7684\u76F8\u673A\r\n\t\tvar renderTargetCamera: Laya.Camera = this.scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n\t\trenderTargetCamera.transform.position = new Vector3(0, 2, 3);\r\n\t\trenderTargetCamera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);\r\n\r\n\t\t//\u6E32\u67D3\u987A\u5E8F\r\n\t\trenderTargetCamera.renderingOrder = -1;\r\n\t\tvar renderTexture: any = new Laya.RenderTexture(512, 512, Laya.RenderTargetFormat.R8G8B8A8, Laya.RenderTargetFormat.DEPTHSTENCIL_24_8, false , 4);\r\n\t\tLaya.Camera.drawRenderTextureByScene(renderTargetCamera, this.scene, renderTexture);\r\n\t\t\r\n\t\t//\u622A\u56FE\u7ED8\u5236\r\n\t\tvar rtex = new Laya.Texture(renderTargetCamera.renderTarget, Laya.Texture.DEF_UV);\r\n\r\n\t\tvar rtex = new Laya.Texture(Laya.Texture2D.blackTexture);\r\n\t\tconsole.log(rtex.width,rtex.height)\r\n\t\tvar sp = new Laya.Sprite();\r\n\t\t// sp.zOrder=99;\r\n\t\tthis.owner.addChild(sp);\r\n\t\tsp.graphics.drawTexture(rtex);\r\n\r\n\t\t//@ts-ignore\r\n\t\tvar htmlCanvas: Laya.HTMLCanvas = sp.drawToCanvas(720, 1280, 0, 0);\r\n\t\tvar base64: string = htmlCanvas.toBase64(\"image/png\",1);\r\n\t\tconsole.log(base64);\r\n\t\tvar img = new window.Image;\r\n\t\timg.src = base64;\r\n\t\tdocument.body.appendChild(img);\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('Jpahdmb5SqyB9906bZsIAw')\r\nexport class SkinnedMeshSprite3DDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1.6, 2);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\t//\u9884\u52A0\u8F7D\u8D44\u6E90\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/dude/dude.lh\").then((res)=>{\r\n\r\n\t\t\t//lh\u7528create()\u521B\u5EFA\r\n\t\t\tvar dude: Sprite3D = (<Sprite3D>this.scene.addChild(res.create()));\r\n\t\t\t//\u7F29\u653E\r\n\t\t\tvar scale: Vector3 = new Vector3(0.5, 0.5, 0.5);\r\n\t\t\tdude.transform.localScale = scale;\r\n\t\t\tdude.transform.rotate(new Vector3(0, 3.14, 0));\r\n\r\n\t\t});\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ZJLGgE2DSteOIlWPdQKjeA')\r\nexport class Sprite3DClone extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 0.5, 1);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n        \r\n        Laya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\").then( (res)=>{\r\n\r\n            var layaMonkey:Laya.Sprite3D = this.scene.addChild(res.create()) as Laya.Sprite3D;\r\n            //\u514B\u9686sprite3d\r\n            Laya.Sprite3D.instantiate(layaMonkey, this.scene, false, new Laya.Vector3(0.6, 0, 0));\r\n            //\u514B\u9686sprite3d\r\n            this.scene.addChild(Laya.Sprite3D.instantiate(layaMonkey, null, false, new Laya.Vector3(-0.6, 0, 0)));\r\n\r\n\t\t} );\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Handler = Laya.Handler;\r\nimport Button = Laya.Button;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ioTGP0tcSVGhA93Jcl37GA')\r\nexport class Sprite3DParent extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate layaMonkeyParent:Sprite3D;\r\n\tprivate layaMonkeySon:Sprite3D;\r\n\r\n\tprivate changeActionButton:Button;\r\n\tprivate changeActionButton1:Button;\r\n\tprivate changeActionButton2:Button;\r\n\tprivate changeActionButton3:Button;\r\n\tprivate changeActionButton4:Button;\r\n\tprivate changeActionButton5:Button;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 0.75, 1);\r\n\t\tthis.camera.transform.rotate(new Vector3(-30, 0, 0), true, false);\r\n\r\n\r\n\t\t//\u9884\u52A0\u8F7D\u6240\u6709\u8D44\u6E90\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey2.lh\", \"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"];\r\n\t\tLaya.loader.load(resource).then( (res:any[])=>{\r\n\r\n\t\t\t//\u6DFB\u52A0\u7236\u7EA7\u7334\u5B50\r\n\t\t\tthis.layaMonkeyParent = this.scene.addChild(res[1].create()) as Sprite3D;\r\n\t\t\t//\u52A0\u8F7D\u7B2C\u4E8C\u53EA\u7334\u5B50\uFF0C\u4F5C\u4E3A\u5B50\u7334\u5B50\r\n\t\t\tthis.layaMonkeySon = (<Sprite3D>res[0].create());\r\n\t\t\tthis.layaMonkeySon.transform.localPosition = (new Vector3(0.2, 0, 0));\r\n\t\t\t//\u7F29\u653E\r\n\t\t\tvar scale: Vector3 = new Vector3(0.5, 0.5, 0.5);\r\n\t\t\tthis.layaMonkeySon.transform.localScale = scale;\r\n\r\n\t\t\tthis.layaMonkeyParent.addChild(this.layaMonkeySon);\r\n\r\n\t\t\tthis.loadUI();\r\n\r\n\t\t} );\r\n\t}\r\n\r\n\tprivate loadUI(): void {\r\n\t\tLaya.loader.load([\"resources/image/img_btn_bg.png\"], Handler.create(this, ()=> {\r\n\t\t\tthis.changeActionButton = this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u79FB\u52A8\u7236\u7EA7\u7334\u5B50\"));\r\n\t\t\tthis.changeActionButton.size(120, 30);\r\n\t\t\tthis.changeActionButton.labelSize = 10;\r\n\t\t\tthis.changeActionButton.sizeGrid = \"21,83,22,76\";\r\n\t\t\tthis.changeActionButton.stateNum = 1;\r\n\t\t\tthis.changeActionButton.labelColors = \"#ffffff\";\r\n\t\t\tthis.changeActionButton.pos(this.pageWidth - 170, 120);\r\n\t\t\tthis.changeActionButton.on(Event.CLICK, this, this.stypeFun0);\r\n\r\n\t\t\tthis.changeActionButton1 = this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u653E\u5927\u7236\u7EA7\u7334\u5B50\"));\r\n\t\t\tthis.changeActionButton1.size(120, 30);\r\n\t\t\tthis.changeActionButton1.labelSize = 10;\r\n\t\t\tthis.changeActionButton1.sizeGrid = \"21,83,22,76\";\r\n\t\t\tthis.changeActionButton1.stateNum = 1;\r\n\t\t\tthis.changeActionButton1.labelColors = \"#ffffff\";\r\n\t\t\tthis.changeActionButton1.pos(this.pageWidth - 170, 160);\r\n\t\t\tthis.changeActionButton1.on(Event.CLICK, this, this.stypeFun1);\r\n\r\n\t\t\tthis.changeActionButton2 = this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u65CB\u8F6C\u7236\u7EA7\u7334\u5B50\"));\r\n\t\t\tthis.changeActionButton2.size(120, 30);\r\n\t\t\tthis.changeActionButton2.labelSize = 10;\r\n\t\t\tthis.changeActionButton2.sizeGrid = \"21,83,22,76\";\r\n\t\t\tthis.changeActionButton2.stateNum = 1;\r\n\t\t\tthis.changeActionButton2.labelColors = \"#ffffff\";\r\n\t\t\tthis.changeActionButton2.pos(this.pageWidth - 170, 200);\r\n\t\t\tthis.changeActionButton2.on(Event.CLICK, this, this.stypeFun2);\r\n\r\n\t\t\tthis.changeActionButton3 = this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u79FB\u52A8\u5B50\u7EA7\u7334\u5B50\"));\r\n\t\t\tthis.changeActionButton3.size(120, 30);\r\n\t\t\tthis.changeActionButton3.labelSize = 10;\r\n\t\t\tthis.changeActionButton3.sizeGrid = \"21,83,22,76\";\r\n\t\t\tthis.changeActionButton3.stateNum = 1;\r\n\t\t\tthis.changeActionButton3.labelColors = \"#ffffff\";\r\n\t\t\tthis.changeActionButton3.pos(this.pageWidth - 170, 250);\r\n\t\t\tthis.changeActionButton3.on(Event.CLICK, this, this.stypeFun3);\r\n\r\n\t\t\tthis.changeActionButton4 = this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u653E\u5927\u5B50\u7EA7\u7334\u5B50\"));\r\n\t\t\tthis.changeActionButton4.size(120, 30);\r\n\t\t\tthis.changeActionButton4.labelSize = 10;\r\n\t\t\tthis.changeActionButton4.sizeGrid = \"21,83,22,76\";\r\n\t\t\tthis.changeActionButton4.stateNum = 1;\r\n\t\t\tthis.changeActionButton4.labelColors = \"#ffffff\";\r\n\t\t\tthis.changeActionButton4.pos(this.pageWidth - 170, 290);\r\n\t\t\tthis.changeActionButton4.on(Event.CLICK, this, this.stypeFun4);\r\n\r\n\t\t\tthis.changeActionButton5 = this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u65CB\u8F6C\u5B50\u7EA7\u7334\u5B50\"));\r\n\t\t\tthis.changeActionButton5.size(120, 30);\r\n\t\t\tthis.changeActionButton5.labelSize = 10;\r\n\t\t\tthis.changeActionButton5.sizeGrid = \"21,83,22,76\";\r\n\t\t\tthis.changeActionButton5.stateNum = 1;\r\n\t\t\tthis.changeActionButton5.labelColors = \"#ffffff\";\r\n\t\t\tthis.changeActionButton5.pos(this.pageWidth - 170, 330);\r\n\t\t\tthis.changeActionButton5.on(Event.CLICK, this, this.stypeFun5);\r\n\t\t}));\r\n\t}\r\n\r\n\t\r\n\tprivate stypeFun0() {\r\n\t\tthis.layaMonkeyParent.transform.translate(new Vector3(-0.1, 0, 0));\r\n\t}\r\n\r\n\tprivate stypeFun1() {\r\n\t\tvar scale: Vector3 = new Vector3(1.2, 1.2, 1.2);\r\n\t\tthis.layaMonkeyParent.transform.localScale = scale;\r\n\t}\r\n\r\n\tprivate stypeFun2() {\r\n\t\tthis.layaMonkeyParent.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\t}\r\n\r\n\tprivate stypeFun3() {\r\n\t\tthis.layaMonkeySon.transform.translate(new Vector3(-0.1, 0, 0));\r\n\t}\r\n\r\n\tprivate stypeFun4() {\r\n\t\tvar scale: Vector3 = new Vector3(1, 1, 1);\r\n\t\tthis.layaMonkeySon.transform.localScale = scale;\r\n\t}\r\n\r\n\tprivate stypeFun5() {\r\n\t\tthis.layaMonkeySon.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Transform3D = Laya.Transform3D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('qqOpwxhoQiq9ly2Jr6yI4w')\r\nexport class TransformDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate _position: Vector3 = new Vector3(0, 0, 0);\r\n\tprivate _position1: Vector3 = new Vector3(0, 0, 0);\r\n\tprivate _rotate: Vector3 = new Vector3(0, 1, 0);\r\n\tprivate _rotate1: Vector3 = new Vector3(0, 0, 0);\r\n\tprivate _scale: Vector3 = new Vector3();\r\n\tprivate scaleDelta: number = 0;\r\n\tprivate scaleValue: number = 0;\r\n\r\n\tprivate layaMonkey_clone1: Sprite3D;\r\n\tprivate layaMonkey_clone2: Sprite3D;\r\n\tprivate layaMonkey_clone3: Sprite3D;\r\n\r\n\tprivate clone1Transform: Transform3D;\r\n\tprivate clone2Transform: Transform3D;\r\n\tprivate clone3Transform: Transform3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1, 1);\r\n\t\tthis.camera.transform.rotate(new Vector3(-30, 0, 0), true, false);\r\n\r\n\r\n\t\t//\u6279\u91CF\u9884\u52A0\u8F7D\u8D44\u6E90\r\n\t\tLaya.loader.load([\"resources/res/threeDimen/staticModel/grid/plane.lh\", \"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"]).then((res:any[])=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tprivate onComplete(res:any[]): void {\r\n\t\t//\u52A0\u8F7D\u5730\u9762\r\n\t\tthis.scene.addChild(res[0].create());\r\n\t\t//\u52A0\u8F7D\u9759\u6001\u5C0F\u7334\u5B50\r\n\t\tvar staticLayaMonkey: MeshSprite3D = (<MeshSprite3D>res[1].create());\r\n\r\n\t\t//\u514B\u9686sprite3d\r\n\t\tthis.layaMonkey_clone1 = Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this._position1);\r\n\t\tthis.layaMonkey_clone2 = Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this._position1);\r\n\t\tthis.layaMonkey_clone3 = Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this._position1);\r\n\t\t//\u5F97\u5230\u4E09\u4E2ATransform\r\n\t\tthis.clone1Transform = this.layaMonkey_clone1.transform;\r\n\t\tthis.clone2Transform = this.layaMonkey_clone2.transform;\r\n\t\tthis.clone3Transform = this.layaMonkey_clone3.transform;\r\n\t\t//\u5E73\u79FB\r\n\t\tthis._position1.setValue(0.0, 0, 0.0);\r\n\t\tthis.clone1Transform.translate(this._position1);\r\n\t\tthis._position1.setValue(-0.5, 0, 0.0);\r\n\t\tthis.clone2Transform.translate(this._position1);\r\n\t\tthis._position1.setValue(0.5, 0, 0.0);\r\n\t\tthis.clone3Transform.translate(this._position1);\r\n\t\t//\u65CB\u8F6C\r\n\t\tthis._rotate1.setValue(0, 60, 0);\r\n\t\tthis.clone2Transform.rotate(this._rotate1, false, false);\r\n\r\n\t\tstaticLayaMonkey.destroy();\r\n\r\n\t\t//\u8BBE\u7F6E\u5B9A\u65F6\u5668\u6267\u884C,\u5B9A\u65F6\u91CD\u590D\u6267\u884C(\u57FA\u4E8E\u5E27\u7387)\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\r\n\t}\r\n\r\n\tprivate animate(): void {\r\n\r\n\t\tthis.scaleValue = Math.sin(this.scaleDelta += 0.1);\r\n\r\n\t\tthis._position.y = Math.max(0, this.scaleValue / 2);\r\n\t\tthis.clone1Transform.position = this._position;\r\n\r\n\t\tthis.clone2Transform.rotate(this._rotate, false, false);\r\n\r\n\t\tthis._scale.x = this._scale.y = this._scale.z = Math.abs(this.scaleValue);\r\n\t\tthis.clone3Transform.localScale = this._scale;\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport UnlitMaterial = Laya.UnlitMaterial;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Browser = Laya.Browser;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('Zkc-JB0IQUS8EMv3shvplg')\r\nexport class GPUCompression_ASTC extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private mat:UnlitMaterial;\r\n    private text:Laya.Label;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1.5, 4);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        let meshSprite = new MeshSprite3D(PrimitiveMesh.createBox(0.5, 0.5, 0.5));\r\n        meshSprite.transform.position = new Vector3(0.0, 1.0, 2.5);\r\n        meshSprite.transform.rotate(new Laya.Vector3(0, 0, 0), false, false);\r\n        this.mat = new UnlitMaterial();\r\n        this.scene.addChild(meshSprite);\r\n        meshSprite.getComponent(MeshRenderer).sharedMaterial = this.mat;\r\n\r\n        this.text = new Laya.Label();\r\n        \r\n        if(!Browser.onAndroid&&!Browser.onIOS){\r\n            //\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n            this.text.text = \"PC\u4E0D\u652F\u6301ASTC\u7EB9\u7406\uFF0C\u8BF7\u4F7F\u7528\u5B89\u5353\u6216\u8005\u82F9\u679C\u8BBE\u5907\";\r\n            //\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n            this.text.color = \"#FFFFFF\";\r\n            this.text.font = \"Impact\";\r\n            this.text.fontSize = 25;\r\n            this.text.width = 800;\r\n            this.text.anchorX = 0.5;\r\n            this.text.align = \"center\"; \r\n            this.text.x = this.pageWidth / 2;\r\n            this.text.y = 50;\r\n            this.owner.addChild(this.text);\r\n            console.log(\"PC\u4E0D\u652F\u6301ASTC\u7EB9\u7406\");\r\n        }\r\n        else\r\n        {\r\n            Laya.loader.load(\"resources/res/threeDimen/texture/ASTC4x4Test.ktx\").then((texture: Texture2D)=> {\r\n                this.mat.albedoTexture = texture;\r\n                //\u4FEE\u6539\u6750\u8D28\u8D34\u56FE\u7684\u5E73\u94FA\u548C\u504F\u79FB\r\n            });\r\n        }\r\n\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport UnlitMaterial = Laya.UnlitMaterial;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Browser = Laya.Browser;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('tOSZbt3ESi-sMm38cGHYfQ')\r\nexport class GPUCompression_ETC2 extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private mat:UnlitMaterial;\r\n    private text:Laya.Label;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1.5, 4);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        let meshSprite = new MeshSprite3D(PrimitiveMesh.createBox(0.5, 0.5, 0.5));\r\n        meshSprite.transform.position = new Vector3(0.0, 1.0, 2.5);\r\n        meshSprite.transform.rotate(new Laya.Vector3(0, 0, 0), false, false);\r\n        this.mat = new UnlitMaterial();\r\n        this.scene.addChild(meshSprite);\r\n        meshSprite.getComponent(MeshRenderer).sharedMaterial = this.mat;\r\n\r\n        this.text = new Laya.Label();\r\n        if(!Browser.onAndroid){\r\n            console.log(\"\u53EA\u6709\u5B89\u5353\u652F\u6301ETC\");\r\n            //\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n            this.text.text = \"PC\u4E0D\u652F\u6301ETC\u7EB9\u7406\uFF0C\u53EA\u6709\u5B89\u5353\u652F\u6301\";\r\n            //\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n            this.text.color = \"#FFFFFF\";\r\n            this.text.font = \"Impact\";\r\n            this.text.fontSize = 25;\r\n            this.text.width = 800;\r\n            this.text.anchorX = 0.5;\r\n            this.text.align = \"center\"; \r\n            this.text.x = this.pageWidth / 2;\r\n            this.text.y = 50;\r\n            this.owner.addChild(this.text);\r\n            return;\r\n        }\r\n        else\r\n        {\r\n            Laya.loader.load(\"resources/res/threeDimen/texture/ETC2Test.ktx\").then((texture: Texture2D)=> {\r\n                this.mat.albedoTexture = texture;\r\n                //\u4FEE\u6539\u6750\u8D28\u8D34\u56FE\u7684\u5E73\u94FA\u548C\u504F\u79FB\r\n            });\r\n        }\r\n\r\n\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport FilterMode = Laya.FilterMode;\r\nimport HalfFloatUtils = Laya.HalfFloatUtils;\r\nimport TextureFormat = Laya.TextureFormat;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('kjUyFxE1QbmGZjVmq1JIHQ')\r\nexport class HalfFloatTexture extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private sprite3D: Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1.5, 4);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\r\n        this.sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\r\n        //\u6B63\u65B9\u4F53\r\n        var box: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createBox(0.5, 0.5, 0.5))));\r\n        box.transform.position = new Vector3(0.0, 1.0, 2.5);\r\n        box.transform.rotate(new Laya.Vector3(0, 0, 0), false, false);\r\n        var material: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n        material.albedoTexture = this.createHalfFloatTexture();\r\n        box.meshRenderer.sharedMaterial = material;\r\n    }\r\n\r\n    //\u521B\u5EFA\u534A\u6D6E\u70B9\u6570\u7EB9\u7406\r\n    createHalfFloatTexture(): Texture2D {\r\n        var texture: Texture2D = new Texture2D(64, 64, TextureFormat.R16G16B16A16, true, true);\r\n        var pixelData: Uint16Array = new Uint16Array(64 * 64 * 4);\r\n        var pixelIndex: number;\r\n        var step: number = 1.0 / 64;\r\n        for (var x: number = 0, n = 64; x < n; x++) {\r\n            for (var y: number = 0, m = 64; y < m; y++) {\r\n                pixelIndex = (x + y * 64) * 4;\r\n                pixelData[pixelIndex] = HalfFloatUtils.roundToFloat16Bits(1.0);\r\n                pixelData[pixelIndex + 1] = HalfFloatUtils.roundToFloat16Bits(x * step);\r\n                pixelData[pixelIndex + 2] = HalfFloatUtils.roundToFloat16Bits(y * step);\r\n                pixelData[pixelIndex + 3] = HalfFloatUtils.roundToFloat16Bits(1.0);\r\n            }\r\n        }\r\n        texture.setPixelsData(pixelData, false, false);\r\n        texture.filterMode = FilterMode.Bilinear;\r\n        return texture;\r\n    }\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Texture2D = Laya.Texture2D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('dz-xMzAcQteUlyyDf64NcA')\r\nexport class TextureDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private sprite3D: Sprite3D;\r\n\tprivate index: number = 0;\r\n\tprivate texture: Texture2D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1.5, 4);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\r\n\t\tthis.sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\r\n\t\t//\u6B63\u65B9\u4F53\r\n\t\tvar box = this.sprite3D.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(0.5, 0.5, 0.5))) as Laya.MeshSprite3D;\r\n\t\tbox.transform.position = new Laya.Vector3(0.0, 1.0, 2.5);\r\n\t\tbox.transform.rotate(new Laya.Vector3(0, 0, 0), false, false);\r\n\t\t\r\n\t\tvar mater = new Laya.BlinnPhongMaterial();\r\n\t\tbox.meshRenderer.material = mater;\r\n\t\t\r\n\t\t//\u53EA\u80FD\u7528Laya.Texture2D.load\u8FD9\u79CD\u52A0\u8F7D\u4E2D\u7684\u65B9\u5F0F\u66F4\u6539\u8D34\u56FE\u5C5E\u6027\r\n\t\tLaya.Texture2D.load(\"resources/res/threeDimen/texture/layabox.png\", Laya.Handler.create(null, (texture:Laya.Texture2D)=> {\r\n\r\n\t\t\tthis.texture = texture;\r\n\t\t\t//\u5728U\u65B9\u5411\u4E0A\u4F7F\u7528WARPMODE_CLAMP\r\n\t\t\ttexture.wrapModeU = Laya.WrapMode.Clamp;\r\n\t\t\t//\u5728V\u65B9\u5411\u4F7F\u7528WARPMODE_REPEAT\r\n\t\t\ttexture.wrapModeV = Laya.WrapMode.Repeat;\r\n\t\t\t//\u8BBE\u7F6E\u8FC7\u6EE4\u65B9\u5F0F\r\n\t\t\ttexture.filterMode = Laya.FilterMode.Bilinear;\r\n\t\t\t//\u8BBE\u7F6E\u5404\u5411\u5F02\u6027\u7B49\u7EA7\r\n\t\t\ttexture.anisoLevel = 2;\r\n\t\t\t//\u8BBE\u7F6E\u6F2B\u53CD\u5C04\u8D34\u56FE\r\n\t\t\tmater.albedoTexture = texture;\r\n\t\t\t//\u4FEE\u6539\u6750\u8D28\u8D34\u56FE\u7684\u5E73\u94FA\u548C\u504F\u79FB\r\n\t\t\tmater.tilingOffset = new Laya.Vector4(2, 2, 0, 0);\r\n\r\n\t\t}));\r\n\t\t\r\n\t\tsuper.addBottomButton( [\"\u66F4\u6539WrapMode\",\"\u66F4\u6539WrapMode\",\"\u66F4\u6539WrapMode\"] , this, [this.setValue, this.setValue, this.setValue] );\r\n\t}\r\n\r\n\tsetValue() {\r\n\t\t\r\n\t\tthis.index++;\r\n\t\tif (this.index % 3 === 1) {\r\n\t\t\tthis.texture.wrapModeU = Laya.WrapMode.Repeat;\r\n\t\t\tthis.texture.wrapModeV = Laya.WrapMode.Clamp;\r\n\t\t}\r\n\t\telse if (this.index % 3 === 2) {\r\n\t\t\tthis.texture.wrapModeU = Laya.WrapMode.Repeat;\r\n\t\t\tthis.texture.wrapModeV = Laya.WrapMode.Repeat;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.texture.wrapModeU = Laya.WrapMode.Mirrored;\r\n\t\t\tthis.texture.wrapModeV = Laya.WrapMode.Mirrored;\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nimport Handler = Laya.Handler;\r\nimport Browser = Laya.Browser;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('n8-r7SaRTqeUpR8nG3l2yA')\r\nexport class TextureGPUCompression extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 2, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\r\n\t\t//\u6B64\u573A\u666F\u4E2Dresources\\res\\CompressTexture\\Assets\\layabox.jpg \u57283.0IDE\u4E2D\u5DF2\u7ECF\u914D\u7F6E\u4E86Android\u548CiOS\u7684\u7EB9\u7406\u538B\u7F29\uFF0C\r\n\t\t//\u5728\u53D1\u5E03\u540E\u65F6\u4F1A\u81EA\u52A8\u751F\u6210\u4E0D\u540C\u5E73\u53F0\u7684\u7EB9\u7406\u538B\u7F29\u6587\u4EF6\uFF0C\u7528\u624B\u673A\u8BBF\u95EE\u793A\u4F8B\u65F6\u4F1A\u81EA\u52A8\u8BC6\u522B\u673A\u578B\u4E0B\u8F7D\u76F8\u5E94\u7684\u538B\u7F29\u6587\u4EF6\r\n\t\tScene3D.load(\"resources/res/CompressTexture/scene.ls\", Handler.create(this, (scene: Scene3D)=> {\r\n\t\t\t(<Scene3D>this.scene.addChild(scene));\r\n\t\t}));\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport Color = Laya.Color;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport TrailRenderer = Laya.TrailRenderer;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('CvQw7Bm8R9uxJKAMJwWxUg')\r\nexport class TrailRender extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Laya.Scene3D;\r\n\r\n    private directionLight: Laya.DirectionLight;\r\n\r\n    private trail: Sprite3D;\r\n    private trailRenderer: TrailRenderer;\r\n\tprivate index: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 4, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-45, 0, 0), true, false);\r\n        this.camera.clearFlag = CameraClearFlags.SolidColor;\r\n\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u989C\u8272\r\n\t\tthis.directionLight = (this.scene.getChildByName(\"Direction Light\") as DirectionLight);\r\n\t\tthis.directionLight.color = new Color(1, 1, 1, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-Math.PI / 3, 0, 0));\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/staticModel/grid/plane.lh\").then( (res)=> {\r\n\t\t\tthis.scene.addChild(res.create());\r\n\t\t});\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/trail/Cube.lh\").then( (res)=> {\r\n\t\t\tthis.trail = this.scene.addChild(res.create());\r\n            this.trailRenderer = this.trail.getChildAt(0).getChildAt(0).getComponent(TrailRenderer);\r\n\t\t});\r\n\r\n        super.addBottomButton( [\"\u4FEE\u6539\u65F6\u95F4\",\"\u4FEE\u6539\u65F6\u95F4\"] , this, [this.change, this.change]);\r\n\t}\r\n\r\n\tchange(): void {\r\n\t\tthis.index++;\r\n\t\tif (this.index % 2 === 1) {\r\n\t\t\t//\u4FEE\u6539\u65F6\u95F4\r\n            this.trailRenderer.time = 10;\r\n                \r\n\t\t} else {\r\n\t\t\t//\u4FEE\u6539\u65F6\u95F4\r\n            this.trailRenderer.time = 1;\r\n\t\t}\r\n\t}    \r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport Color = Laya.Color;\r\nimport ShurikenParticleRenderer = Laya.ShurikenParticleRenderer;\r\nimport ShurikenParticleSystem = Laya.ShurikenParticleSystem;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('XuqDU-nLSxm1ApR243yVOQ')\r\nexport class Particle_BurningGround extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private particle: Sprite3D;\r\n    private particleSystem: ShurikenParticleSystem[] = [];\r\n\tprivate index: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tthis.camera.clearFlag = CameraClearFlags.SolidColor;\r\n\t\tthis.camera.clearColor = new Color(0, 0, 0, 1);\r\n\r\n        //\u57283.0IDE\u4E2D\u5236\u4F5C\u7C92\u5B50\u7CFB\u7EDF\uFF0C\u53EF\u4EE5\u7528\u4EE3\u7801\u4FEE\u6539\u7C92\u5B50\u7CFB\u7EDF\u7684\u5C5E\u6027\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/particle/ETF_Burning_Ground.lh\").then( (res)=> {\r\n\t\t\tthis.particle = this.scene.addChild(res.create());\r\n\r\n            this.particle = this.particle.getChildAt(0) as Sprite3D;\r\n            //\u901A\u8FC7Sprite3D\u83B7\u5F97ShurikenParticleRenderer\r\n            let particleRenderer: ShurikenParticleRenderer = this.particle.getComponent(ShurikenParticleRenderer);\r\n            var mat = particleRenderer.sharedMaterial;\r\n            console.log(particleRenderer);\r\n            //\u901A\u8FC7ShurikenParticleRenderer\u83B7\u5F97ShurikenParticleSystem\r\n            this.particleSystem.push(particleRenderer.particleSystem);\r\n\r\n            for( let i = 0; i< this.particle.numChildren; i++ )\r\n            {\r\n                //\u901A\u8FC7Sprite3D\u83B7\u5F97ShurikenParticleRenderer\r\n                let particleRenderer1: ShurikenParticleRenderer = this.particle.getChildAt(i).getComponent(ShurikenParticleRenderer);\r\n                //\u901A\u8FC7ShurikenParticleRenderer\u83B7\u5F97ShurikenParticleSystem\r\n                this.particleSystem.push(particleRenderer1.particleSystem);\r\n            }\r\n\t\t});\r\n\r\n        super.addBottomButton( [\"\u53BB\u6389\u5FAA\u73AF\u64AD\u653E\",\"\u6062\u590D\u5FAA\u73AF\u64AD\u653E\",\"\u52A0\u901F\u64AD\u653E\"] , this, [this.change, this.change, this.change]);\r\n\r\n\t}\r\n\r\n\tchange(): void {\r\n\t\tthis.index++;\r\n\t\tif (this.index % 3 === 1) {\r\n\t\t\t//\u53BB\u6389\u5FAA\u73AF\u64AD\u653E\r\n            for( let i = 0; i< this.particleSystem.length; i++ )\r\n            {\r\n                this.particleSystem[i].looping = false;\r\n                this.particleSystem[i].simulationSpeed = 1;\r\n            }\r\n                \r\n\t\t} else if (this.index % 3 === 2) {\r\n\t\t\t//\u6062\u590D\u5FAA\u73AF\u64AD\u653E\r\n            for( let i = 0; i< this.particleSystem.length; i++ )\r\n            {\r\n                this.particleSystem[i].looping = true;\r\n                this.particleSystem[i].play();\r\n            }\r\n                \r\n\t\t} else {\r\n\t\t\t//\u52A0\u901F\u64AD\u653E\r\n            for( let i = 0; i< this.particleSystem.length; i++ )\r\n                this.particleSystem[i].simulationSpeed = 10;\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport Color = Laya.Color;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport ShurikenParticleRenderer = Laya.ShurikenParticleRenderer;\r\nimport ShurikenParticleSystem = Laya.ShurikenParticleSystem;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('1UH-DorTT-WtgojJVFTZtw')\r\nexport class Particle_EternalLight extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private particle: Sprite3D;\r\n    private particleSystem: ShurikenParticleSystem[] = [];\r\n\tprivate index: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tthis.camera.clearFlag = CameraClearFlags.SolidColor;\r\n\t\tthis.camera.clearColor = new Color(0, 0, 0, 1);\r\n\r\n        //\u57283.0IDE\u4E2D\u5236\u4F5C\u7C92\u5B50\u7CFB\u7EDF\uFF0C\u53EF\u4EE5\u7528\u4EE3\u7801\u4FEE\u6539\u7C92\u5B50\u7CFB\u7EDF\u7684\u5C5E\u6027\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/particle/ETF_Eternal_Light.lh\").then( (res)=> {\r\n\r\n\t\t\tthis.particle = this.scene.addChild(res.create());\r\n\r\n            this.particle = this.particle.getChildAt(0) as Sprite3D;\r\n            //\u901A\u8FC7Sprite3D\u83B7\u5F97ShurikenParticleRenderer\r\n            let particleRenderer: ShurikenParticleRenderer = this.particle.getComponent(ShurikenParticleRenderer);\r\n            //\u901A\u8FC7ShurikenParticleRenderer\u83B7\u5F97ShurikenParticleSystem\r\n            this.particleSystem.push(particleRenderer.particleSystem);\r\n\r\n            for( let i = 0; i< this.particle.numChildren; i++ )\r\n            {\r\n                //\u901A\u8FC7Sprite3D\u83B7\u5F97ShurikenParticleRenderer\r\n                let particleRenderer1: ShurikenParticleRenderer = this.particle.getChildAt(i).getComponent(ShurikenParticleRenderer);\r\n                //\u901A\u8FC7ShurikenParticleRenderer\u83B7\u5F97ShurikenParticleSystem\r\n                this.particleSystem.push(particleRenderer1.particleSystem);\r\n            }\r\n\t\t});\r\n        super.addBottomButton( [\"\u53BB\u6389\u5FAA\u73AF\u64AD\u653E\",\"\u6062\u590D\u5FAA\u73AF\u64AD\u653E\",\"\u52A0\u901F\u64AD\u653E\"] , this, [this.change, this.change, this.change]);\r\n\r\n\t}\r\n\r\n\tchange(): void {\r\n\t\tthis.index++;\r\n\t\tif (this.index % 3 === 1) {\r\n\t\t\t//\u53BB\u6389\u5FAA\u73AF\u64AD\u653E\r\n            for( let i = 0; i< this.particleSystem.length; i++ )\r\n            {\r\n                this.particleSystem[i].looping = false;\r\n                this.particleSystem[i].simulationSpeed = 1;\r\n            }\r\n                \r\n\t\t} else if (this.index % 3 === 2) {\r\n\t\t\t//\u6062\u590D\u5FAA\u73AF\u64AD\u653E\r\n            for( let i = 0; i< this.particleSystem.length; i++ )\r\n            {\r\n                this.particleSystem[i].looping = true;\r\n                this.particleSystem[i].play();\r\n            }\r\n                \r\n\t\t} else {\r\n\t\t\t//\u52A0\u901F\u64AD\u653E\r\n            for( let i = 0; i< this.particleSystem.length; i++ )\r\n                this.particleSystem[i].simulationSpeed = 10;\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Button = Laya.Button;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('C0bqhnhsTFqf1gYjM2STIQ')\r\nexport class UI_Button extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\tprivate COLUMNS: number = 2;\r\n\tprivate BUTTON_WIDTH: number = 147;\r\n\tprivate BUTTON_HEIGHT: number = 165 / 3;\r\n\tprivate HORIZONTAL_SPACING: number = 200;\r\n\tprivate VERTICAL_SPACING: number = 100;\r\n\r\n\tprivate xOffset: number;\r\n\tprivate yOffset: number;\r\n\r\n\tprivate skins: any[];\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.skins = [\"resources/res/ui/button-1.png\", \"resources/res/ui/button-2.png\", \"resources/res/ui/button-3.png\",\r\n\t\t\t\"resources/res/ui/button-4.png\", \"resources/res/ui/button-5.png\", \"resources/res/ui/button-6.png\"];\r\n\r\n\t\t// \u8BA1\u7B97\u5C06Button\u81F3\u4E8E\u821E\u53F0\u4E2D\u5FC3\u7684\u504F\u79FB\u91CF\r\n\t\tthis.xOffset = (this.pageWidth - this.HORIZONTAL_SPACING * (this.COLUMNS - 1) - this.BUTTON_WIDTH) / 2;\r\n\t\tthis.yOffset = (this.pageHeight - this.VERTICAL_SPACING * (this.skins.length / this.COLUMNS - 1) - this.BUTTON_HEIGHT) / 2;\r\n\r\n\t\tLaya.loader.load(this.skins).then( ()=>{\r\n            this.onUIAssetsLoaded();\r\n        } );\r\n\t}\r\n\r\n\tprivate onUIAssetsLoaded(e: any = null): void {\r\n\t\tfor (var i: number = 0, len: number = this.skins.length; i < len; ++i) {\r\n\t\t\tvar btn: Button = this.createButton(this.skins[i]);\r\n\t\t\tvar x: number = i % this.COLUMNS * this.HORIZONTAL_SPACING + this.xOffset;\r\n\t\t\tvar y: number = (i / this.COLUMNS | 0) * this.VERTICAL_SPACING + this.yOffset;\r\n\t\t\tbtn.pos(x, y);\r\n\t\t\tconsole.log(x, y);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate createButton(skin: string): Button {\r\n\t\tvar btn: Button = new Button(skin);\r\n\t\tthis.box2D.addChild(btn);\r\n\t\treturn btn;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport CheckBox = Laya.CheckBox;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('5PZMi_gUSVii_7oaA2PC_A')\r\nexport class UI_CheckBox extends BaseScript {\r\n\r\n\tprivate COL_AMOUNT: number = 2;\r\n\tprivate ROW_AMOUNT: number = 3;\r\n\tprivate HORIZONTAL_SPACING: number = 200;\r\n\tprivate VERTICAL_SPACING: number = 100;\r\n\tprivate X_OFFSET: number = 100;\r\n\tprivate Y_OFFSET: number = 50;\r\n\r\n\tprivate skins: any[];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.skins = [\"resources/res/ui/checkbox (1).png\", \"resources/res/ui/checkbox (2).png\", \"resources/res/ui/checkbox (3).png\", \"resources/res/ui/checkbox (4).png\", \"resources/res/ui/checkbox (5).png\", \"resources/res/ui/checkbox (6).png\"];\r\n\r\n\t\tLaya.loader.load(this.skins).then( ()=>{\r\n            this.onCheckBoxSkinLoaded();\r\n        } );\r\n\t}\r\n\r\n\tprivate onCheckBoxSkinLoaded(e: any = null): void {\r\n\t\tvar cb: CheckBox;\r\n\t\tfor (var i: number = 0; i < this.COL_AMOUNT; ++i) {\r\n\t\t\tfor (var j: number = 0; j < this.ROW_AMOUNT; ++j) {\r\n\t\t\t\tcb = this.createCheckBox(this.skins[i * this.ROW_AMOUNT + j]);\r\n\t\t\t\tcb.selected = true;\r\n\r\n\t\t\t\tcb.x = this.HORIZONTAL_SPACING * i + this.X_OFFSET;\r\n\t\t\t\tcb.y += this.VERTICAL_SPACING * j + this.Y_OFFSET;\r\n\r\n\t\t\t\t// \u7ED9\u5DE6\u8FB9\u7684\u4E09\u4E2ACheckBox\u6DFB\u52A0\u4E8B\u4EF6\u4F7F\u5176\u80FD\u591F\u5207\u6362\u6807\u7B7E\r\n\t\t\t\tif (i == 0) {\r\n\t\t\t\t\tcb.y += 20;\r\n\t\t\t\t\tcb.on(\"change\", this, this.updateLabel, [cb]);\r\n\t\t\t\t\tthis.updateLabel(cb);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate createCheckBox(skin: string): CheckBox {\r\n\t\tvar cb: CheckBox = new CheckBox(skin);\r\n\t\tthis.box2D.addChild(cb);\r\n\r\n\t\tcb.labelColors = \"white\";\r\n\t\tcb.labelSize = 20;\r\n\t\tcb.labelFont = \"Microsoft YaHei\";\r\n\t\tcb.labelPadding = \"3,0,0,5\";\r\n\r\n\t\treturn cb;\r\n\t}\r\n\r\n\tprivate updateLabel(checkBox: CheckBox): void {\r\n\t\tcheckBox.label = checkBox.selected ? \"\u5DF2\u9009\u4E2D\" : \"\u672A\u9009\u4E2D\";\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Image = Laya.Image;\r\nimport Button = Laya.Button;\r\nimport Clip = Laya.Clip;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('UDnyhMhiSt-8KQ2r9zTLqA')\r\nexport class UI_Clip extends BaseScript {\r\n\r\n\tprivate buttonSkin: string = \"resources/res/ui/button-7.png\";\r\n\tprivate clipSkin: string = \"resources/res/ui/num0-9.png\";\r\n\tprivate bgSkin: string = \"resources/res/ui/coutDown.png\";\r\n\r\n\tprivate counter: Clip;\r\n\tprivate currFrame: number;\r\n\tprivate controller: Button;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n\t\tLaya.loader.load([this.buttonSkin, this.clipSkin, this.bgSkin]).then( ()=>{\r\n            this.onSkinLoaded();\r\n        } );\r\n\t}\r\n\r\n\tprivate onSkinLoaded(e: any = null): void {\r\n\t\tthis.showBg();\r\n\t\tthis.createTimerAnimation();\r\n\t\tthis.showTotalSeconds();\r\n\t\tthis.createController();\r\n\t}\r\n\r\n\tprivate showBg(): void {\r\n\t\tvar bg: Image = new Image(this.bgSkin);\r\n\t\tbg.size(224 , 302);\r\n\t\tbg.pos(this.pageWidth - bg.width >> 1, this.pageHeight - bg.height >> 1);\r\n\t\tthis.box2D.addChild(bg);\r\n\t}\r\n\r\n\tprivate createTimerAnimation(): void {\r\n\t\tthis.counter = new Clip(this.clipSkin, 10, 1);\r\n\t\tthis.counter.autoPlay = true;\r\n\t\tthis.counter.interval = 1000;\r\n\r\n\t\tthis.counter.x = (this.pageWidth - this.counter.width) / 2 - 35;\r\n\t\tthis.counter.y = (this.pageHeight - this.counter.height) / 2 - 40;\r\n\r\n\t\tthis.box2D.addChild(this.counter);\r\n\t}\r\n\r\n\tprivate showTotalSeconds(): void {\r\n\t\tvar clip: Clip = new Clip(this.clipSkin, 10, 1);\r\n\t\tclip.index = clip.clipX - 1;\r\n\t\tclip.pos(this.counter.x + 60, this.counter.y);\r\n\t\tthis.box2D.addChild(clip);\r\n\t}\r\n\r\n\tprivate createController(): void {\r\n\t\tthis.controller = new Button(this.buttonSkin, \"\u6682\u505C\");\r\n\t\tthis.controller.labelBold = true;\r\n\t\tthis.controller.labelColors = \"#FFFFFF,#FFFFFF,#FFFFFF,#FFFFFF\";\r\n\t\tthis.controller.size(84, 30);\r\n\r\n\t\tthis.controller.on('click', this, this.onClipSwitchState);\r\n\r\n\t\tthis.controller.x = (this.pageWidth - this.controller.width) / 2;\r\n\t\tthis.controller.y = (this.pageHeight - this.controller.height) / 2 + 110;\r\n\t\tthis.box2D.addChild(this.controller);\r\n\t}\r\n\r\n\tprivate onClipSwitchState(e: any = null): void {\r\n\t\tif (this.counter.isPlaying) {\r\n\t\t\tthis.counter.stop();\r\n\t\t\tthis.currFrame = this.counter.index;\r\n\t\t\tthis.controller.label = \"\u64AD\u653E\";\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.counter.play();\r\n\t\t\tthis.counter.index = this.currFrame;\r\n\t\t\tthis.controller.label = \"\u6682\u505C\";\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport ColorPicker = Laya.ColorPicker;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('Jq8UKOAVSvSSd7sZjIbk1A')\r\nexport class UI_ColorPicker extends BaseScript {\r\n\r\n\tprivate skin: string = \"resources/res/ui/colorPicker.png\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(this.skin).then( ()=>{\r\n            this.onColorPickerSkinLoaded();\r\n        } );\r\n\t}\r\n\r\n\tprivate onColorPickerSkinLoaded(e: any = null): void {\r\n\t\tvar colorPicker: ColorPicker = new ColorPicker();\r\n\t\tcolorPicker.selectedColor = \"#ff0033\";\r\n\t\tcolorPicker.skin = this.skin;\r\n\r\n\t\tcolorPicker.pos(100, 100);\r\n\t\tcolorPicker.changeHandler = new Handler(this, this.onChangeColor, [colorPicker]);\r\n\t\tthis.box2D.addChild(colorPicker);\r\n\r\n\t\tthis.onChangeColor(colorPicker);\r\n\t}\r\n\r\n\tprivate onChangeColor(colorPicker: ColorPicker, e: any = null): void {\r\n\t\tconsole.log(colorPicker.selectedColor);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport ComboBox = Laya.ComboBox;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('bnnjPwoDTN6a3w4G7LZZyQ')\r\nexport class UI_ComboBox extends BaseScript {\r\n\tprivate skin: string = \"resources/res/ui/combobox.png\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(this.skin).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tvar cb: ComboBox = this.createComboBox(this.skin);\r\n\t\tcb.autoSize = true;\r\n\t\tcb.pos((this.pageWidth - cb.width) / 2, 100);\r\n\t\tcb.autoSize = false;\r\n\t}\r\n\r\n\tprivate createComboBox(skin: string): ComboBox {\r\n\t\tvar comboBox: ComboBox = new ComboBox(skin, \"item0,item1,item2,item3,item4,item5\");\r\n\t\tcomboBox.labelSize = 30;\r\n\t\tcomboBox.itemSize = 25;\r\n\t\tcomboBox.selectHandler = new Handler(this, this.onSelect, [comboBox]);\r\n\t\tthis.box2D.addChild(comboBox);\r\n\r\n\t\treturn comboBox;\r\n\t}\r\n\r\n\tprivate onSelect(cb: ComboBox, e: any = null): void {\r\n\t\tconsole.log(\"\u9009\u4E2D\u4E86\uFF1A \" + cb.selectedLabel);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Dialog = Laya.Dialog;\r\nimport Image = Laya.Image;\r\nimport Button = Laya.Button;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('brJ4nU-PRJugVAV-CrZRyg')\r\nexport class UI_Dialog extends BaseScript {\r\n\r\n    private DIALOG_WIDTH: number = 220;\r\n\tprivate DIALOG_HEIGHT: number = 275;\r\n\tprivate CLOSE_BTN_WIDTH: number = 43;\r\n\tprivate CLOSE_BTN_PADDING: number = 5;\r\n\r\n\tprivate assets: any[];\r\n    private dialog: Dialog;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.assets = [\"resources/res/ui/dialog (1).png\", \"resources/res/ui/close.png\"];\r\n\t\tLaya.loader.load(this.assets).then( ()=>{\r\n            this.onSkinLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\t\r\n\tprivate onSkinLoadComplete(e: any = null): void {\r\n\t\tthis.dialog = new Dialog();\r\n\r\n\t\tvar bg: Image = new Image(this.assets[0]);\r\n\t\tthis.dialog.addChild(bg);\r\n\r\n\t\tvar button: Button = new Button(this.assets[1]);\r\n\t\tbutton.name = Dialog.CLOSE;\r\n\t\tbutton.pos(this.DIALOG_WIDTH - this.CLOSE_BTN_WIDTH - this.CLOSE_BTN_PADDING, this.CLOSE_BTN_PADDING);\r\n\t\tthis.dialog.addChild(button);\r\n\r\n\t\tthis.dialog.dragArea = \"0,0,\" + this.DIALOG_WIDTH + \",\" + this.DIALOG_HEIGHT;\r\n\t\tthis.dialog.show();\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.dialog) {\r\n\t\t\tthis.dialog.close();\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport FontClip = Laya.FontClip;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('FHCUwBwVRsGYpLCdH--sLA')\r\nexport class UI_FontClip extends BaseScript {\r\n\r\n    private TestClipNum: string = \"resources/res/ui/fontClip_num.png\";\r\n    private _ClipNum: string = \"resources/res/ui/fontClip_num.png\";\r\n    private _ClipNum1: string = \"resources/res/ui/fontClip_num.png\";\r\n    private TestFontClip: string = \"resources/res/ui/fontClip.png\";\r\n    private _FontClip: string = \"resources/res/ui/fontClip.png\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        Laya.loader.load([this.TestClipNum, this.TestFontClip, this._ClipNum, this._FontClip, this._ClipNum1]).then( ()=>{\r\n            this.ShowContent();\r\n        } );\r\n    }\r\n    \r\n    private ShowContent(): void {\r\n        var clipnum: FontClip = new FontClip(this._ClipNum);\r\n        var fontClip: FontClip = new FontClip(this._FontClip);\r\n        var testFontClip: FontClip = new FontClip(this.TestFontClip);\r\n        var testClipNum: FontClip = new FontClip(this.TestClipNum);\r\n        var clipnum1: FontClip = new FontClip(this._ClipNum1);\r\n\r\n        clipnum.pos(240, 400);\r\n        clipnum.size(250, 50);\r\n        clipnum.sheet = \"0123456789\";\r\n        clipnum.value = \"114499\";\r\n        clipnum.spaceY = 10;\r\n\r\n        testClipNum.pos(200, 300);\r\n        testClipNum.sheet = \"0123456789\";\r\n        testClipNum.value = \"0123456789\";\r\n\r\n        clipnum1.pos(150, 100);\r\n        clipnum1.direction = \"vertical\";\r\n        clipnum1.sheet = \"0123456789\";\r\n        clipnum1.value = \"223388\";\r\n\r\n        fontClip.pos(240, 200);\r\n        fontClip.sheet = \"\u9F20\u725B\u864E\u5154\u9F99\u86C7\u9A6C\u7F8A \u7334\u9E21\u72D7\u732A\u5E74\u5FEB\u4E50\";\r\n        fontClip.value = \"\u732A\u5E74\u5FEB\u4E50\";\r\n        fontClip.spaceY = 10;\r\n\r\n        testFontClip.pos(200, 100);\r\n        testFontClip.sheet = \"\u9F20\u725B\u864E\u5154\u9F99\u86C7\u9A6C\u7F8A\u7334\u9E21\u72D7\u732A\u5E74\u5FEB\u4E50\";\r\n        testFontClip.value = \"\u9F20\u725B\u864E\u5154\u9F99\u86C7\u9A6C\u7F8A\u7334\u9E21\u72D7\u732A\u5E74\u5FEB\u4E50\";\r\n        testFontClip.spaceY = 10;\r\n\r\n        this.box2D.addChild(clipnum);\r\n        this.box2D.addChild(fontClip);\r\n        this.box2D.addChild(testFontClip);\r\n        this.box2D.addChild(testClipNum);\r\n        this.box2D.addChild(clipnum1);\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Image = Laya.Image;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('-75LazDfR2iCBqTf5bS6xQ')\r\nexport class UI_Image extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tvar dialog: Image = new Image(\"resources/res/ui/dialog (3).png\");\r\n\t\tdialog.pos(165, 62.5);\r\n\t\tthis.box2D.addChild(dialog);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport TextInput = Laya.TextInput;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('OncikTGgSkey7MxcqMoRRg')\r\nexport class UI_Input extends BaseScript {\r\n\r\n    private SPACING: number = 100;\r\n\tprivate INPUT_WIDTH: number = 300;\r\n\tprivate INPUT_HEIGHT: number = 50;\r\n\tprivate Y_OFFSET: number = 50;\r\n\tprivate skins: any[];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.skins = [\"resources/res/ui/input (1).png\", \"resources/res/ui/input (2).png\", \"resources/res/ui/input (3).png\", \"resources/res/ui/input (4).png\"];\r\n\t\tLaya.loader.load(this.skins).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tfor (var i: number = 0; i < this.skins.length; ++i) {\r\n\t\t\tvar input: TextInput = this.createInput(this.skins[i]);\r\n\t\t\tinput.prompt = 'Type:';\r\n\t\t\tinput.x = (this.pageWidth - input.width) / 2;\r\n\t\t\tinput.y = i * this.SPACING + this.Y_OFFSET;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate createInput(skin: string): TextInput {\r\n\t\tvar ti: TextInput = new TextInput();\r\n\r\n\t\tti.skin = skin;\r\n\t\tti.size(300, 50);\r\n\t\tti.sizeGrid = \"0,40,0,40\";\r\n\t\tti.font = \"Arial\";\r\n\t\tti.fontSize = 30;\r\n\t\tti.bold = true;\r\n\t\tti.color = \"#606368\";\r\n\r\n\t\tthis.box2D.addChild(ti);\r\n\r\n\t\treturn ti;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Label = Laya.Label;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('_25IvzciTRSki8LyKVQk9g')\r\nexport class UI_Label extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.createLabel(\"#FFFFFF\", null).pos(30, 50);\r\n\t\tthis.createLabel(\"#00FFFF\", null).pos(290, 50);\r\n\t\tthis.createLabel(\"#FFFF00\", \"#FFFFFF\").pos(30, 100);\r\n\t\tthis.createLabel(\"#000000\", \"#FFFFFF\").pos(290, 100);\r\n\t\tthis.createLabel(\"#FFFFFF\", \"#00FFFF\").pos(30, 150);\r\n\t\tthis.createLabel(\"#0080FF\", \"#00FFFF\").pos(290, 150);\r\n\t}\r\n\r\n\tprivate createLabel(color: string, strokeColor: string): Label {\r\n\t\tconst STROKE_WIDTH: number = 4;\r\n\r\n\t\tvar label: Label = new Label();\r\n\t\tlabel.font = \"Microsoft YaHei\";\r\n\t\tlabel.text = \"SAMPLE DEMO\";\r\n\t\tlabel.fontSize = 30;\r\n\t\tlabel.color = color;\r\n\r\n\t\tif (strokeColor) {\r\n\t\t\tlabel.stroke = STROKE_WIDTH;\r\n\t\t\tlabel.strokeColor = strokeColor;\r\n\t\t}\r\n\r\n\t\tthis.box2D.addChild(label);\r\n\r\n\t\treturn label;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport List = Laya.List;\r\nimport Event = Laya.Event;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('bddoqEOXTYKBSCLQC_S67A')\r\nexport class UI_List extends BaseScript {\r\n\r\n\tprivate _list: List;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\t\r\n\tprivate setup(): void {\r\n\t\tvar list: List = new List();\r\n\r\n\t\tlist.itemRender = Item;\r\n\t\tlist.repeatX = 1;\r\n\t\tlist.repeatY = 4;\r\n\r\n\t\tlist.x = (this.pageWidth - Item.WID) / 2;\r\n\t\tlist.y = (this.pageHeight - Item.HEI * list.repeatY) / 2;\r\n\r\n\t\t// \u8BBE\u7F6EList\u7684\u5782\u76F4\u6EDA\u52A8\r\n\t\tlist.scrollType = Laya.ScrollType.Vertical;\r\n\t\t// \u8BBE\u7F6EList\u7684\u5782\u76F4\u6EDA\u52A8\u76AE\u80A4\uFF0C\u4E0D\u8BBE\u7F6E\u6216\u8005\"\"\u5C31\u6CA1\u6709\u6EDA\u52A8\u6761\u76AE\u80A4\r\n\t\tlist.vScrollBarSkin = \"\";\r\n\t\t// \u662F\u5426\u5F00\u542F\u6A61\u76AE\u7B4B\u6548\u679C\r\n\t\tlist.elasticEnabled = true;\r\n\t\t// \u8BBE\u7F6E\u6A61\u76AE\u7B4B\u56DE\u5F39\u65F6\u95F4\u3002\u5355\u4F4D\u4E3A\u6BEB\u79D2\u3002\r\n\t\tlist.scrollBar.elasticBackTime = 300;\r\n\t\t// \u8BBE\u7F6E\u6A61\u76AE\u7B4B\u6781\u9650\u8DDD\u79BB\u3002\r\n\t\tlist.scrollBar.elasticDistance = 50;\r\n\t\tlist.selectEnable = true;\r\n\t\tlist.selectHandler = new Laya.Handler(this, this.onSelect);\r\n\r\n\t\tlist.renderHandler = new Laya.Handler(this, this.updateItem);\r\n\t\tthis.box2D.addChild(list);\r\n\r\n\t\t// \u8BBE\u7F6E\u6570\u636E\u9879\u4E3A\u5BF9\u5E94\u56FE\u7247\u7684\u8DEF\u5F84\r\n\t\tvar data: any[] = [];\r\n\t\tfor (var i: number = 0; i < 10; ++i) {\r\n\t\t\tdata.push(\"resources/res/ui/listskins/1.jpg\");\r\n\t\t\tdata.push(\"resources/res/ui/listskins/2.jpg\");\r\n\t\t\tdata.push(\"resources/res/ui/listskins/3.jpg\");\r\n\t\t\tdata.push(\"resources/res/ui/listskins/4.jpg\");\r\n\t\t\tdata.push(\"resources/res/ui/listskins/5.jpg\");\r\n\t\t}\r\n\t\tlist.array = data;\r\n\t\tthis._list = list;\r\n\t}\r\n\r\n\tprivate _itemHeight: number;\r\n\tprivate _oldY: number;\r\n\tprivate onMuseHandler(type: Event, index: number): void {\r\n\t\tconsole.log(\"type:\" + type.type + \"ddd--\" + this._list.scrollBar.value + \"---index:\" + index);\r\n\t\tvar curX: number, curY: number;\r\n\t\tif (type.type == \"mousedown\") {\r\n\t\t\tthis._oldY = Laya.stage.mouseY;\r\n\t\t\tlet itemBox = this._list.getCell(index);\r\n\t\t\tthis._itemHeight = itemBox.height;\r\n\t\t} else if (type.type == \"mouseout\") {\r\n\t\t\tcurY = Laya.stage.mouseY;\r\n\t\t\tvar chazhiY: number = Math.abs(curY - this._oldY);\r\n\t\t\tvar tempIndex: number = Math.ceil(chazhiY / this._itemHeight);\r\n\t\t\tconsole.log(\"----------tempIndex:\" + tempIndex + \"---_itemHeight:\" + this._itemHeight + \"---chazhiY:\" + chazhiY);\r\n\t\t\tvar newIndex: number;\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tprivate updateItem(cell: Item, index: number): void {\r\n\t\tcell.setImg(cell.dataSource);\r\n\t}\r\n\r\n\tprivate onSelect(index: number): void {\r\n\t\tconsole.log(\"\u5F53\u524D\u9009\u62E9\u7684\u7D22\u5F15\uFF1A\" + index);\r\n\t}\r\n}\r\n\r\n\r\n\r\nclass Item extends Laya.Box {\r\n\tstatic WID: number = 373;\r\n\tstatic HEI: number = 85;\r\n\r\n\tprivate img: Laya.Image;\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.size(Item.WID, Item.HEI);\r\n\t\tthis.img = new Laya.Image();\r\n\t\tthis.addChild(this.img);\r\n\t}\r\n\r\n\tsetImg(src: string): void {\r\n\t\tthis.img.skin = src;\r\n\t}\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Panel = Laya.Panel;\r\nimport Image = Laya.Image;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0rE_28qdTIiXKByoZcn5tg')\r\nexport class UI_Panel extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tvar panel: Panel = new Panel();\r\n\t\tpanel.hScrollBarSkin = \"resources/res/ui/hscroll.png\";\r\n\t\tpanel.hScrollBar.hide = true;\r\n\t\tpanel.size(600, 275);\r\n\t\tpanel.x = (this.pageWidth - panel.width) / 2;\r\n\t\tpanel.y = (this.pageHeight - panel.height) / 2;\r\n\t\tthis.box2D.addChild(panel);\r\n\r\n\t\tvar img: Image;\r\n\t\tfor (var i: number = 0; i < 4; i++) {\r\n\t\t\timg = new Image(\"resources/res/ui/dialog (1).png\");\r\n\t\t\timg.x = i * 250;\r\n\t\t\tpanel.addChild(img);\r\n\t\t}\r\n\t}\r\n\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport ProgressBar = Laya.ProgressBar;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('whqJ7uvWSeGhGmMHcAAg7g')\r\nexport class UI_ProgressBar extends BaseScript {\r\n\r\n    private progressBar: ProgressBar;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load([\"resources/res/ui/progressBar.png\", \"resources/res/ui/progressBar$bar.png\"]).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tthis.progressBar = new ProgressBar(\"resources/res/ui/progressBar.png\");\r\n\r\n\t\tthis.progressBar.width = 400;\r\n\r\n\t\tthis.progressBar.x = (this.pageWidth - this.progressBar.width) / 2;\r\n\t\tthis.progressBar.y = this.pageHeight / 2;\r\n\r\n\t\tthis.progressBar.sizeGrid = \"5,5,5,5\";\r\n\t\tthis.progressBar.changeHandler = new Handler(this, this.onChange);\r\n\t\tthis.box2D.addChild(this.progressBar);\r\n\r\n\t\tLaya.timer.loop(100, this, this.changeValue);\r\n\t}\r\n\r\n\tprivate changeValue(): void {\r\n\r\n\t\tif (this.progressBar.value >= 1)\r\n\t\t\tthis.progressBar.value = 0;\r\n\t\tthis.progressBar.value += 0.05;\r\n\t}\r\n\r\n\tprivate onChange(value: number): void {\r\n\t\tconsole.log(\"\u8FDB\u5EA6\uFF1A\" + Math.floor(value * 100) + \"%\");\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport RadioGroup = Laya.RadioGroup;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('pmKi7EJ8ScqG0XO-J7I9iA')\r\nexport class UI_RadioGroup extends BaseScript {\r\n\r\n\tprivate SPACING: number = 150;\r\n\tprivate X_OFFSET: number = 200;\r\n\tprivate Y_OFFSET: number = 80;\r\n\r\n\tprivate skins: any[];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.skins = [\"resources/res/ui/radioButton (1).png\", \"resources/res/ui/radioButton (2).png\", \"resources/res/ui/radioButton (3).png\"];\r\n\t\tLaya.loader.load(this.skins).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tfor (var i: number = 0; i < this.skins.length; ++i) {\r\n\t\t\tvar rg: RadioGroup = this.createRadioGroup(this.skins[i]);\r\n\t\t\trg.selectedIndex = i;\r\n\t\t\trg.x = i * this.SPACING + this.X_OFFSET;\r\n\t\t\trg.y = this.Y_OFFSET;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate createRadioGroup(skin: string): RadioGroup {\r\n\t\tvar rg: RadioGroup = new RadioGroup();\r\n\t\trg.skin = skin;\r\n\r\n\t\trg.space = 70;\r\n\t\trg.direction = \"v\";\r\n\r\n\t\trg.labels = \"Item1, Item2, Item3\";\r\n\t\trg.labelColors = \"#787878,#d3d3d3,#FFFFFF\";\r\n\t\trg.labelSize = 20;\r\n\t\trg.labelBold = true;\r\n\t\trg.labelPadding = \"5,0,0,5\";\r\n\r\n\t\trg.selectHandler = new Laya.Handler(this, this.onSelectChange);\r\n\t\tthis.box2D.addChild(rg);\r\n\r\n\t\treturn rg;\r\n\t}\r\n\r\n\tprivate onSelectChange(index: number): void {\r\n\t\tconsole.log(\"\u4F60\u9009\u62E9\u4E86\u7B2C \" + (index + 1) + \" \u9879\");\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport HScrollBar = Laya.HScrollBar;\r\nimport VScrollBar = Laya.VScrollBar;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('HR_w46iyRZW4_NT6ay07Sg')\r\nexport class UI_ScrollBar extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tvar skins: any[] = [];\r\n\t\tskins.push(\"resources/res/ui/hscroll.png\", \"resources/res/ui/hscroll$bar.png\", \"resources/res/ui/hscroll$down.png\", \"resources/res/ui/hscroll$up.png\");\r\n\t\tskins.push(\"resources/res/ui/vscroll.png\", \"resources/res/ui/vscroll$bar.png\", \"resources/res/ui/vscroll$down.png\", \"resources/res/ui/vscroll$up.png\");\r\n\t\tLaya.loader.load(skins).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tthis.placeHScroller();\r\n\t\tthis.placeVScroller();\r\n\t}\r\n\r\n\tprivate placeHScroller(): void {\r\n\t\tvar hs: HScrollBar = new HScrollBar();\r\n\t\ths.skin = \"resources/res/ui/hscroll.png\";\r\n\t\ths.width = 300;\r\n\t\ths.pos(50, 170);\r\n\r\n\t\ths.min = 0;\r\n\t\ths.max = 100;\r\n\r\n\t\ths.changeHandler = new Handler(this, this.onChange);\r\n\t\tthis.box2D.addChild(hs);\r\n\t}\r\n\r\n\tprivate placeVScroller(): void {\r\n\t\tvar vs: VScrollBar = new VScrollBar();\r\n\t\tvs.skin = \"resources/res/ui/vscroll.png\";\r\n\t\tvs.height = 300;\r\n\t\tvs.pos(400, 50);\r\n\r\n\t\tvs.min = 0;\r\n\t\tvs.max = 100;\r\n\r\n\t\tvs.changeHandler = new Handler(this, this.onChange);\r\n\t\tthis.box2D.addChild(vs);\r\n\t}\r\n\r\n\tprivate onChange(value: number): void {\r\n\t\tconsole.log(\"\u6EDA\u52A8\u6761\u7684\u4F4D\u7F6E\uFF1A value=\" + value);\r\n\t}\r\n\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport HSlider = Laya.HSlider;\r\nimport VSlider = Laya.VSlider;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ZankRI9VQLikHwrUQY6rfQ')\r\nexport class UI_Slider extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tvar skins: any[] = [];\r\n\t\tskins.push(\"resources/res/ui/hslider.png\", \"resources/res/ui/hslider$bar.png\");\r\n\t\tskins.push(\"resources/res/ui/vslider.png\", \"resources/res/ui/vslider$bar.png\");\r\n\t\tLaya.loader.load(skins, Handler.create(this, this.onLoadComplete));\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tthis.placeHSlider();\r\n\t\tthis.placeVSlider();\r\n\t}\r\n\r\n\tprivate placeHSlider(): void {\r\n\t\tvar hs: HSlider = new HSlider();\r\n\t\ths.skin = \"resources/res/ui/hslider.png\";\r\n\r\n\t\ths.width = 300;\r\n\t\ths.pos(50, 170);\r\n\t\ths.min = 0;\r\n\t\ths.max = 100;\r\n\t\ths.value = 50;\r\n\t\ths.tick = 1;\r\n\r\n\t\ths.changeHandler = new Handler(this, this.onChange);\r\n\t\tthis.box2D.addChild(hs);\r\n\t}\r\n\r\n\tprivate placeVSlider(): void {\r\n\t\tvar vs: VSlider = new VSlider();\r\n\r\n\t\tvs.skin = \"resources/res/ui/vslider.png\";\r\n\r\n\t\tvs.height = 300;\r\n\t\tvs.pos(400, 50);\r\n\t\tvs.min = 0;\r\n\t\tvs.max = 100;\r\n\t\tvs.value = 50;\r\n\t\tvs.tick = 1;\r\n\r\n\t\tvs.changeHandler = new Handler(this, this.onChange);\r\n\t\tthis.box2D.addChild(vs);\r\n\t}\r\n\r\n\tprivate onChange(value: number): void {\r\n\t\tconsole.log(\"\u6ED1\u5757\u7684\u4F4D\u7F6E\uFF1A\" + value);\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Tab = Laya.Tab;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0Jc72s1zRvGZcJJFGol5pg')\r\nexport class UI_Tab extends BaseScript {\r\n\r\n    private skins: any[] = [\"resources/res/ui/tab1.png\", \"resources/res/ui/tab2.png\"];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(this.skins).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tvar tabA: Tab = this.createTab(this.skins[0]);\r\n\t\ttabA.pos(40, 120);\r\n\t\ttabA.labelColors = \"#000000,#d3d3d3,#333333\";\r\n\r\n\t\tvar tabB: Tab = this.createTab(this.skins[1]);\r\n\t\ttabB.pos(40, 220);\r\n\t\ttabB.labelColors = \"#FFFFFF,#8FB299,#FFFFFF\";\r\n\t}\r\n\r\n\tprivate createTab(skin: string): Tab {\r\n\t\tvar tab: Tab = new Tab();\r\n\t\ttab.skin = skin;\r\n\r\n\t\ttab.labelBold = true;\r\n\t\ttab.labelSize = 20;\r\n\t\ttab.labelStrokeColor = \"#000000\";\r\n\r\n\t\ttab.labels = \"Tab Control 1,Tab Control 2,Tab Control 3\";\r\n\t\ttab.labelPadding = \"0,0,0,0\";\r\n\r\n\t\ttab.selectedIndex = 1;\r\n\r\n\t\tthis.onSelect(tab.selectedIndex);\r\n\t\ttab.selectHandler = new Handler(this, this.onSelect);\r\n\r\n\t\tthis.box2D.addChild(tab);\r\n\r\n\t\treturn tab;\r\n\t}\r\n\r\n\tprivate onSelect(index: number): void {\r\n\t\tconsole.log(\"\u5F53\u524D\u9009\u62E9\u7684\u6807\u7B7E\u9875\u7D22\u5F15\u4E3A \" + index);\r\n\t}\r\n\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport TextArea = Laya.TextArea;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ByhEvmTZSXyRPt2FPm1jOg')\r\nexport class UI_TextArea extends BaseScript {\r\n\t\r\n\tprivate skin: string = \"resources/res/ui/textarea.png\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(this.skin).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\r\n\t\tlet ta: TextArea = new TextArea(\"\");\r\n\t\tta.skin = this.skin;\r\n\r\n\t\tta.font = \"Arial\";\r\n\t\tta.fontSize = 18;\r\n\t\tta.bold = true;\r\n\r\n\t\tta.color = \"#3d3d3d\";\r\n\r\n\t\tta.pos(100, 15);\r\n\t\tta.size(375, 355);\r\n\r\n\t\tta.padding = \"70,8,8,8\";\r\n\r\n\t\tthis.owner.addChild(ta);\r\n\t}\r\n\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Label = Laya.Label;\r\nimport Tree = Laya.Tree;\r\nimport Box = Laya.Box;\r\nimport Handler = Laya.Handler;\r\nimport Clip = Laya.Clip;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0793pAoeRsyQSB-JiuDHRw')\r\nexport class UI_Tree extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tvar res: any[] = [\"resources/res/ui/vscroll.png\",\r\n\t\t\t\"resources/res/ui/vscroll$bar.png\",\r\n\t\t\t\"resources/res/ui/vscroll$down.png\",\r\n\t\t\t\"resources/res/ui/vscroll$up.png\",\r\n\t\t\t\"resources/res/ui/tree/clip_selectBox.png\",\r\n\t\t\t\"resources/res/ui/tree/clip_tree_folder.png\",\r\n\t\t\t\"resources/res/ui/tree/clip_tree_arrow.png\"];\r\n\r\n\t\tLaya.loader.load(res).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\t// \u7EC4\u88C5tree\u7684\u6570\u636E\r\n\t\tvar treeData:string = \"<data>\";\r\n\t\tfor (var i: number = 0; i < 5; ++i) {\r\n\t\t\ttreeData += \"<item label='Directory \" + (i + 1) + \"' isOpen='true'>\";\r\n\t\t\tfor (var j: number = 0; j < 5; ++j) {\r\n\t\t\t\ttreeData += \"<leaf label='File \" + (j + 1) + \"'/>\";\r\n\t\t\t}\r\n\t\t\ttreeData += \"</item>\";\r\n\t\t}\r\n\t\ttreeData += \"</data>\";\r\n\t\t// \u89E3\u6790tree\u7684\u6570\u636E\r\n\t\tvar xml: Laya.XML = new Laya.XML(treeData);\r\n\r\n\t\tvar tree: Tree = new Tree();\r\n\t\ttree.scrollBarSkin = \"resources/res/ui/vscroll.png\";\r\n\t\ttree.itemRender = Item;\r\n\t\ttree.xml = xml;\r\n\t\ttree.size(300, 300);\r\n\t\ttree.x = (this.pageWidth - tree.width) / 2;\r\n\t\ttree.y = (this.pageHeight - tree.height) / 2;\r\n\t\tthis.box2D.addChild(tree);\r\n\t}\r\n}\r\n\r\n\r\n\r\n// \u6B64\u7C7B\u5BF9\u5E94\u7684json\u5BF9\u8C61\uFF1A\r\n// {\"child\": [{\"type\": \"Clip\", \"props\": {\"x\": \"13\", \"y\": \"0\", \"left\": \"12\", \"height\": \"24\", \"name\": \"selectBox\", \"skin\": \"ui/clip_selectBox.png\", \"right\": \"0\", \"clipY\": \"2\"}}, {\"type\": \"Clip\", \"props\": {\"y\": \"4\", \"x\": \"14\", \"name\": \"folder\", \"clipX\": \"1\", \"skin\": \"ui/clip_tree_folder.png\", \"clipY\": \"3\"}}, {\"type\": \"Label\", \"props\": {\"y\": \"1\", \"text\": \"treeItem\", \"width\": \"150\", \"left\": \"33\", \"height\": \"22\", \"name\": \"label\", \"color\": \"#ffff00\", \"right\": \"0\", \"x\": \"33\"}}, {\"type\": \"Clip\", \"props\": {\"x\": \"0\", \"name\": \"arrow\", \"y\": \"5\", \"skin\": \"ui/clip_tree_arrow.png\", \"clipY\": \"2\"}}], \"type\": \"Box\", \"props\": {\"name\": \"render\", \"right\": \"0\", \"left\": \"0\"}};\r\nclass Item extends Box {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.right = 0;\r\n\t\tthis.left = 0;\r\n\r\n\t\tvar selectBox: Clip = new Clip(\"resources/res/ui/tree/clip_selectBox.png\", 1, 2);\r\n\t\tselectBox.name = \"selectBox\";//\u8BBE\u7F6E selectBox \u7684name \u4E3A\u201CselectBox\u201D\u65F6\uFF0C\u5C06\u88AB\u8BC6\u522B\u4E3A\u6811\u7ED3\u6784\u7684\u9879\u7684\u80CC\u666F\u30022\u5E27\uFF1A\u60AC\u505C\u65F6\u80CC\u666F\u3001\u9009\u4E2D\u65F6\u80CC\u666F\u3002\t\r\n\t\tselectBox.height = 32;\r\n\t\tselectBox.x = 13;\r\n\t\tselectBox.left = 12;\r\n\t\tthis.addChild(selectBox);\r\n\r\n\t\tvar folder: Clip = new Clip(\"resources/res/ui/tree/clip_tree_folder.png\", 1, 3);\r\n\t\tfolder.name = \"folder\";//\u8BBE\u7F6E folder \u7684name \u4E3A\u201Cfolder\u201D\u65F6\uFF0C\u5C06\u88AB\u8BC6\u522B\u4E3A\u6811\u7ED3\u6784\u7684\u6587\u4EF6\u5939\u5F00\u542F\u72B6\u6001\u56FE\u8868\u30022\u5E27\uFF1A\u6298\u53E0\u72B6\u6001\u3001\u6253\u5F00\u72B6\u6001\u3002\r\n\t\tfolder.x = 14;\r\n\t\tfolder.y = 4;\r\n\t\tthis.addChild(folder);\r\n\r\n\t\tvar label: Label = new Label(\"treeItem\");\r\n\t\tlabel.name = \"label\";//\u8BBE\u7F6E label \u7684name \u4E3A\u201Clabel\u201D\u65F6\uFF0C\u6B64\u503C\u5C06\u7528\u4E8E\u6811\u7ED3\u6784\u6570\u636E\u8D4B\u503C\u3002\r\n\t\tlabel.fontSize = 20;\r\n\t\tlabel.color = \"#FFFFFF\";\r\n\t\tlabel.padding = \"6,0,0,13\";\r\n\t\tlabel.width = 150;\r\n\t\tlabel.height = 30;\r\n\t\tlabel.x = 33;\r\n\t\tlabel.y = 1;\r\n\t\tlabel.left = 33;\r\n\t\tlabel.right = 0;\r\n\t\tthis.addChild(label);\r\n\r\n\t\tvar arrow: Clip = new Clip(\"resources/res/ui/tree/clip_tree_arrow.png\", 1, 2);\r\n\t\tarrow.name = \"arrow\";//\u8BBE\u7F6E arrow \u7684name \u4E3A\u201Carrow\u201D\u65F6\uFF0C\u5C06\u88AB\u8BC6\u522B\u4E3A\u6811\u7ED3\u6784\u7684\u6587\u4EF6\u5939\u5F00\u542F\u72B6\u6001\u56FE\u8868\u30022\u5E27\uFF1A\u6298\u53E0\u72B6\u6001\u3001\u6253\u5F00\u72B6\u6001\u3002\r\n\t\tarrow.x = 0;\r\n\t\tarrow.y = 5;\r\n\t\tthis.addChild(arrow);\r\n\t}\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Quaternion = Laya.Quaternion;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('VCJ74oS4TT-WijMoHTkpTw')\r\nexport class BlinnPhongMaterialLoad extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\t//\u52A0\u8F7D\u6A21\u578B\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\").then((res)=> {\r\n\t\t\tvar layaMonkey: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(res)));\r\n\t\t\tlayaMonkey.transform.localScale = new Vector3(0.3, 0.3, 0.3);\r\n\t\t\tlayaMonkey.transform.rotation = new Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\r\n\t\t\t//\u52A0\u8F7D\u6750\u8D28\r\n\t\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/Materials/T_Diffuse.lmat\").then((mat)=> {\r\n\t\t\t\tlayaMonkey.meshRenderer.material = mat;\r\n\t\t\t});\r\n\r\n\t\t\tLaya.timer.frameLoop(1, this, ()=>  {\r\n\t\t\t\tlayaMonkey.transform.rotate(this.rotation, false);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Mesh = Laya.Mesh;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('YduDvG4zTAezA1p96HO-4w')\r\nexport class BlinnPhong_DiffuseMap extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0, 2));\r\n\t\tthis.camera.transform.rotate(new Vector3(0, 0, 0), true, false);\r\n\t\t\r\n\t\t//\u521B\u5EFA\u4E00\u4E2ASphereMesh\r\n\t\tvar sphereMesh: Mesh = PrimitiveMesh.createSphere();\r\n\r\n\t\tvar earth1: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(sphereMesh)));\r\n\t\tearth1.transform.position = new Vector3(-0.6, 0, 0);\r\n\r\n\t\tvar earth2: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(sphereMesh)));\r\n\t\tearth2.transform.position = new Vector3(0.6, 0, 0);\r\n\t\tvar material: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\r\n\t\t//\u6F2B\u53CD\u5C04\u8D34\u56FE\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/texture/earth.png\").then((texture: Texture2D)=>{\r\n\t\t\tmaterial.albedoTexture = texture;\r\n\t\t});\r\n\t\tearth2.meshRenderer.material = material;\r\n\r\n\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\tearth1.transform.rotate(this.rotation, false);\r\n\t\t\tearth2.transform.rotate(this.rotation, false);\r\n\t\t});\r\n\r\n\t\t//\u53EF\u4FEE\u6539\u6750\u8D28\u7684\u53CD\u7167\u7387\u5F3A\u5EA6\u7B49\r\n\t\tthis.addSlider(300, 0.01, 4, 1, 0.01, (value: number)=> {\r\n\t\t\tmaterial.albedoIntensity = value;\r\n\t\t});\r\n\t}\r\n\r\n    addSlider(width: number, min: number, max: number, value: number, tick: number, changeFunc: Function) {\r\n        let slider: Laya.HSlider = <Laya.HSlider>this.owner.addChild(new Laya.HSlider(\"resources/res/ui/hslider.png\"));\r\n        slider.width = width;\r\n        slider.min = min;\r\n        slider.max = max;\r\n        slider.value = value;\r\n        slider.tick = tick;\r\n\t\tslider.anchorX = 0.5;\r\n\t\tslider.x = this.pageWidth / 2;\r\n\t\tslider.y = this.pageHeight - 50;\r\n        slider.changeHandler = Laya.Handler.create(this, changeFunc, [], false);\r\n\r\n\t\tlet text = new Laya.Label(\"\u53CD\u7167\u7387\u5F3A\u5EA6\");\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\ttext.color = \"#FFFFFF\";\r\n\t\ttext.fontSize = 16;\r\n\t\ttext.width = 100;\r\n\t\ttext.anchorX = 0.5;\r\n\t\ttext.align = \"center\"; \r\n\t\ttext.x = slider.width / 2;\r\n\t\ttext.y = 20;\r\n\t\tslider.addChild(text);\t\t\r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('j7ePid2vSH-gK8v7yHDQig')\r\nexport class BlinnPhong_NormalMap extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\tprivate normalMapUrl: any[] = [\"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizardeye_norm.png\", \r\n\t\"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_norm.png\", \r\n\t\"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/rock_norm.png\"];\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0.6, 1.1));\r\n\t\tthis.camera.transform.rotate(new Vector3(-30, 0, 0), true, false);\r\n\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(0.0, -0.8, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/staticModel/lizard/lizard.lh\").then((res)=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t});\r\n\t}\r\n\r\n\tonComplete(res:any): void {\r\n\r\n\t\tvar monster1: Sprite3D = (<Sprite3D>this.scene.addChild(res.create()));\r\n\t\tmonster1.transform.position = new Vector3(-0.6, 0, 0);\r\n\t\tmonster1.transform.localScale = new Vector3(0.075, 0.075, 0.075);\r\n\r\n\t\t\r\n\t\tvar monster2: Sprite3D = Sprite3D.instantiate(monster1, this.scene, false, new Vector3(0.6, 0, 0));\r\n\t\tmonster2.transform.localScale = new Vector3(0.075, 0.075, 0.075);\r\n\t\tfor (var i: number = 0; i < monster2.getChildByName(\"lizard\").numChildren; i++) {\r\n\t\t\tvar meshSprite3D: MeshSprite3D = (<MeshSprite3D>monster2.getChildByName(\"lizard\").getChildAt(i));\r\n\t\t\tvar material: BlinnPhongMaterial = (<BlinnPhongMaterial>meshSprite3D.getComponent(MeshRenderer).material);\r\n\t\t\t//\u6CD5\u7EBF\u8D34\u56FE\r\n\t\t\tLaya.loader.load(this.normalMapUrl[i]).then((texture: Texture2D)=> {\r\n\t\t\t\tmaterial.normalTexture = texture;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tLaya.timer.frameLoop(1, this, () => {\r\n\t\t\tmonster1.transform.rotate(this.rotation);\r\n\t\t\tmonster2.transform.rotate(this.rotation);\r\n\t\t});\r\n\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Texture2D = Laya.Texture2D;\r\nimport SkinnedMeshRenderer = Laya.SkinnedMeshRenderer;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('cLSl7KMJR56DIRWatvNCpg')\r\nexport class BlinnPhong_SpecularMap extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    private rotation:Laya.Vector3 = new Laya.Vector3(0, 0.01, 0);\r\n    private specularMapUrl:Array<string> = [\r\n        \"resources/res/threeDimen/skinModel/dude/Assets/dude/headS.png\", \r\n        \"resources/res/threeDimen/skinModel/dude/Assets/dude/jacketS.png\", \r\n        \"resources/res/threeDimen/skinModel/dude/Assets/dude/pantsS.png\", \r\n        \"resources/res/threeDimen/skinModel/dude/Assets/dude/upBodyS.png\",\r\n        \"resources/res/threeDimen/skinModel/dude/Assets/dude/upBodyS.png\"\r\n    ];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 3, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(0.0, -0.8, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/dude/dude.lh\").then((res)=> {\r\n\t\r\n\t\t\tvar dude1:Laya.Sprite3D = this.scene.addChild(res.create()) as Laya.Sprite3D;\r\n\t\t\tdude1.transform.position = new Laya.Vector3(-1.5, 0, 0);\r\n\t\t\t\r\n\t\t\tvar dude2:Laya.Sprite3D = Laya.Sprite3D.instantiate(dude1, this.scene, false, new Laya.Vector3(1.5, 0, 0));\r\n\t\t\tvar skinnedMeshSprite3d:Laya.SkinnedMeshSprite3D = dude2.getChildAt(0).getChildAt(0) as Laya.SkinnedMeshSprite3D;\r\n\t\t\t\r\n\t\t\t//\u9AD8\u5149\u8D34\u56FE\r\n\t\t\tfor (var i:number = 0; i < skinnedMeshSprite3d.getComponent(SkinnedMeshRenderer).materials.length; i++) {\r\n\t\t\t\tvar material:Laya.BlinnPhongMaterial = skinnedMeshSprite3d.getComponent(SkinnedMeshRenderer).materials[i] as Laya.BlinnPhongMaterial;\r\n\t\t\t\tLaya.loader.load(this.specularMapUrl[i]).then((texture: Texture2D)=> {\r\n\t\t\t\t\tmaterial.specularTexture = texture;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\t\tdude1.transform.rotate(this.rotation);\r\n\t\t\t\tdude2.transform.rotate(this.rotation);\r\n\t\t\t});\r\n\r\n\t\t\t//\u53EF\u4FEE\u6539\u6750\u8D28\u7684\u9AD8\u5149\u5F3A\u5EA6\u7B49\r\n\t\t\tthis.addSlider(300, 0.01, 1, 0.07, 0.01, (value: number)=> {\r\n\t\t\t\t\r\n\t\t\t\tfor (var i:number = 0; i < skinnedMeshSprite3d.getComponent(SkinnedMeshRenderer).materials.length; i++) {\r\n\t\t\t\t\tvar material:Laya.BlinnPhongMaterial = skinnedMeshSprite3d.getComponent(SkinnedMeshRenderer).materials[i] as Laya.BlinnPhongMaterial;\r\n\t\t\t\t\tmaterial.shininess = value;\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t});\t\t\t\r\n\t\t});\r\n\t}\r\n\r\n    addSlider(width: number, min: number, max: number, value: number, tick: number, changeFunc: Function) {\r\n        let slider: Laya.HSlider = <Laya.HSlider>this.owner.addChild(new Laya.HSlider(\"resources/res/ui/hslider.png\"));\r\n        slider.width = width;\r\n        slider.min = min;\r\n        slider.max = max;\r\n        slider.value = value;\r\n        slider.tick = tick;\r\n\t\tslider.anchorX = 0.5;\r\n\t\tslider.x = this.pageWidth / 2;\r\n\t\tslider.y = this.pageHeight - 50;\r\n        slider.changeHandler = Laya.Handler.create(this, changeFunc, [], false);\r\n\r\n\t\tlet text = new Laya.Label(\"\u9AD8\u5149\u4EAE\u5EA6\");\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\ttext.color = \"#FFFFFF\";\r\n\t\ttext.fontSize = 16;\r\n\t\ttext.width = 100;\r\n\t\ttext.anchorX = 0.5;\r\n\t\ttext.align = \"center\"; \r\n\t\ttext.x = slider.width / 2;\r\n\t\ttext.y = 20;\r\n\t\tslider.addChild(text);\t\t\r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Color = Laya.Color;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('3ncrak4QTFKTeGIbI-hW-g')\r\nexport class Blinnphong_Transmission extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate rabbitMaterial:BlinnPhongMaterial;\r\n\tprivate monkeyMaterial:BlinnPhongMaterial;\r\n\tprivate resource = [\r\n\t\t\"resources/res/threeDimen/LayaScene_TransmissionScene/Conventional/Assets/monkeyThinkness.png\",\r\n\t\t\"resources/res/threeDimen/LayaScene_TransmissionScene/Conventional/Assets/rabbitthickness.jpg\"\r\n\t];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(9.48667, -0.10189, 6.16654));\r\n\t\tthis.camera.transform.rotate(new Vector3(-4.645, -17.161, 0), true, false);\r\n\r\n\t\t//\u52A0\u8F7D\u573A\u666F\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/LayaScene_TransmissionScene/Conventional/TransmissionScene.ls\").then((res)=> {\r\n\t\t\tlet scene = (<Scene3D>this.scene.addChild(res.create()));\r\n\t\t\tthis.rabbitMaterial = scene.getChildByName(\"rabbit\").getComponent(MeshRenderer).sharedMaterial as Laya.BlinnPhongMaterial;\r\n\t\t\tthis.monkeyMaterial = scene.getChildByName(\"monkey\").getComponent(MeshRenderer).sharedMaterial as Laya.BlinnPhongMaterial;\r\n\t\t\tthis.loadThinkNessTexture();\r\n\t\t});\r\n\r\n\t}\r\n\tloadThinkNessTexture(){\r\n\r\n\t\tLaya.loader.load(this.resource).then( ()=>{\r\n\t\t\tthis.onPreLoadFinish();\r\n\t\t} );\r\n\t}\r\n\r\n\tonPreLoadFinish(){\r\n\r\n\t\tthis.monkeyMaterial.thinknessTexture = Loader.getRes(\"resources/res/threeDimen/LayaScene_TransmissionScene/Conventional/Assets/monkeyThinkness.png\");\r\n\t\tthis.rabbitMaterial.thinknessTexture = Loader.getRes(\"resources/res/threeDimen/LayaScene_TransmissionScene/Conventional/Assets/rabbitthickness.jpg\");\r\n\t\tthis.rabbitMaterial.enableTransmission = true;\r\n\t\tthis.rabbitMaterial.transmissionRata = 0.0;\r\n\t\tthis.rabbitMaterial.backDiffuse = 4.88;\r\n\t\tthis.rabbitMaterial.transmissionColor = new Color(1.0,1.0,1.0,1.0);\r\n\t\tthis.rabbitMaterial.backScale = 1.0;\r\n\r\n\t\tthis.monkeyMaterial.enableTransmission = true;\r\n\t\tthis.monkeyMaterial.transmissionRata = 0.0;\r\n\t\tthis.monkeyMaterial.backDiffuse = 1.0;\r\n\t\tthis.monkeyMaterial.transmissionColor = new Color(0.2,1.0,0.0,1.0);\r\n\t\tthis.monkeyMaterial.backScale = 1.0;\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport EffectMaterial = Laya.EffectMaterial;\r\nimport Color = Laya.Color;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('hwdurNGjRyyMJyvbpsyqMg')\r\nexport class EffectMaterialDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0, 2));\r\n\t\tthis.camera.transform.rotate(new Vector3(0, 0, 0), true, false);\r\n\t\tthis.camera.clearFlag = CameraClearFlags.Sky;\r\n\r\n\t\tvar earth: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere())));\r\n\t\tearth.transform.position = new Vector3(0, 0, 0);\r\n\t\t//\u521B\u5EFAEffectMaterial\u6750\u8D28\r\n\t\tvar material: EffectMaterial = new EffectMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/texture/earth.png\").then((texture: Texture2D)=>{\r\n\t\t\t//\u8BBE\u7F6E\u7EB9\u7406\r\n\t\t\tmaterial.texture = texture;\r\n\t\t\t//\u8BBE\u7F6E\u6750\u8D28\u989C\u8272\r\n\t\t\tmaterial.color = new Color(1, 1, 1, 1);\r\n\t\t});\r\n\t\t\r\n\t\tearth.meshRenderer.material = material;\r\n\r\n\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\tearth.transform.rotate(this.rotation, false);\r\n\t\t});\r\n\t\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('wYJ3hlv-RKKctnXXCE-Tsg')\r\nexport class MaterialDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private sphere: MeshSprite3D;\r\n\tprivate pbrStandardMaterial: PBRStandardMaterial;\r\n\tprivate pbrTexture: Texture2D;\r\n\tprivate billinMaterial: BlinnPhongMaterial;\r\n\tprivate index: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/texture/earth.png\").then(()=>{\r\n\t\t\tthis.onPreLoadFinish();\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonPreLoadFinish() {\r\n\t\t//\u83B7\u53D6\u7403\u578B\u7CBE\u7075\r\n\t\tthis.sphere = (<MeshSprite3D>this.scene.getChildByName(\"Sphere\"));\r\n\t\t//\u83B7\u53D6\u7403\u578B\u7CBE\u7075\u81EA\u5E26\u7684BlinnPhong\u6750\u8D28\r\n\t\tthis.billinMaterial = (<BlinnPhongMaterial>this.sphere.getComponent(MeshRenderer).material);\r\n\t\t//\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684PBRStandard\u6750\u8D28\r\n\t\tthis.pbrStandardMaterial = new PBRStandardMaterial();\r\n\t\t//\u83B7\u53D6\u65B0\u7684\u7EB9\u7406\r\n\t\tthis.pbrTexture = Loader.getTexture2D(\"resources/res/threeDimen/texture/earth.png\");\r\n\t\t//\u4E3APBRStandard\u6750\u8D28\u8BBE\u7F6E\u6F2B\u53CD\u5C04\u8D34\u56FE\r\n\t\tthis.pbrStandardMaterial.albedoTexture = this.pbrTexture;\r\n\r\n\t\tsuper.addBottomButton( [\"\u5207\u6362\u6750\u8D28\",\"\u5207\u6362\u6750\u8D28\"] , this, [this.change, this.change]);\r\n\t}\r\n\r\n\tchange(): void {\r\n\t\tthis.index++;\r\n\t\tif (this.index % 2 === 1) {\r\n\t\t\t//\u5207\u6362\u81F3PBRStandard\u6750\u8D28\r\n\t\t\tthis.sphere.getComponent(MeshRenderer).material = this.pbrStandardMaterial;\r\n\t\t} else {\r\n\t\t\t//\u5207\u6362\u81F3BlinnPhong\u6750\u8D28\r\n\t\t\tthis.sphere.getComponent(MeshRenderer).material = this.billinMaterial;\r\n\t\t}\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Mesh = Laya.Mesh;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\nimport Transform3D = Laya.Transform3D;\r\nimport Color = Laya.Color;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ifOA76YDQrG-pAp3iAQ13g')\r\nexport class PBRCoatMaterialDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\t\r\n    private static _tempPos: Vector3 = new Vector3();\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tvar sphereMesh: Mesh = PrimitiveMesh.createSphere(0.25, 32, 32);\r\n\t\tconst row: number = 6;\r\n\t\tthis.addSpheresSmoothnessMetallic(sphereMesh, new Vector3(0, 1.5, 0), this.scene, 2, 6, new Color(186 / 255, 110 / 255, 64 / 255, 1.0), 1.0);\r\n\t\tvar label = new Laya.Label();\r\n\t\t//label.text = \"\u7B2C\u4E00\u884C\u4E3A\u9ED8\u8BA4PBR, \u7B2C\u4E8C\u884C\u4E3A\u5E26\u6709Coat\u6548\u679CPBR,\u5149\u6ED1\u5EA6\u4E3A0, \u4ECE\u5DE6\u81F3\u53F3\u91D1\u5C5E\u5EA6\u4F9D\u6B21\u9012\u589E\";\r\n\t\t// label.fontSize = 30;\r\n\t\t// label.color = \"#DC143C\";\r\n\t\t// label.pos(Laya.stage.width / 2 - 550, Laya.stage.height - 50);\r\n\t\t// Laya.stage.addChild(label);\r\n\t}\r\n\r\n\t/**\r\n\t * Add one with smoothness and metallic sphere.\r\n\t */\r\n\taddPBRSphere(sphereMesh: Mesh, position: Vector3, scene: Scene3D, color: Color, smoothness: number, metallic: number, coat : number, coatR : number, state : boolean): PBRStandardMaterial {\r\n\t\tvar mat: PBRStandardMaterial = new PBRStandardMaterial();\r\n\t\tmat.albedoColor = color;\r\n\t\tmat.smoothness = smoothness;\r\n\t\tmat.metallic = metallic;\r\n\t\tmat.clearCoatEnable = state;\r\n\t\tif(state)\r\n\t\t{\r\n\t\t\tmat.clearCoat = coat;\r\n\t\t\tmat.clearCoatRoughness = coatR;\r\n\t\t}\r\n\t\tvar meshSprite: MeshSprite3D = new MeshSprite3D(sphereMesh);\r\n\t\tmeshSprite.meshRenderer.sharedMaterial = mat;\r\n\t\tvar transform: Transform3D = meshSprite.transform;\r\n\t\ttransform.localPosition = position;\r\n\t\tscene.addChild(meshSprite);\r\n\t\treturn mat;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Add some different smoothness and metallic sphere.\r\n\t */\r\n\taddSpheresSmoothnessMetallic(sphereMesh: Mesh, offset: Vector3, scene: Scene3D, row: number, col: number, color: Color): void {\r\n\t\tconst width: number = col * 0.5;\r\n\t\tconst height: number = row * 0.5;\r\n\t\tfor (var i: number = 0, n: number = col; i < n; i++) {//diffenent smoothness\r\n\t\t\tfor (var j: number = 0, m: number = row; j < m; j++) {//diffenent metallic\r\n\t\t\t\tvar smoothness: number = 0.0;\r\n\t\t\t\tvar metallic: number = 1.0;\r\n\t\t\t\tif(j == 1) \r\n\t\t\t\t{\r\n\t\t\t\t\tvar state = true;\r\n\t\t\t\t\tvar coat = i / (m - 1) * (1 / col);\r\n\t\t\t\t\tvar coatR = 0.0;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvar state = false;\r\n\t\t\t\t\tvar coat = 0.0;\r\n\t\t\t\t\tvar coatR = 0.0;\r\n\t\t\t\t} \r\n\r\n\t\t\t\tvar pos: Vector3 = PBRCoatMaterialDemo._tempPos;\r\n\t\t\t\tpos.setValue(-width / 2 + i * width / (n - 1), height / 2 - j * height / (m - 1), 3.0);\r\n\t\t\t\tVector3.add(offset, pos, pos);\r\n\t\t\t\tthis.addPBRSphere(sphereMesh, pos, scene, color, smoothness, metallic, coat, coatR, state);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Mesh = Laya.Mesh;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\nimport Transform3D = Laya.Transform3D;\r\nimport Color = Laya.Color;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('BdPVTg5IRn6ted0OnrldRg')\r\nexport class PBRMaterialDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\t\r\n    private static _tempPos: Vector3 = new Vector3();\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tvar sphereMesh: Mesh = PrimitiveMesh.createSphere(0.25, 32, 32);\r\n\t\tconst row: number = 6;\r\n\t\tthis.addSpheresSpecialMetallic(sphereMesh, new Vector3(0, 1.5, 0), this.scene, row, new Color(186 / 255, 110 / 255, 64 / 255, 1.0), 1.0);\r\n\t\tthis.addSpheresSmoothnessMetallic(sphereMesh, new Vector3(0, 0, 0), this.scene, 3, row, new Color(1.0, 1.0, 1.0, 1.0));\r\n\t\tthis.addSpheresSpecialMetallic(sphereMesh, new Vector3(0, -1.5, 0), this.scene, row, new Color(0.0, 0.0, 0.0, 1.0), 0.0);\r\n\t\r\n\t}\r\n\r\n\t/**\r\n\t * Add one with smoothness and metallic sphere.\r\n\t */\r\n\taddPBRSphere(sphereMesh: Mesh, position: Vector3, scene: Scene3D, color: Color, smoothness: number, metallic: number): PBRStandardMaterial {\r\n\t\tvar mat: PBRStandardMaterial = new PBRStandardMaterial();\r\n\t\tmat.albedoColor = color;\r\n\t\tmat.smoothness = smoothness;\r\n\t\tmat.metallic = metallic;\r\n\r\n\t\tvar meshSprite: MeshSprite3D = new MeshSprite3D(sphereMesh);\r\n\t\tmeshSprite.meshRenderer.sharedMaterial = mat;\r\n\t\tvar transform: Transform3D = meshSprite.transform;\r\n\t\ttransform.localPosition = position;\r\n\t\tscene.addChild(meshSprite);\r\n\t\treturn mat;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Add some different smoothness and metallic sphere.\r\n\t */\r\n\taddSpheresSmoothnessMetallic(sphereMesh: Mesh, offset: Vector3, scene: Scene3D, row: number, col: number, color: Color): void {\r\n\t\tconst width: number = col * 0.5;\r\n\t\tconst height: number = row * 0.5;\r\n\t\tfor (var i: number = 0, n: number = col; i < n; i++) {//diffenent smoothness\r\n\t\t\tfor (var j: number = 0, m: number = row; j < m; j++) {//diffenent metallic\r\n\t\t\t\tvar smoothness: number = i / (n - 1);\r\n\t\t\t\tvar metallic: number = 1.0 - j / (m - 1);\r\n\r\n\t\t\t\tvar pos: Vector3 = PBRMaterialDemo._tempPos;\r\n\t\t\t\tpos.setValue(-width / 2 + i * width / (n - 1), height / 2 - j * height / (m - 1), 3.0);\r\n\t\t\t\tVector3.add(offset, pos, pos);\r\n\r\n\t\t\t\tthis.addPBRSphere(sphereMesh, pos, scene, color, smoothness, metallic);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Add some different smoothness with special metallic sphere.\r\n\t */\r\n\taddSpheresSpecialMetallic(sphereMesh: Mesh, offset: Vector3, scene: Scene3D, col: number, color: Color, metallic: number = 0): void {\r\n\t\tconst width: number = col * 0.5;\r\n\t\tfor (var i: number = 0, n: number = col; i < n; i++) {//diffenent smoothness\r\n\t\t\tvar smoothness: number = i / (n - 1);\r\n\t\t\t// var metallic: number = metallic;\r\n\r\n\t\t\tvar pos: Vector3 = PBRMaterialDemo._tempPos;\r\n\t\t\tpos.setValue(-width / 2 + i * width / (n - 1), 0, 3.0);\r\n\t\t\tVector3.add(offset, pos, pos);\r\n\r\n\t\t\tthis.addPBRSphere(sphereMesh, pos, scene, color, smoothness, metallic);\r\n\t\t}\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Material = Laya.Material;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport Loader = Laya.Loader;\r\nimport Color = Laya.Color;\r\nimport UnlitMaterial = Laya.UnlitMaterial;\r\nimport Button = Laya.Button;\r\nimport RenderState = Laya.RenderState;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('QRBcW2_CS0yyzj7zuaNqsg')\r\nexport class StencilDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private sphere: MeshSprite3D;\r\n\tprivate stencilMat:Material;\r\n\tprivate index: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.depthTextureFormat = RenderTargetFormat.DEPTHSTENCIL_24_8;\r\n\r\n\t\t//\u9884\u52A0\u8F7D\u6240\u6709\u8D44\u6E90\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/texture/earth.png\"];\r\n\t\tLaya.loader.load(resource).then(()=>{\r\n\t\t\tthis.onPreLoadFinish();\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonPreLoadFinish() {\r\n        \r\n\t\t//\u83B7\u53D6\u7403\u578B\u7CBE\u7075\r\n\t\tthis.sphere = (<MeshSprite3D>this.scene.getChildByName(\"Sphere\"));\r\n        let sphereClone:MeshSprite3D = this.sphere.clone() as MeshSprite3D;\r\n        this.scene.addChild(sphereClone) \r\n        let matW = this.sphere.getComponent(MeshRenderer).sharedMaterial;\r\n\r\n        //\u6253\u5F00\u6750\u8D28\u6A21\u677F\u5199\u5165\r\n        matW.stencilRef = 2;\r\n        matW.stencilWrite = true;\r\n        matW.stencilTest = RenderState.STENCILTEST_ALWAYS;\r\n        matW.renderQueue = Material.RENDERQUEUE_OPAQUE;\r\n\r\n\t\tVector3.scale(sphereClone.transform.localScale,1.5,sphereClone.transform.localScale) ;\r\n        sphereClone.transform.localScale = sphereClone.transform.localScale;\r\n\r\n\t\t//\u5927\u7403\r\n        let mat:UnlitMaterial = new UnlitMaterial();\r\n        mat.albedoColor = new Color(0.8,0.5,0.1);\r\n\t\tmat.albedoTexture = Loader.getTexture2D(\"resources/res/threeDimen/texture/earth.png\");\r\n        sphereClone.getComponent(MeshRenderer).sharedMaterial = mat;\r\n        mat.stencilRef = 0;\r\n        mat.stencilWrite = false;\r\n        mat.stencilTest = RenderState.STENCILTEST_GEQUAL;\r\n        mat.renderQueue = Material.RENDERQUEUE_OPAQUE+1;\r\n        this.stencilMat = mat;\r\n        super.addBottomButton( [\"Stencil\u5173\u95ED\",\"Stencil\u5F00\u542F\"] , this, [this.setStencilTest, this.setStencilTest] );\r\n\t}\r\n\r\n\r\n\tsetStencilTest(): void {\r\n\t\tthis.index++;\r\n\t\tif (this.index % 2 === 1) {\r\n            this.stencilMat.stencilTest = RenderState.STENCILTEST_OFF;\r\n\t\t} else {\r\n            this.stencilMat.stencilTest = RenderState.STENCILTEST_GEQUAL;\r\n\t\t}\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Mesh = Laya.Mesh;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport UnlitMaterial = Laya.UnlitMaterial;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('fDJZQpDmRoqGbNr6NoJxng')\r\nexport class UnlitMaterialDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0, 2));\r\n\t\tthis.camera.transform.rotate(new Vector3(0, 0, 0), true, false);\r\n\t\tthis.camera.clearFlag = CameraClearFlags.Sky;\r\n\r\n\r\n\t\t//\u521B\u5EFA\u4E00\u4E2A\u516C\u7528\u7684sphereMesh\r\n\t\tvar sphereMesh: Mesh = PrimitiveMesh.createSphere();\r\n\t\tvar earth1: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(sphereMesh)));\r\n\t\tearth1.transform.position = new Vector3(-0.6, 0, 0);\r\n\t\tvar earth2: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(sphereMesh)));\r\n\t\tearth2.transform.position = new Vector3(0.6, 0, 0);\r\n\r\n\t\t//\u521B\u5EFABlinnPhong\u6750\u8D28\r\n\t\tvar material: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/texture/earth.png\").then((texture: Texture2D)=>{\r\n\t\t\t//\u8BBE\u7F6E\u53CD\u7167\u7387\u8D34\u56FE\r\n\t\t\tmaterial.albedoTexture = texture;\r\n\t\t});\r\n\t\tearth1.meshRenderer.material = material;\r\n\r\n\t\t//\u521B\u5EFAUnlit\u6750\u8D28\r\n\t\tvar material2: UnlitMaterial = new UnlitMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/texture/earth.png\").then((texture: Texture2D)=>{\r\n\t\t\t//\u8BBE\u7F6E\u53CD\u7167\u7387\u8D34\u56FE\r\n\t\t\tmaterial2.albedoTexture = texture;\r\n\t\t});\r\n\t\tearth2.meshRenderer.material = material2;\r\n\r\n\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\tearth1.transform.rotate(this.rotation, false);\r\n\t\t\tearth2.transform.rotate(this.rotation, false);\r\n\t\t});\r\n\t}\r\n \r\n}"],
  "mappings": "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",
  "names": ["Stat", "regClass", "property", "Index", "screenHeight", "screenWidth", "start2D3D", "jsonPath1", "res", "_file", "jsonPath2", "type", "_json", "index", "_contentSelectedIndexArr", "code", "url", "list", "d2d3", "data", "i", "titleList", "contentList", "titleListBg", "contentListBgHeight", "_totalTitleHeight", "show", "content", "len", "box", "clip_arrow", "clip_select", "select_bg", "title", "_index", "path", "scene", "item", "img", "name", "str", "fontSize", "width", "__decorateClass", "MainBase", "config", "regClass", "property", "Main", "MainBase", "resArr", "err", "progress", "url", "codeLayer", "span", "img", "pre", "textarea", "qrcodeLayer", "qrcodeSpan", "qrcodeImg", "qrcode", "qrcodeTable", "fade", "script1", "script2", "script", "index", "__decorateClass", "Vector3", "Quaternion", "InputManager", "Event", "CameraMoveScript", "elapsedTime", "scene", "offsetX", "offsetY", "yprElem", "distance", "Stat", "Button", "Event", "Vector3", "regClass", "property", "BaseScript", "Index", "camera", "moveCamera", "spec", "CameraMoveScript", "directionLight", "fieldOfView", "buttonNames", "caller", "func", "__decorateClass", "Animation", "Handler", "Tween", "regClass", "property", "BlendMode_Lighter", "BaseScript", "scaleFactor", "frames", "i", "animation", "clips", "num", "strLen", "color", "channels", "result", "r", "g", "b", "__decorateClass", "Sprite", "Event", "Browser", "Text", "Gyroscope", "regClass", "property", "InputDevice_Compasss", "BaseScript", "canvas", "absolute", "info", "__decorateClass", "Sprite", "Event", "Accelerator", "Point", "regClass", "property", "InputDevice_GluttonousSnake", "BaseScript", "i", "header", "acceleration", "accelerationIncludingGravity", "rotationRate", "interval", "seg", "Segment", "prevSeg", "point", "targetX", "targetY", "len", "dx", "dy", "radian", "pinPosition", "w", "h", "food", "foodSize", "__decorateClass", "width", "height", "tx", "ty", "Text", "Geolocation", "Handler", "Browser", "SpriteUtils", "regClass", "property", "InputDevice_Map", "BaseScript", "successHandler", "errorHandler", "style", "Index", "label", "p", "point", "data", "position", "__decorateClass", "Sprite", "Event", "Shake", "Text", "regClass", "property", "InputDevice_Shake", "BaseScript", "shakePic", "__decorateClass", "Animation", "Sprite", "Event", "Text", "regClass", "property", "Loader_ClearTextureRes", "BaseScript", "evt", "__decorateClass", "Loader", "regClass", "property", "Loader_MultipleType", "BaseScript", "assets", "robotData", "robotTexture", "__decorateClass", "Event", "Loader", "regClass", "property", "Loader_ProgressAndErrorHandle", "BaseScript", "urls", "progress", "err", "__decorateClass", "Handler", "regClass", "property", "Loader_Sequence", "BaseScript", "texture", "__decorateClass", "Loader", "regClass", "property", "Loader_SingleType", "BaseScript", "texture", "pic1", "pic2", "pic3", "__decorateClass", "Sprite", "SpriteUtils", "Render", "Browser", "Text", "regClass", "property", "DOM_Form", "BaseScript", "rowHeightDelta", "dom", "all", "Index", "label", "x", "y", "t", "input", "__decorateClass", "Sprite", "SpriteUtils", "Render", "Browser", "regClass", "property", "DOM_Video", "BaseScript", "videoElement", "reference", "Index", "__decorateClass", "Event", "Text", "HttpRequest", "regClass", "property", "Network_GET", "BaseScript", "__decorateClass", "Event", "Text", "HttpRequest", "regClass", "property", "Network_POST", "BaseScript", "__decorateClass", "regClass", "property", "Network_ProtocolBuffer", "BaseScript", "resPath", "err", "root", "AwesomeMessage", "payload", "errMsg", "message", "buffer", "__decorateClass", "Byte", "Event", "Socket", "regClass", "property", "NetWork_Socket", "BaseScript", "message", "i", "__decorateClass", "XML", "regClass", "property", "Network_XML", "BaseScript", "xmlValueContainsError", "xmlValue", "source", "xml", "e", "nodes", "i", "node", "__decorateClass", "Sprite", "BlurFilter", "regClass", "property", "Filters_Blur", "BaseScript", "_e", "ape", "blurFilter", "__decorateClass", "Sprite", "ColorFilter", "regClass", "property", "Filters_Color", "BaseScript", "originalApe", "redMat", "redFilter", "redApe", "grayscaleMat", "grayscaleFilter", "grayApe", "ape", "__decorateClass", "Sprite", "GlowFilter", "regClass", "property", "Filters_Glow", "BaseScript", "tex", "texture", "glowFilter", "__decorateClass", "Sprite", "Loader", "regClass", "property", "PerformanceTest_Cartoon", "BaseScript", "i", "tx", "tr", "startY", "skin", "pivotX", "pivotY", "rotation", "charactor", "__decorateClass", "Animation", "Sprite", "Stat", "Text", "Image", "regClass", "property", "PerformanceTest_Cartoon2", "BaseScript", "char", "charSkin", "i", "Character", "__decorateClass", "_Character", "images", "pageWidth", "value", "Sprite", "Rectangle", "regClass", "property", "PerformanceTest_Maggots", "BaseScript", "maggotContainer", "i", "maggot", "container", "Maggot", "rndScale", "wb", "angleUnit", "dir", "x", "y", "__decorateClass", "Event", "regClass", "property", "PerformanceTest_Skeleton", "BaseScript", "templet", "i", "j", "tAnimNum", "n", "__decorateClass", "BoxCollider", "Sprite", "Event", "RigidBody", "ChainCollider", "PolygonCollider", "Physics", "CircleCollider", "RevoluteJoint", "Label", "regClass", "property", "Physics_Bridge", "BaseScript", "ground", "groundBody", "chainCollider", "point1", "pointRB1", "preBody", "width", "height", "i", "sp", "rb", "bc", "rj", "point2", "pointRB2", "pc", "e", "targetX", "targetY", "newBall", "circleBody", "circleCollider", "circlePosx", "circlePosy", "velocityX", "velocityY", "label", "__decorateClass", "Sprite", "Event", "RigidBody", "ChainCollider", "MouseJoint", "Physics", "CircleCollider", "regClass", "property", "Physics_CollisionEvent", "BaseScript", "ground", "groundBody", "chainCollider", "sensorCollider", "i", "len", "sp", "rb", "body", "circleCollider", "colliderB", "colliderA", "contact", "bodyB", "index", "box2d", "bodys", "body1", "bodyA", "bodyOriA", "position", "center", "d", "F", "__decorateClass", "BoxCollider", "Sprite", "Event", "RigidBody", "ChainCollider", "MouseJoint", "PolygonCollider", "CircleCollider", "regClass", "property", "Physics_CollisionFiltering", "BaseScript", "i", "house", "rigidbody", "chainCollider", "posx", "posy", "width", "height", "ratio", "box", "boxCollider", "side", "triangle", "polygonCollider", "radius", "circle", "circleCollider", "mouseJoint", "movementX", "movementY", "__decorateClass", "BoxCollider", "Sprite", "Event", "RigidBody", "ChainCollider", "RevoluteJoint", "Physics", "CircleCollider", "PolygonCollider", "DistanceJoint", "Label", "regClass", "property", "Physics_Strandbeests", "BaseScript", "ground", "rigidbody", "chainCollider", "i", "small", "sBody", "sCollider", "chassis", "chassisBody", "chassisCollider", "wheel", "wheelBody", "wheelCollider", "motorJoint", "wheelOriBody", "wheelAnchor", "s", "box2d", "p1", "p2", "p3", "p4", "p5", "p6", "leg1", "legBody1", "legCollider1", "leg2", "legBody2", "legCollider2", "B2Math", "dampingRatio", "frequencyHz", "distanceJoint1", "distanceJoint2", "localAnchor", "anchor", "distanceJoint3", "distanceJoint4", "revoluteJoint", "e", "chassisPos", "newBall", "circleBody", "circleCollider", "circlePosx", "circlePosy", "velocityX", "velocityY", "label", "__decorateClass", "a", "b", "BoxCollider", "Sprite", "Event", "RigidBody", "RevoluteJoint", "Label", "regClass", "property", "Physics_Tumbler", "BaseScript", "posx", "posy", "box", "boxBody", "box1Shape", "box2Shape", "box3Shape", "box4Shape", "revoluteJoint", "sp", "collider", "label", "__decorateClass", "Animation", "Loader", "regClass", "property", "Animation_Altas", "BaseScript", "_e", "ani", "bounds", "__decorateClass", "MovieClip", "regClass", "property", "Animation_SWF", "BaseScript", "mc", "__decorateClass", "Sprite", "Event", "Text", "regClass", "property", "PIXI_Example_1", "BaseScript", "i", "tempBall", "__decorateClass", "Sprite", "Event", "regClass", "property", "PIXI_Example_2", "BaseScript", "i", "tempBall", "t", "xd", "x3d", "y3d", "z3d", "tx", "ty", "tz", "ox", "__decorateClass", "Sprite", "regClass", "property", "PIXI_Example_3", "BaseScript", "graphicsCanvas", "liveGraphicsCanvas", "__decorateClass", "Sprite", "Point", "regClass", "property", "PIXI_Example_4", "BaseScript", "laser", "Laser", "pos1", "pos2", "distX", "distY", "dist", "i", "__decorateClass", "Sprite", "Event", "Handler", "SoundManager", "regClass", "property", "Sound_SimpleDemo", "BaseScript", "gap", "soundButton", "musicButton", "label", "w", "h", "button", "e", "__decorateClass", "Handler", "Rectangle", "TiledMap", "regClass", "property", "TiledMap_AnimationTile", "BaseScript", "map", "__decorateClass", "Sprite", "Rectangle", "Point", "Handler", "TiledMap", "regClass", "property", "TiledMap_IsometricWorld", "BaseScript", "Index", "p", "radiusX", "radiusY", "color", "map", "__decorateClass", "Rectangle", "Handler", "TiledMap", "regClass", "property", "TiledMap_PerspectiveWall", "BaseScript", "__decorateClass", "Event", "Rectangle", "Handler", "TiledMap", "regClass", "property", "TiledMap_SimpleDemo", "BaseScript", "__decorateClass", "Event", "regClass", "property", "Skeleton_ChangeSkin", "BaseScript", "templet", "__decorateClass", "Event", "regClass", "property", "Skeleton_MultiTexture", "BaseScript", "templet", "__decorateClass", "Event", "Loader", "SpineSkeleton", "regClass", "property", "Skeleton_SpineAdapted", "BaseScript", "templet", "__decorateClass", "Sprite", "Event", "Handler", "Tween", "regClass", "property", "Skeleton_SpineEvent", "BaseScript", "templet", "tEventData", "__decorateClass", "Event", "regClass", "property", "Skeleton_SpineStretchyman", "BaseScript", "templet", "__decorateClass", "regClass", "property", "Event", "Skeleton_SpineVine", "BaseScript", "templet", "__decorateClass", "regClass", "property", "Sprite", "Byte", "Texture", "Texture2D", "TextureFormat", "Sprite_BinaryImage", "BaseScript", "res", "arraybuffer", "byte", "reader", "e", "url", "t2d", "texture", "option", "__decorateClass", "Sprite", "Text", "regClass", "property", "Sprite_Cache", "BaseScript", "textBox", "text", "i", "__decorateClass", "Sprite", "regClass", "property", "Sprite_Container", "BaseScript", "layoutRadius", "radianUnit", "i", "ape", "__decorateClass", "regClass", "property", "Sprite_DisplayImage", "BaseScript", "monkey1Path", "monkey2Path", "ape", "monkey2", "ape2", "__decorateClass", "Sprite", "regClass", "property", "Sprite_DrawPath", "BaseScript", "canvas", "path", "__decorateClass", "Sprite", "regClass", "property", "Sprite_DrawShapes", "BaseScript", "__decorateClass", "Sprite", "regClass", "property", "Sprite_Guide", "BaseScript", "Index", "step", "__decorateClass", "Sprite", "regClass", "property", "Sprite_MagnifyingGlass", "BaseScript", "bg", "__decorateClass", "regClass", "property", "Sprite_NodeControl", "BaseScript", "Sprite", "monkey2Path", "__decorateClass", "regClass", "property", "Sprite_Pivot", "BaseScript", "Sprite", "monkey2Path", "gap", "__decorateClass", "Sprite", "regClass", "property", "Sprite_RoateAndScale", "BaseScript", "scaleValue", "__decorateClass", "Sprite", "Image", "Texture", "Button", "Event", "RenderTexture2D", "RenderTargetFormat", "Browser", "regClass", "property", "Sprite_ScreenShot", "BaseScript", "skin", "name", "cb", "index", "btn", "base64Url", "ddrt", "text", "__decorateClass", "regClass", "property", "Sprite_SwitchTexture", "BaseScript", "monkey", "__decorateClass", "Text", "regClass", "property", "Timer_CallLater", "BaseScript", "i", "e", "text", "__decorateClass", "Sprite", "Event", "regClass", "property", "Timer_DelayExcute", "BaseScript", "vGap", "label", "w", "h", "button", "__decorateClass", "Text", "regClass", "property", "Timer_Interval", "BaseScript", "vGap", "text", "x", "y", "t", "__decorateClass", "GlassShader_default", "GlassShader_default", "GlassWithoutGrabMaterial", "_GlassWithoutGrabMaterial", "attributeMap", "uniformMap", "shader", "subShader", "GlassShader_default", "texture", "Blur_default", "BlurHorizontal_default", "BlurVertical_default", "BlurDownSample_default", "BlurDownSample_default", "EdgeAdd_default", "EdgeSub_default", "_BlurEffect", "attributeMap", "uniformMap", "shader", "subShader", "shaderpass", "BlurDownSample_default", "renderState", "Blur_default", "BlurVertical_default", "BlurHorizontal_default", "EdgeSub_default", "EdgeAdd_default", "value", "context", "cmd", "viewport", "scaleFactor", "tw", "th", "downSampleTexture", "lastDownTexture", "i", "blurTexture", "maxTexture", "BlurEffect", "BlurMaterial", "_BlurMaterial", "texelSize", "offset", "sourceTexture0", "sourceTexture1", "Vector4", "regClass", "property", "BlurGlass", "BaseScript", "BlurEffect", "GlassWithoutGrabMaterial", "scene", "camera", "glass01", "glass02", "pbrStandard", "glassMaterial", "buf", "viewPort", "renderTexture", "shader", "shaderValue", "downSampleFactor", "downSampleWidth", "downSampleheigh", "texSize", "downRenderTexture", "blurTexture", "globalUniformNameID", "__decorateClass", "DepthTextureTest_default", "DepthTextureTest_default", "DepthMaterial", "shader", "subShader", "DepthTextureTest_default", "DepthNormalsTextureTest_default", "DepthNormalsTextureTest_default", "DepthNormalsMaterial", "shader", "subShader", "DepthNormalsTextureTest_default", "Vector3", "regClass", "property", "CameraDepthModeTextureDemo", "BaseScript", "DepthMaterial", "DepthNormalsMaterial", "camera", "__decorateClass", "Event", "regClass", "property", "CameraInteraction", "BaseScript", "res", "scene3D", "CameraMoveQuaternion", "CameraMoveEuler", "CameraMoveMatrix", "KeyBoard", "q", "w", "e", "a", "s", "JoyStick", "bg", "axis", "text", "__decorateClass", "distanceSqr", "x", "y", "centerX", "centerY", "mouseX", "mouseY", "dx", "dy", "distance", "elapsedTime", "offsetX", "offsetY", "speedX", "speedZ", "yprElem", "moveMatrix", "customInstance_default", "customInstance_default", "CustomInstanceMaterial", "attributeMap", "uniformMap", "shader", "subShader", "customInstance_default", "Vector3", "Quaternion", "Vector4", "regClass", "property", "CommandBuffer_DrawCustomInstance", "BaseScript", "CustomInstanceMaterial", "scene", "camera", "mat", "buf", "i", "j", "ind", "sourceColor", "sourceMatrix", "destColor", "destMatrix", "lerp", "lep", "invert", "sourcemat", "destmat", "__decorateClass", "Vector4", "regClass", "property", "CommandBuffer_Outline", "BaseScript", "scene", "camera", "BlurEffect", "unlitMaterial", "shurikenMaterial", "renders", "materials", "buf", "viewPort", "renderTexture", "i", "n", "subRendertexture", "downSampleFactor", "downSampleWidth", "downSampleheigh", "texSize", "blurMaterial", "BlurMaterial", "downRenderTexture", "blurTexture", "__decorateClass", "GrassCellInfo", "maxGrassNums", "cellSize", "privotPos", "array", "orix", "oriy", "oriz", "size", "i", "n", "x", "z", "level", "drawArray", "offset", "setLength", "GrassShaderVS_default", "GrassShaderFS_default", "_GrassMaterial", "attributeMap", "uniformMap", "shader", "subShader", "pass", "GrassShaderVS_default", "GrassShaderFS_default", "res", "windIntensity", "windFrequency", "windTiling", "windWrap", "value", "GrassMaterial", "GlassRender", "manager", "camera", "vertexArray", "indexArray", "vertexDeclaration", "mesh", "mat", "GrassMaterial", "GrassRenderManager", "camera", "index", "GlassRender", "value", "j", "distance", "levelDistance", "boundFrustum", "cameraPos", "i", "grasscell", "grassDistance", "leval", "grassPrivot", "grassCell", "GrassCellInfo", "lastIndex", "caemra", "offset", "n", "drawnums", "array", "Vector3", "regClass", "property", "GrassDemo", "BaseScript", "GrassRenderManager", "grasssize", "x", "z", "camera", "mat", "__decorateClass", "Vector3", "SpriteUtils", "regClass", "property", "Laya3DCombineHtml", "BaseScript", "Index", "res", "__decorateClass", "regClass", "property", "ReflectionProbe", "BaseScript", "__decorateClass", "Camera", "Sprite3D", "Vector3", "InputManager", "Image", "Handler", "Color", "Sprite", "RenderTexture", "RenderTargetFormat", "Texture", "Keyboard", "Label", "regClass", "property", "Scene2DPlayer3D", "BaseScript", "sceneBackGround", "_label", "lh", "sp", "layer", "isRole", "sp3", "_camera", "r", "__decorateClass", "regClass", "property", "Secne3DPlayer2D", "BaseScript", "res", "grid", "x", "y", "Index", "__decorateClass", "SeparableSSS_GasBlur_default", "SeparableSSS_GasBlur_default", "Material", "ShaderDataType", "Vector3", "Shader3D", "RenderState", "SubShader", "VertexMesh", "Vector4", "MathUtils3D", "SeparableSSS_BlitMaterial", "_SeparableSSS_BlitMaterial", "attributeMap", "uniformMap", "shader", "subShader", "shaderpass", "SeparableSSS_GasBlur_default", "renderState", "value", "shaderval", "i", "n", "ind", "distanceToProject", "nSamples", "strength", "falloff", "range", "exponent", "Kernel", "step", "o", "sign", "w0", "w1", "area", "t", "sum", "r", "falloffArray", "v1", "v2", "v3", "v4", "v5", "variance", "g", "gg", "rr", "SeparableSSS_Render_default", "SeparableSSS_Render_default", "Material", "ShaderDataType", "Shader3D", "RenderState", "SubShader", "VertexMesh", "Vector4", "SeparableSSSRenderMaterial", "_SeparableSSSRenderMaterial", "shader", "attributeMap", "uniformMap", "subShader", "SeparableSSS_Render_default", "CameraEventFlags", "Shader3D", "BlinnPhongMaterial", "Vector4", "MeshRenderer", "MeshFilter", "CommandBuffer", "RenderTexture", "RenderTargetFormat", "Vector2", "FilterMode", "Color", "DepthTextureMode", "regClass", "property", "SeparableSSS_RenderDemo", "BaseScript", "SeparableSSS_BlitMaterial", "SeparableSSSRenderMaterial", "res", "buf", "camera", "character", "oriColor", "oriSpec", "viewPort", "depthTexture", "diffuseRenderTexture", "specRrenderTexture", "blurRenderTexture", "__decorateClass", "Vector3", "regClass", "property", "showFont", "BaseScript", "scene", "camera", "cxt", "rotate", "__decorateClass", "Sprite3D", "Loader", "regClass", "property", "UI3D", "BaseScript", "Resource", "res", "dude", "sprite3D", "ui3dComponent", "sprite3DUI", "ui3dComponent_ui", "__decorateClass", "UIScript", "tab", "index", "VideoTexture", "UnlitMaterial", "Camera", "MeshRenderer", "RenderTexture", "Script", "RenderTargetFormat", "Matrix4x4", "Vector3", "Color", "Vector4", "regClass", "property", "VideoPlayIn3DWorld", "BaseScript", "mirrorFloor", "ChinarMirrorPlane", "url", "mat", "__decorateClass", "_ChinarMirrorPlane", "value", "material", "value1", "Text", "regClass", "property", "Text_AutoSize", "BaseScript", "autoSizeText", "widthLimitText", "heightLimitText", "text", "__decorateClass", "Text", "regClass", "property", "Text_BitmapFont", "BaseScript", "res", "bitmapFont", "font", "txt", "__decorateClass", "Text", "regClass", "property", "Text_ComplexStyle", "BaseScript", "txt", "__decorateClass", "Input", "regClass", "property", "Text_Editable", "BaseScript", "inputText", "__decorateClass", "regClass", "property", "Text_HTML", "BaseScript", "t", "__decorateClass", "Input", "regClass", "property", "Text_InputMultiline", "BaseScript", "inputText", "__decorateClass", "Input", "regClass", "property", "Text_InputSingleline", "BaseScript", "inputText", "__decorateClass", "Input", "regClass", "property", "Text_MaxChars", "BaseScript", "inputText", "__decorateClass", "Text", "regClass", "property", "Text_Overflow", "BaseScript", "t1", "t2", "t3", "txt", "__decorateClass", "Text", "Input", "regClass", "property", "Text_Restrict", "BaseScript", "input", "text", "label", "__decorateClass", "Event", "Text", "regClass", "property", "Text_Scroll", "BaseScript", "nowX", "nowY", "__decorateClass", "regClass", "property", "Text_UBB", "BaseScript", "t", "__decorateClass", "Text", "regClass", "property", "Text_Underline", "BaseScript", "align", "underlineWidth", "underlineColor", "x", "y", "txt", "__decorateClass", "Text", "regClass", "property", "Text_WordWrap", "BaseScript", "txt", "__decorateClass", "Sprite", "Event", "Tween", "Ease", "regClass", "property", "Interaction_CustomEvent", "BaseScript", "randomAngle", "newAngle", "__decorateClass", "Sprite", "Event", "Rectangle", "regClass", "property", "Interaction_Drag", "BaseScript", "_e", "texture", "dragWidthLimit", "dragHeightLimit", "__decorateClass", "Sprite", "Event", "Text", "regClass", "property", "Interaction_FixInteractiveRegion", "BaseScript", "coralRect", "deepSkyblueRect", "darkOrchidRect", "__decorateClass", "Sprite", "Event", "Ease", "Tween", "regClass", "property", "Interaction_Hold", "BaseScript", "_e", "texture", "__decorateClass", "Event", "Text", "regClass", "property", "Interaction_Keyboard", "BaseScript", "numKeyDown", "newText", "__decorateClass", "Sprite", "Event", "Text", "regClass", "property", "Interaction_Mouse", "BaseScript", "rect", "value", "__decorateClass", "Sprite", "Event", "regClass", "property", "Interaction_Rotate", "BaseScript", "w", "h", "touches", "nowRadian", "__decorateClass", "Sprite", "Event", "regClass", "property", "Interaction_Scale", "BaseScript", "w", "h", "touches", "distance", "factor", "dx", "dy", "__decorateClass", "Sprite", "Event", "Tween", "regClass", "property", "Interaction_Swipe", "BaseScript", "graph", "dist", "targetX", "__decorateClass", "Sprite3D", "MeshSprite3D", "Vector3", "Event", "Text", "Quaternion", "HitResult", "Vector2", "Ray", "MeshFilter", "MeshColliderShape", "PhysicsCollider", "Loader", "regClass", "property", "MouseInteraction", "BaseScript", "grid", "staticLayaMonkey", "layaMonkey_clone1", "layaMonkey_clone2", "layaMonkey_clone3", "scale", "meshCollider", "meshShape", "meshCollider1", "meshShape1", "meshCollider2", "meshShape2", "meshCollider3", "meshShape3", "SceneScript", "Index", "point1", "__decorateClass", "collision", "Vector3", "Text", "Vector2", "Label", "regClass", "property", "MultiTouch", "BaseScript", "res", "monkey", "MonkeyScript", "__decorateClass", "touchCount", "touch", "deltaY", "deltaX", "touch2", "distance2", "Sprite3D", "Vector3", "Animator", "AnimatorState", "Text", "Button", "Event", "regClass", "property", "AnimatorDemo", "BaseScript", "mat", "res", "role", "pangzi", "state1", "CustomAnimatorStateScript", "state2", "state3", "state4", "state5", "state6", "label", "curStateIndex", "curNormalizedTime", "__decorateClass", "normalizeTime", "Sprite3D", "Vector3", "Animator", "AnimatorState", "Text", "AnimatorStateScript", "regClass", "property", "AnimatorStateScriptDemo", "BaseScript", "mat", "res", "role", "pangzi", "state1", "asst1", "AnimatorStateScriptTest", "state2", "asst2", "state3", "asst3", "__decorateClass", "value", "normalizeTime", "Animator", "AnimatorState", "regClass", "property", "CameraAnimation", "BaseScript", "res", "clip", "state1", "__decorateClass", "Animator", "regClass", "property", "MaterialAnimation", "BaseScript", "cube", "__decorateClass", "Animator", "AnimatorState", "regClass", "property", "RigidbodyAnimationDemo", "BaseScript", "cube", "res", "clip", "state1", "__decorateClass", "Vector3", "Animator", "Loader", "regClass", "property", "SimpleSkinAnimationInstance", "BaseScript", "res", "pos", "quaterial", "aniNameIndex", "clonesprite", "animate", "nums", "left", "right", "j", "xchange", "zchange", "__decorateClass", "Scene3D", "Text", "Handler", "Event", "regClass", "property", "SkeletonMask", "BaseScript", "scene", "res", "bitmapFont", "font", "txt", "__decorateClass", "Vector3", "Quaternion", "regClass", "property", "DirectionLightDemo", "BaseScript", "mat", "resource", "res", "__decorateClass", "Vector3", "SpotLight", "PointLight", "regClass", "property", "MultiLight", "BaseScript", "moveScript", "LightMoveScript", "moverLights", "offsets", "moveRanges", "i", "pointLight", "spotLight", "__decorateClass", "seed", "n", "transform", "pos", "off", "ran", "Vector3", "Quaternion", "PointLight", "Color", "regClass", "property", "PointLightDemo", "BaseScript", "pointLight", "resource", "res", "__decorateClass", "MeshSprite3D", "Vector3", "PBRStandardMaterial", "PrimitiveMesh", "ShadowCascadesMode", "ShadowMode", "Loader", "regClass", "property", "RealTimeShadow", "BaseScript", "RotationScript", "grid", "layaMonkey", "sphereSprite", "sphereMesh", "position", "scene", "mat", "meshSprite", "transform", "__decorateClass", "Vector3", "Color", "regClass", "property", "SpotLightDemo", "BaseScript", "spotLight", "mat", "resource", "res", "__decorateClass", "MeshRenderer", "ShadowMode", "SpotLight", "regClass", "property", "SpotLightShadowMap", "BaseScript", "spotLight", "scene3d", "childLength", "i", "childSprite", "__decorateClass", "Label", "Sprite", "Event", "Input", "List", "Handler", "Tween", "Box", "Text", "regClass", "property", "Tween_EaseFunctionsDemo", "BaseScript", "easeFunctionsList", "ListItemRender", "data", "item", "e", "list", "durationInput", "label", "prompt", "x", "y", "text", "input", "__decorateClass", "value", "Ease", "Tween", "Text", "regClass", "property", "Tween_Letters", "BaseScript", "w", "offset", "endY", "demoString", "len", "letterText", "char", "letter", "__decorateClass", "Sprite", "Tween", "regClass", "property", "Tween_SimpleSample", "BaseScript", "terminalX", "characterA", "characterB", "skin", "character", "__decorateClass", "Sprite", "Event", "TimeLine", "Keyboard", "regClass", "property", "Tween_TimeLine", "BaseScript", "label", "__decorateClass", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "PrimitiveMesh", "CameraClearFlags", "SkyBox", "Loader", "regClass", "property", "CameraDemo", "BaseScript", "resource", "res", "box", "materialBill", "skyboxMaterial", "skyRenderer", "__decorateClass", "Sprite3D", "MeshSprite3D", "Vector3", "Quaternion", "regClass", "property", "CameraLayer", "BaseScript", "resource", "res", "grid", "staticLayaMonkey", "layaMonkey_clone1", "layaMonkey_clone2", "layaMonkey_clone3", "__decorateClass", "Sprite3D", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "PrimitiveMesh", "CameraClearFlags", "Loader", "regClass", "property", "CameraLookAt", "BaseScript", "sprite", "materialBill", "tex", "index", "__decorateClass", "Sprite3D", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "PrimitiveMesh", "regClass", "property", "CameraMSAADemo", "BaseScript", "mat", "Index", "scene", "sprite", "planeMesh", "plane", "cubeMesh", "sphere", "cube0", "cube1", "cube2", "cube3", "sphere0", "sphere1", "sphere2", "sphere3", "__decorateClass", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "Event", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "Vector2", "Ray", "regClass", "property", "CameraRay", "BaseScript", "plane", "planeMat", "tex", "planeStaticCollider", "planeShape", "x", "y", "z", "sX", "sY", "sZ", "box", "rigidBody", "boxShape", "Index", "i", "__decorateClass", "regClass", "property", "D3SpaceToD2Space", "BaseScript", "res", "x", "y", "Index", "__decorateClass", "Camera", "Vector3", "CameraClearFlags", "SkyBox", "Color", "Viewport", "regClass", "property", "MultiCamera", "BaseScript", "camera2", "Index", "mat", "skyRenderer", "res", "__decorateClass", "Vector3", "CameraClearFlags", "regClass", "property", "Orthographicthiscamera", "BaseScript", "res", "layaMonkey", "__decorateClass", "Vector3", "Text", "RenderTargetFormat", "RenderTexture", "Ray", "regClass", "property", "PickPixel", "BaseScript", "res", "stageWidth", "stageHeight", "Index", "posX", "posY", "out", "__decorateClass", "Sprite3D", "Vector3", "regClass", "property", "MeshLoad", "BaseScript", "res", "ani", "skins", "hs", "label", "hs1", "label1", "value", "skin", "skinRender", "__decorateClass", "Vector3", "PrimitiveMesh", "MeshFilter", "regClass", "property", "ChangeMesh", "BaseScript", "__decorateClass", "Sprite3D", "MeshSprite3D", "Vector3", "PrimitiveMesh", "Color", "PixelLineSprite3D", "regClass", "property", "CustomMesh", "BaseScript", "box", "boxLineSprite3D", "Tool", "sphere", "sphereLineSprite3D", "cylinder", "cylinderLineSprite3D", "capsule", "capsuleLineSprite3D", "cone", "coneLineSprite3D", "plane", "planeLineSprite3D", "__decorateClass", "_Tool", "sprite3D", "lineSprite3D", "color", "meshSprite3D", "mesh", "positions", "indices", "i", "vertex0", "vertex1", "vertex2", "n", "sprite", "rotate", "start", "end", "length", "cylPos", "x", "y", "z", "Sprite3D", "MeshSprite3D", "Vector3", "Quaternion", "PrimitiveMesh", "Color", "PixelLineSprite3D", "regClass", "property", "MeshLoad", "BaseScript", "mesh", "layaMonkey", "layaMonkeyLineSprite3D", "Tool", "plane", "planeLineSprite3D", "__decorateClass", "_Tool", "sprite3D", "lineSprite3D", "color", "meshSprite3D", "positions", "indices", "i", "vertex0", "vertex1", "vertex2", "n", "sprite", "rotate", "start", "end", "length", "cylinder", "cylPos", "x", "y", "z", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "CapsuleColliderShape", "CylinderColliderShape", "Rigidbody3D", "ConeColliderShape", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "regClass", "property", "PhysicsWorld_BaseCollider", "BaseScript", "mat", "resource", "res", "plane", "planeMat", "planeStaticCollider", "planeShape", "random", "sX", "sY", "sZ", "box", "transform", "pos", "rotationEuler", "rigidBody", "boxShape", "radius", "sphere", "sphereShape", "raidius", "height", "capsule", "cone", "coneShape", "cylinder", "cylinderShape", "__decorateClass", "Event", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "HitResult", "Vector2", "Rigidbody3D", "Ray", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "regClass", "property", "PhysicsWorld_BuildingBlocks", "BaseScript", "resource", "res", "mat", "plane", "planeMat", "rigidBody", "boxShape", "i", "x", "y", "z", "box", "Index", "collider", "__decorateClass", "Vector3", "regClass", "property", "PhysicsWorld_Character", "BaseScript", "mat", "resource", "res", "plane", "planeMat", "rigidBody", "boxShape", "i", "monkey", "character", "sphereShape", "sX", "sY", "sZ", "box", "raidius", "height", "capsule", "__decorateClass", "Color", "InputManager", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "CapsuleColliderShape", "CylinderColliderShape", "Rigidbody3D", "ConeColliderShape", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "Physics3DUtils", "regClass", "property", "PhysicsWorld_CollisionFiflter", "BaseScript", "mat", "planeMat", "tex", "staticCollider", "boxShape", "i", "mat2", "radius", "sphere", "pos", "rigidBody", "sphereShape", "sX", "sY", "sZ", "box", "res", "transform", "rotationEuler", "raidius", "height", "capsule", "cone", "coneShape", "cylinder", "cylinderShape", "__decorateClass", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "CompoundColliderShape", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "regClass", "property", "PhysicsWorld_CompoundCollider", "BaseScript", "mat", "plane", "planeMat", "tex", "staticCollider", "planeShape", "random", "res", "table", "transform", "pos", "rotationEuler", "scale", "rigidBody", "compoundShape", "boxShape", "localOffset", "boxShape1", "boxShape2", "localOffset2", "boxShape3", "localOffset3", "boxShape4", "localOffset4", "object", "boxLocalOffset", "sphereShape", "sphereLocalOffset", "__decorateClass", "Color", "ConfigurableConstraint", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "regClass", "property", "PhysicsWorld_ConfigurableJoint", "BaseScript", "mat", "plane", "planeMat", "tex", "tilingOffset", "boxA", "boxARigid", "boxB", "boxBRigid", "configurableJoint", "pos", "scale", "box", "rigidBody", "boxShape", "sphere", "__decorateClass", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "FixedConstraint", "regClass", "property", "PhysicsWorld_ConstraintFixedJoint", "BaseScript", "mat", "box", "transform", "pos", "rigidBody", "boxShape", "box2", "transform2", "pos2", "rigidBody2", "boxShape2", "tex", "blinnMat", "fixedConstraint", "FixedEventTest", "__decorateClass", "mass", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "regClass", "property", "PhysicsWorld_ContinueCollisionDetection", "BaseScript", "mat", "resource", "res", "plane", "planeMat", "planeStaticCollider", "planeShape", "radius", "sphere", "pos", "rigidBody", "sphereShape", "__decorateClass", "InputManager", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "CapsuleColliderShape", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "regClass", "property", "PhysicsWorld_Kinematic", "BaseScript", "mat", "tex", "planeMat", "rigidBody", "boxShape", "i", "mat2", "albedoColor", "radius", "sphere", "pos", "sphereShape", "sX", "sY", "sZ", "box", "transform", "rotationEuler", "raidius", "height", "capsule", "__decorateClass", "MeshColliderShape", "Loader", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "CapsuleColliderShape", "Color", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "regClass", "property", "PhysicsWorld_MeshCollider", "BaseScript", "mat", "res", "mesh", "albedo", "normal", "lizard", "lizardCollider", "meshShape", "lizard1", "transform", "localPosition", "localRotationEuler", "localScale", "lizardCollider1", "meshShape1", "random", "sX", "sY", "sZ", "box", "pos", "rotationEuler", "rigidBody", "boxShape", "radius", "sphere", "sphereShape", "raidius", "height", "capsule", "__decorateClass", "Color", "Button", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "CapsuleColliderShape", "HitResult", "Rigidbody3D", "Ray", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Event", "PixelLineSprite3D", "regClass", "property", "PhysicsWorld_RayShapeCast", "BaseScript", "mat", "plane", "planeMat", "res", "tilingOffset", "planeBody", "boxCollider", "i", "label", "castType", "n", "lineSprite", "boxSprite", "sphereCollider", "sphereSprite", "capsuleCollider", "capsuleSprite", "mat1", "sX", "sY", "sZ", "box", "transform", "pos", "rotationEuler", "rigidBody", "boxShape", "raidius", "height", "capsule", "sphereShape", "__decorateClass", "Color", "InputManager", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "CapsuleColliderShape", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "regClass", "property", "PhysicsWorld_TriggerAndCollisionEvent", "BaseScript", "mat", "planeMat", "res", "staticCollider", "boxShape", "i", "mat2", "radius", "sphere", "pos", "rigidBody", "sphereShape", "mat1", "sX", "sY", "sZ", "box", "transform", "rotationEuler", "script", "TriggerCollisionScript", "mat3", "raidius", "height", "capsule", "__decorateClass", "other", "collision", "regClass", "property", "PostProcessAO", "BaseScript", "postProcess", "enableHDR", "__decorateClass", "regClass", "property", "PostProcessBloom", "BaseScript", "__decorateClass", "regClass", "property", "PostProcessDoF", "BaseScript", "__decorateClass", "Blur_default", "BlurHorizontal_default", "BlurVertical_default", "BlurDownSample_default", "BlurDownSample_default", "EdgeAdd_default", "EdgeSub_default", "CameraClearFlags", "PostProcessEffect", "Material", "FilterMode", "RenderTargetFormat", "Shader3D", "ShaderDataType", "LayaGL", "Vector4", "RenderTexture", "RenderState", "SubShader", "VertexMesh", "regClass", "property", "PostProcess_Blur", "BaseScript", "mainCamera", "blurEffect", "BlurEffect", "RT", "enableHDR", "__decorateClass", "_BlurEffect", "attributeMap", "uniformMap", "shader", "subShader", "shaderpass", "BlurDownSample_default", "renderState", "Blur_default", "BlurVertical_default", "BlurHorizontal_default", "EdgeSub_default", "EdgeAdd_default", "value", "context", "cmd", "viewport", "scaleFactor", "tw", "th", "downSampleTexture", "lastDownTexture", "i", "blurTexture", "maxTexture", "BlurMaterial", "_BlurMaterial", "texelSize", "offset", "sourceTexture0", "sourceTexture1", "EdgeEffectVS_default", "EdgeEffectFS_default", "PostProcessEffect", "DepthTextureMode", "FilterMode", "RenderTargetFormat", "Shader3D", "ShaderDataType", "LayaGL", "Vector4", "RenderTexture", "SubShader", "VertexMesh", "DirectionLight", "MeshSprite3D", "Vector3", "Color", "Quaternion", "Event", "HSlider", "PrimitiveMesh", "Button", "PostProcess", "Handler", "regClass", "property", "PostProcess_Edge", "BaseScript", "res", "sphere", "plane", "cube", "dude", "postProcess", "edgeEffect", "EdgeEffect", "dirLightDirections", "lightColor", "index", "dir", "dirLight", "colorFunc", "colorSlider", "normalSlider", "depthSlider", "colorButton", "value", "normalFunc", "normalButton", "depthButton", "source", "x", "y", "width", "height", "text", "size", "clickFunc", "button", "min", "max", "tick", "changeFunc", "slider", "__decorateClass", "EdgeMode", "_EdgeEffect", "attributeMap", "uniformMap", "shader", "subShader", "pass", "EdgeEffectVS_default", "EdgeEffectFS_default", "context", "cmd", "viewport", "camera", "far", "near", "destination", "renderTexture", "Scene3D", "Handler", "Resource", "regClass", "property", "GarbageCollection", "BaseScript", "scene", "res", "scene3D", "__decorateClass", "Vector3", "Loader", "regClass", "property", "LoadFbxRosource", "BaseScript", "Resource", "res", "fbx", "LayaMonkey", "Danding", "Stand", "__decorateClass", "Vector3", "Loader", "regClass", "property", "LoadGltfRosource", "BaseScript", "gltfResource", "res", "cube", "riggedFigure", "duck", "__decorateClass", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "Quaternion", "PrimitiveMesh", "SkyBox", "regClass", "property", "LoadResourceDemo", "BaseScript", "resArr", "res", "skyRenderer", "earth1", "earthMat", "layaMonkey", "layaMonkeyTrans", "layaMonkeyScale", "layaMonkey2", "layaMonkey2Trans", "layaMonkey2Scale", "err", "progress", "__decorateClass", "Matrix4x4", "PrimitiveMesh", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "regClass", "property", "DynamicBatchTest", "BaseScript", "tex", "radius", "radMatrix", "circleCount", "boxMesh", "boxMat", "i", "oneCircleCount", "j", "boxSprite", "localPos", "rad", "__decorateClass", "MeshSprite3D", "Vector3", "AmbientMode", "CameraClearFlags", "SkyBox", "PBRStandardMaterial", "regClass", "property", "EnvironmentalReflection", "BaseScript", "res", "skyRenderer", "pbrMat", "__decorateClass", "Sprite3D", "MeshSprite3D", "Vector3", "PrimitiveMesh", "AmbientMode", "Color", "PBRStandardMaterial", "regClass", "property", "GriendSkyAmbientDemo", "BaseScript", "mat", "box", "sphere", "cylinder", "capsule", "cone", "__decorateClass", "Lightmap", "regClass", "property", "LightmapScene", "BaseScript", "newLightmap", "res", "newLightmaps", "__decorateClass", "regClass", "property", "SceneLoad1", "BaseScript", "res", "scene3D", "err", "progress", "__decorateClass", "regClass", "property", "ScriptDemo", "BaseScript", "box", "material", "text", "BoxControlScript", "boxContro", "__decorateClass", "DirectionLight", "Material", "MeshSprite3D", "Vector3", "PrimitiveMesh", "Shader3D", "regClass", "property", "Shader_GlowingEdge", "BaseScript", "resource", "res", "scene", "camera", "directionLight", "dude", "glowingEdgeMaterial1", "GlowingEdgeMaterial", "glowingEdgeMaterial2", "glowingEdgeMaterial3", "glowingEdgeMaterial4", "baseMaterials", "earth", "glowingEdgeMaterial", "glowingEdgeShader", "subShader", "GlowingEdgeShaderVS", "GlowingEdgeShaderFS", "__decorateClass", "_GlowingEdgeMaterial", "value", "MeshSprite3D", "Vector3", "Material", "Shader3D", "Color", "ShaderDataType", "SubShader", "RenderState", "regClass", "property", "Shader_MultiplePassOutline", "BaseScript", "MultiplePassOutlineMaterial", "scene", "camera", "mesh", "layaMonkey", "customMaterial", "res", "__decorateClass", "_MultiplePassOutlineMaterial", "value", "uniformMap", "customShader", "subShader", "OutlineVS", "OutlineFS", "pass1", "Outline02VS", "Outline02FS", "pass2", "MeshSprite3D", "Vector3", "Quaternion", "SubShader", "MeshRenderer", "Shader3D", "Material", "MaterialRenderMode", "regClass", "property", "Shader_Simple", "BaseScript", "mesh", "layaMonkey", "customMaterial", "CustomMaterial", "customShader", "subShader", "SimpleShaderVS", "SimpleShaderFS", "__decorateClass", "Vector3", "InputManager", "Script3D", "Text", "Event", "regClass", "property", "CerberusModelShow", "BaseScript", "damagedHelmet", "rotationScript", "RotationScript", "size", "x", "y", "text", "color", "cerberusText", "__decorateClass", "deltaX", "Vector3", "InputManager", "Script3D", "Text", "Event", "regClass", "property", "DamagedHelmetModelShow", "BaseScript", "damagedHelmet", "rotationScript", "RotationScript", "size", "x", "y", "text", "color", "cerberusText", "__decorateClass", "deltaX", "Vector3", "InputManager", "Script3D", "Text", "Event", "regClass", "property", "GunDemo", "BaseScript", "gun", "rotationScript", "RotationScript", "size", "x", "y", "text", "color", "cerberusText", "__decorateClass", "deltaX", "Vector3", "regClass", "property", "Sky_Procedural", "BaseScript", "mat", "skyRenderer", "__decorateClass", "Vector3", "CameraClearFlags", "regClass", "property", "Sky_SkyBox", "BaseScript", "mat", "skyRenderer", "__decorateClass", "Sprite3D", "MeshSprite3D", "Vector3", "PrimitiveMesh", "Color", "PixelLineSprite3D", "regClass", "property", "PixelLineSprite3DDemo", "BaseScript", "sphere", "sphereLineSprite3D", "Tool", "__decorateClass", "_Tool", "sprite3D", "lineSprite3D", "color", "meshSprite3D", "mesh", "positions", "indices", "i", "vertex0", "vertex1", "vertex2", "n", "sprite", "rotate", "start", "end", "length", "cylinder", "cylPos", "x", "y", "z", "Vector3", "regClass", "property", "ScreenShot", "BaseScript", "box", "material", "tex", "screenshotBtn", "renderTargetCamera", "renderTexture", "rtex", "sp", "htmlCanvas", "base64", "img", "__decorateClass", "Vector3", "regClass", "property", "SkinnedMeshSprite3DDemo", "BaseScript", "res", "dude", "scale", "__decorateClass", "Vector3", "regClass", "property", "Sprite3DClone", "BaseScript", "res", "layaMonkey", "__decorateClass", "Vector3", "Handler", "Button", "Event", "regClass", "property", "Sprite3DParent", "BaseScript", "resource", "res", "scale", "__decorateClass", "Sprite3D", "Vector3", "regClass", "property", "TransformDemo", "BaseScript", "res", "staticLayaMonkey", "__decorateClass", "MeshSprite3D", "Vector3", "PrimitiveMesh", "MeshRenderer", "UnlitMaterial", "Browser", "regClass", "property", "GPUCompression_ASTC", "BaseScript", "meshSprite", "texture", "__decorateClass", "MeshSprite3D", "Vector3", "PrimitiveMesh", "MeshRenderer", "UnlitMaterial", "Browser", "regClass", "property", "GPUCompression_ETC2", "BaseScript", "meshSprite", "texture", "__decorateClass", "Sprite3D", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "Texture2D", "PrimitiveMesh", "FilterMode", "HalfFloatUtils", "TextureFormat", "regClass", "property", "HalfFloatTexture", "BaseScript", "box", "material", "texture", "pixelData", "pixelIndex", "step", "x", "y", "m", "__decorateClass", "Sprite3D", "Vector3", "regClass", "property", "TextureDemo", "BaseScript", "box", "mater", "texture", "__decorateClass", "Scene3D", "Vector3", "Handler", "regClass", "property", "TextureGPUCompression", "BaseScript", "scene", "__decorateClass", "Vector3", "CameraClearFlags", "Color", "TrailRenderer", "regClass", "property", "TrailRender", "BaseScript", "res", "__decorateClass", "CameraClearFlags", "Color", "ShurikenParticleRenderer", "regClass", "property", "Particle_BurningGround", "BaseScript", "res", "particleRenderer", "mat", "particleRenderer1", "i", "__decorateClass", "CameraClearFlags", "Color", "ShurikenParticleRenderer", "regClass", "property", "Particle_EternalLight", "BaseScript", "res", "particleRenderer", "i", "particleRenderer1", "__decorateClass", "Button", "regClass", "property", "UI_Button", "BaseScript", "i", "len", "btn", "x", "y", "skin", "__decorateClass", "CheckBox", "regClass", "property", "UI_CheckBox", "BaseScript", "cb", "i", "j", "skin", "checkBox", "__decorateClass", "Image", "Button", "Clip", "regClass", "property", "UI_Clip", "BaseScript", "bg", "clip", "__decorateClass", "ColorPicker", "Handler", "regClass", "property", "UI_ColorPicker", "BaseScript", "colorPicker", "e", "__decorateClass", "ComboBox", "Handler", "regClass", "property", "UI_ComboBox", "BaseScript", "cb", "skin", "comboBox", "e", "__decorateClass", "Dialog", "Image", "Button", "regClass", "property", "UI_Dialog", "BaseScript", "bg", "button", "__decorateClass", "FontClip", "regClass", "property", "UI_FontClip", "BaseScript", "clipnum", "fontClip", "testFontClip", "testClipNum", "clipnum1", "__decorateClass", "Image", "regClass", "property", "UI_Image", "BaseScript", "dialog", "__decorateClass", "TextInput", "regClass", "property", "UI_Input", "BaseScript", "i", "input", "skin", "ti", "__decorateClass", "Label", "regClass", "property", "UI_Label", "BaseScript", "color", "strokeColor", "label", "__decorateClass", "List", "regClass", "property", "UI_List", "BaseScript", "list", "Item", "data", "i", "type", "index", "curX", "curY", "itemBox", "chazhiY", "tempIndex", "newIndex", "cell", "__decorateClass", "_Item", "src", "Panel", "Image", "regClass", "property", "UI_Panel", "BaseScript", "panel", "img", "i", "__decorateClass", "ProgressBar", "Handler", "regClass", "property", "UI_ProgressBar", "BaseScript", "value", "__decorateClass", "RadioGroup", "regClass", "property", "UI_RadioGroup", "BaseScript", "i", "rg", "skin", "index", "__decorateClass", "HScrollBar", "VScrollBar", "Handler", "regClass", "property", "UI_ScrollBar", "BaseScript", "skins", "e", "hs", "vs", "value", "__decorateClass", "HSlider", "VSlider", "Handler", "regClass", "property", "UI_Slider", "BaseScript", "skins", "e", "hs", "vs", "value", "__decorateClass", "Tab", "Handler", "regClass", "property", "UI_Tab", "BaseScript", "tabA", "tabB", "skin", "tab", "index", "__decorateClass", "TextArea", "regClass", "property", "UI_TextArea", "BaseScript", "ta", "__decorateClass", "Label", "Tree", "Box", "Clip", "regClass", "property", "UI_Tree", "BaseScript", "res", "e", "treeData", "i", "j", "xml", "tree", "Item", "__decorateClass", "selectBox", "folder", "label", "arrow", "MeshSprite3D", "Vector3", "Quaternion", "regClass", "property", "BlinnPhongMaterialLoad", "BaseScript", "res", "layaMonkey", "mat", "__decorateClass", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "PrimitiveMesh", "regClass", "property", "BlinnPhong_DiffuseMap", "BaseScript", "sphereMesh", "earth1", "earth2", "material", "texture", "value", "width", "min", "max", "tick", "changeFunc", "slider", "text", "__decorateClass", "MeshRenderer", "Sprite3D", "Vector3", "regClass", "property", "BlinnPhong_NormalMap", "BaseScript", "mat", "res", "monster1", "monster2", "meshSprite3D", "material", "texture", "__decorateClass", "Vector3", "SkinnedMeshRenderer", "regClass", "property", "BlinnPhong_SpecularMap", "BaseScript", "mat", "res", "dude1", "dude2", "skinnedMeshSprite3d", "i", "material", "texture", "value", "width", "min", "max", "tick", "changeFunc", "slider", "text", "__decorateClass", "MeshRenderer", "Vector3", "Color", "Loader", "regClass", "property", "Blinnphong_Transmission", "BaseScript", "res", "scene", "__decorateClass", "MeshSprite3D", "Vector3", "PrimitiveMesh", "CameraClearFlags", "EffectMaterial", "Color", "regClass", "property", "EffectMaterialDemo", "BaseScript", "earth", "material", "texture", "__decorateClass", "MeshRenderer", "PBRStandardMaterial", "Loader", "regClass", "property", "MaterialDemo", "BaseScript", "__decorateClass", "MeshSprite3D", "Vector3", "PrimitiveMesh", "PBRStandardMaterial", "Color", "regClass", "property", "PBRCoatMaterialDemo", "BaseScript", "sphereMesh", "row", "label", "position", "scene", "color", "smoothness", "metallic", "coat", "coatR", "state", "mat", "meshSprite", "transform", "offset", "col", "width", "height", "i", "n", "j", "m", "pos", "__decorateClass", "MeshSprite3D", "Vector3", "PrimitiveMesh", "PBRStandardMaterial", "Color", "regClass", "property", "PBRMaterialDemo", "BaseScript", "sphereMesh", "row", "position", "scene", "color", "smoothness", "metallic", "mat", "meshSprite", "transform", "offset", "col", "width", "height", "i", "n", "j", "m", "pos", "__decorateClass", "Material", "MeshRenderer", "Vector3", "RenderTargetFormat", "Loader", "Color", "UnlitMaterial", "RenderState", "regClass", "property", "StencilDemo", "BaseScript", "resource", "sphereClone", "matW", "mat", "__decorateClass", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "PrimitiveMesh", "UnlitMaterial", "CameraClearFlags", "regClass", "property", "UnlitMaterialDemo", "BaseScript", "sphereMesh", "earth1", "earth2", "material", "texture", "material2", "__decorateClass"]
}
