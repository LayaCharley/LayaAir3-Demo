#if defined(GL_FRAGMENT_PRECISION_HIGH)// 原来的写法会被我们自己的解析流程处理，而我们的解析是不认内置宏的，导致被删掉，所以改成 if defined 了
	precision highp float;
#else
	precision mediump float;
#endif
#include "Color.glsl";
#include "Scene.glsl"
#include "SceneFog.glsl"

varying vec4 v_Color;

void main() {

    vec4 color = v_Color;
	#ifdef FOG
		// float lerpFact=clamp((1.0/gl_FragCoord.w-u_FogStart)/u_FogRange,0.0,1.0);
		// gl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor.rgb,lerpFact);
		color.rgb = scenUnlitFog(color.rgb);
	#endif
	gl_FragColor = color;
	gl_FragColor = outputTransform(gl_FragColor);
}