var spine;!function(t){let e,i;t.Animation=class{constructor(t,e,i){if(this.timelines=null,this.timelineIds=null,!t)throw new Error("name cannot be null.");this.name=t,this.setTimelines(e),this.duration=i}setTimelines(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds=new t.StringSet;for(var i=0;i<e.length;i++)this.timelineIds.addAll(e[i].getPropertyIds())}hasTimeline(t){for(let e=0;e<t.length;e++)if(this.timelineIds.contains(t[e]))return!0;return!1}apply(t,e,i,s,a,r,n,l){if(!t)throw new Error("skeleton cannot be null.");s&&0!=this.duration&&(i%=this.duration,e>0&&(e%=this.duration));let o=this.timelines;for(let s=0,h=o.length;s<h;s++)o[s].apply(t,e,i,a,r,n,l)}},function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(e=t.MixBlend||(t.MixBlend={})),function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"}(i=t.MixDirection||(t.MixDirection={}));const s=0,a=1,r=2,n=3,l=4,o=5,h=6,d=7,c=8,u=9,m=10,g=11,f=12,p=13,x=14,w=15,b=16,y=17,T=18;class Timeline{constructor(e,i){this.propertyIds=null,this.frames=null,this.propertyIds=i,this.frames=t.Utils.newFloatArray(e*this.getFrameEntries())}getPropertyIds(){return this.propertyIds}getFrameEntries(){return 1}getFrameCount(){return this.frames.length/this.getFrameEntries()}getDuration(){return this.frames[this.frames.length-this.getFrameEntries()]}static search1(t,e){let i=t.length;for(let s=1;s<i;s++)if(t[s]>e)return s-1;return i-1}static search(t,e,i){let s=t.length;for(let a=i;a<s;a+=i)if(t[a]>e)return a-i;return s-i}}t.Timeline=Timeline;class CurveTimeline extends Timeline{constructor(e,i,s){super(e,s),this.curves=null,this.curves=t.Utils.newFloatArray(e+18*i),this.curves[e-1]=1}setLinear(t){this.curves[t]=0}setStepped(t){this.curves[t]=1}shrink(e){let i=this.getFrameCount()+18*e;if(this.curves.length>i){let e=t.Utils.newFloatArray(i);t.Utils.arrayCopy(this.curves,0,e,0,i),this.curves=e}}setBezier(t,e,i,s,a,r,n,l,o,h,d){let c=this.curves,u=this.getFrameCount()+18*t;0==i&&(c[e]=2+u);let m=.03*(s-2*r+l),g=.03*(a-2*n+o),f=.006*(3*(r-l)-s+h),p=.006*(3*(n-o)-a+d),x=2*m+f,w=2*g+p,b=.3*(r-s)+m+.16666667*f,y=.3*(n-a)+g+.16666667*p,T=s+b,A=a+y;for(let t=u+18;u<t;u+=2)c[u]=T,c[u+1]=A,b+=x,y+=w,x+=f,w+=p,T+=b,A+=y}getBezierValue(t,e,i,s){let a=this.curves;if(a[s]>t){let r=this.frames[e],n=this.frames[e+i];return n+(t-r)/(a[s]-r)*(a[s+1]-n)}let r=s+18;for(s+=2;s<r;s+=2)if(a[s]>=t){let e=a[s-2],i=a[s-1];return i+(t-e)/(a[s]-e)*(a[s+1]-i)}e+=this.getFrameEntries();let n=a[r-2],l=a[r-1];return l+(t-n)/(this.frames[e]-n)*(this.frames[e+i]-l)}}t.CurveTimeline=CurveTimeline;class CurveTimeline1 extends CurveTimeline{constructor(t,e,i){super(t,e,[i])}getFrameEntries(){return 2}setFrame(t,e,i){t<<=1,this.frames[t]=e,this.frames[t+1]=i}getCurveValue(t){let e=this.frames,i=e.length-2;for(let s=2;s<=i;s+=2)if(e[s]>t){i=s-2;break}let s=this.curves[i>>1];switch(s){case 0:let s=e[i],a=e[i+1];return a+(t-s)/(e[i+2]-s)*(e[i+2+1]-a);case 1:return e[i+1]}return this.getBezierValue(t,i,1,s-2)}}t.CurveTimeline1=CurveTimeline1;class CurveTimeline2 extends CurveTimeline{constructor(t,e,i,s){super(t,e,[i,s])}getFrameEntries(){return 3}setFrame(t,e,i,s){t*=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=s}}t.CurveTimeline2=CurveTimeline2;t.RotateTimeline=class extends CurveTimeline1{constructor(t,e,i){super(t,e,s+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,i,s,a,r,n,l){let o=t.bones[this.boneIndex];if(!o.active)return;if(s<this.frames[0]){switch(n){case e.setup:return void(o.rotation=o.data.rotation);case e.first:o.rotation+=(o.data.rotation-o.rotation)*r}return}let h=this.getCurveValue(s);switch(n){case e.setup:o.rotation=o.data.rotation+h*r;break;case e.first:case e.replace:h+=o.data.rotation-o.rotation;case e.add:o.rotation+=h*r}}};t.TranslateTimeline=class extends CurveTimeline2{constructor(t,e,i){super(t,e,a+"|"+i,r+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,i,s,a,r,n,l){let o=t.bones[this.boneIndex];if(!o.active)return;let h=this.frames;if(s<h[0]){switch(n){case e.setup:return o.x=o.data.x,void(o.y=o.data.y);case e.first:o.x+=(o.data.x-o.x)*r,o.y+=(o.data.y-o.y)*r}return}let d=0,c=0,u=Timeline.search(h,s,3),m=this.curves[u/3];switch(m){case 0:let t=h[u];d=h[u+1],c=h[u+2];let e=(s-t)/(h[u+3]-t);d+=(h[u+3+1]-d)*e,c+=(h[u+3+2]-c)*e;break;case 1:d=h[u+1],c=h[u+2];break;default:d=this.getBezierValue(s,u,1,m-2),c=this.getBezierValue(s,u,2,m+18-2)}switch(n){case e.setup:o.x=o.data.x+d*r,o.y=o.data.y+c*r;break;case e.first:case e.replace:o.x+=(o.data.x+d-o.x)*r,o.y+=(o.data.y+c-o.y)*r;break;case e.add:o.x+=d*r,o.y+=c*r}}};t.TranslateXTimeline=class extends CurveTimeline1{constructor(t,e,i){super(t,e,a+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,i,s,a,r,n,l){let o=t.bones[this.boneIndex];if(!o.active)return;if(s<this.frames[0]){switch(n){case e.setup:return void(o.x=o.data.x);case e.first:o.x+=(o.data.x-o.x)*r}return}let h=this.getCurveValue(s);switch(n){case e.setup:o.x=o.data.x+h*r;break;case e.first:case e.replace:o.x+=(o.data.x+h-o.x)*r;break;case e.add:o.x+=h*r}}};t.TranslateYTimeline=class extends CurveTimeline1{constructor(t,e,i){super(t,e,r+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,i,s,a,r,n,l){let o=t.bones[this.boneIndex];if(!o.active)return;if(s<this.frames[0]){switch(n){case e.setup:return void(o.y=o.data.y);case e.first:o.y+=(o.data.y-o.y)*r}return}let h=this.getCurveValue(s);switch(n){case e.setup:o.y=o.data.y+h*r;break;case e.first:case e.replace:o.y+=(o.data.y+h-o.y)*r;break;case e.add:o.y+=h*r}}};t.ScaleTimeline=class extends CurveTimeline2{constructor(t,e,i){super(t,e,n+"|"+i,l+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(s,a,r,n,l,o,h){let d=s.bones[this.boneIndex];if(!d.active)return;let c,u,m=this.frames;if(r<m[0]){switch(o){case e.setup:return d.scaleX=d.data.scaleX,void(d.scaleY=d.data.scaleY);case e.first:d.scaleX+=(d.data.scaleX-d.scaleX)*l,d.scaleY+=(d.data.scaleY-d.scaleY)*l}return}let g=Timeline.search(m,r,3),f=this.curves[g/3];switch(f){case 0:let t=m[g];c=m[g+1],u=m[g+2];let e=(r-t)/(m[g+3]-t);c+=(m[g+3+1]-c)*e,u+=(m[g+3+2]-u)*e;break;case 1:c=m[g+1],u=m[g+2];break;default:c=this.getBezierValue(r,g,1,f-2),u=this.getBezierValue(r,g,2,f+18-2)}if(c*=d.data.scaleX,u*=d.data.scaleY,1==l)o==e.add?(d.scaleX+=c-d.data.scaleX,d.scaleY+=u-d.data.scaleY):(d.scaleX=c,d.scaleY=u);else{let s=0,a=0;if(h==i.mixOut)switch(o){case e.setup:s=d.data.scaleX,a=d.data.scaleY,d.scaleX=s+(Math.abs(c)*t.MathUtils.signum(s)-s)*l,d.scaleY=a+(Math.abs(u)*t.MathUtils.signum(a)-a)*l;break;case e.first:case e.replace:s=d.scaleX,a=d.scaleY,d.scaleX=s+(Math.abs(c)*t.MathUtils.signum(s)-s)*l,d.scaleY=a+(Math.abs(u)*t.MathUtils.signum(a)-a)*l;break;case e.add:d.scaleX+=(c-d.data.scaleX)*l,d.scaleY+=(u-d.data.scaleY)*l}else switch(o){case e.setup:s=Math.abs(d.data.scaleX)*t.MathUtils.signum(c),a=Math.abs(d.data.scaleY)*t.MathUtils.signum(u),d.scaleX=s+(c-s)*l,d.scaleY=a+(u-a)*l;break;case e.first:case e.replace:s=Math.abs(d.scaleX)*t.MathUtils.signum(c),a=Math.abs(d.scaleY)*t.MathUtils.signum(u),d.scaleX=s+(c-s)*l,d.scaleY=a+(u-a)*l;break;case e.add:d.scaleX+=(c-d.data.scaleX)*l,d.scaleY+=(u-d.data.scaleY)*l}}}};t.ScaleXTimeline=class extends CurveTimeline1{constructor(t,e,i){super(t,e,n+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(s,a,r,n,l,o,h){let d=s.bones[this.boneIndex];if(!d.active)return;if(r<this.frames[0]){switch(o){case e.setup:return void(d.scaleX=d.data.scaleX);case e.first:d.scaleX+=(d.data.scaleX-d.scaleX)*l}return}let c=this.getCurveValue(r)*d.data.scaleX;if(1==l)o==e.add?d.scaleX+=c-d.data.scaleX:d.scaleX=c;else{let s=0;if(h==i.mixOut)switch(o){case e.setup:s=d.data.scaleX,d.scaleX=s+(Math.abs(c)*t.MathUtils.signum(s)-s)*l;break;case e.first:case e.replace:s=d.scaleX,d.scaleX=s+(Math.abs(c)*t.MathUtils.signum(s)-s)*l;break;case e.add:d.scaleX+=(c-d.data.scaleX)*l}else switch(o){case e.setup:s=Math.abs(d.data.scaleX)*t.MathUtils.signum(c),d.scaleX=s+(c-s)*l;break;case e.first:case e.replace:s=Math.abs(d.scaleX)*t.MathUtils.signum(c),d.scaleX=s+(c-s)*l;break;case e.add:d.scaleX+=(c-d.data.scaleX)*l}}}};t.ScaleYTimeline=class extends CurveTimeline1{constructor(t,e,i){super(t,e,l+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(s,a,r,n,l,o,h){let d=s.bones[this.boneIndex];if(!d.active)return;if(r<this.frames[0]){switch(o){case e.setup:return void(d.scaleY=d.data.scaleY);case e.first:d.scaleY+=(d.data.scaleY-d.scaleY)*l}return}let c=this.getCurveValue(r)*d.data.scaleY;if(1==l)o==e.add?d.scaleY+=c-d.data.scaleY:d.scaleY=c;else{let s=0;if(h==i.mixOut)switch(o){case e.setup:s=d.data.scaleY,d.scaleY=s+(Math.abs(c)*t.MathUtils.signum(s)-s)*l;break;case e.first:case e.replace:s=d.scaleY,d.scaleY=s+(Math.abs(c)*t.MathUtils.signum(s)-s)*l;break;case e.add:d.scaleY+=(c-d.data.scaleY)*l}else switch(o){case e.setup:s=Math.abs(d.data.scaleY)*t.MathUtils.signum(c),d.scaleY=s+(c-s)*l;break;case e.first:case e.replace:s=Math.abs(d.scaleY)*t.MathUtils.signum(c),d.scaleY=s+(c-s)*l;break;case e.add:d.scaleY+=(c-d.data.scaleY)*l}}}};t.ShearTimeline=class extends CurveTimeline2{constructor(t,e,i){super(t,e,o+"|"+i,h+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,i,s,a,r,n,l){let o=t.bones[this.boneIndex];if(!o.active)return;let h=this.frames;if(s<h[0]){switch(n){case e.setup:return o.shearX=o.data.shearX,void(o.shearY=o.data.shearY);case e.first:o.shearX+=(o.data.shearX-o.shearX)*r,o.shearY+=(o.data.shearY-o.shearY)*r}return}let d=0,c=0,u=Timeline.search(h,s,3),m=this.curves[u/3];switch(m){case 0:let t=h[u];d=h[u+1],c=h[u+2];let e=(s-t)/(h[u+3]-t);d+=(h[u+3+1]-d)*e,c+=(h[u+3+2]-c)*e;break;case 1:d=h[u+1],c=h[u+2];break;default:d=this.getBezierValue(s,u,1,m-2),c=this.getBezierValue(s,u,2,m+18-2)}switch(n){case e.setup:o.shearX=o.data.shearX+d*r,o.shearY=o.data.shearY+c*r;break;case e.first:case e.replace:o.shearX+=(o.data.shearX+d-o.shearX)*r,o.shearY+=(o.data.shearY+c-o.shearY)*r;break;case e.add:o.shearX+=d*r,o.shearY+=c*r}}};t.ShearXTimeline=class extends CurveTimeline1{constructor(t,e,i){super(t,e,o+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,i,s,a,r,n,l){let o=t.bones[this.boneIndex];if(!o.active)return;if(s<this.frames[0]){switch(n){case e.setup:return void(o.shearX=o.data.shearX);case e.first:o.shearX+=(o.data.shearX-o.shearX)*r}return}let h=this.getCurveValue(s);switch(n){case e.setup:o.shearX=o.data.shearX+h*r;break;case e.first:case e.replace:o.shearX+=(o.data.shearX+h-o.shearX)*r;break;case e.add:o.shearX+=h*r}}};t.ShearYTimeline=class extends CurveTimeline1{constructor(t,e,i){super(t,e,h+"|"+i),this.boneIndex=0,this.boneIndex=i}apply(t,i,s,a,r,n,l){let o=t.bones[this.boneIndex];if(!o.active)return;if(s<this.frames[0]){switch(n){case e.setup:return void(o.shearY=o.data.shearY);case e.first:o.shearY+=(o.data.shearY-o.shearY)*r}return}let h=this.getCurveValue(s);switch(n){case e.setup:o.shearY=o.data.shearY+h*r;break;case e.first:case e.replace:o.shearY+=(o.data.shearY+h-o.shearY)*r;break;case e.add:o.shearY+=h*r}}};t.RGBATimeline=class extends CurveTimeline{constructor(t,e,i){super(t,e,[d+"|"+i,c+"|"+i]),this.slotIndex=0,this.slotIndex=i}getFrameEntries(){return 5}setFrame(t,e,i,s,a,r){t*=5,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=a,this.frames[t+4]=r}apply(t,i,s,a,r,n,l){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=this.frames,d=o.color;if(s<h[0]){let t=o.data.color;switch(n){case e.setup:return void d.setFromColor(t);case e.first:d.add((t.r-d.r)*r,(t.g-d.g)*r,(t.b-d.b)*r,(t.a-d.a)*r)}return}let c=0,u=0,m=0,g=0,f=Timeline.search(h,s,5),p=this.curves[f/5];switch(p){case 0:let t=h[f];c=h[f+1],u=h[f+2],m=h[f+3],g=h[f+4];let e=(s-t)/(h[f+5]-t);c+=(h[f+5+1]-c)*e,u+=(h[f+5+2]-u)*e,m+=(h[f+5+3]-m)*e,g+=(h[f+5+4]-g)*e;break;case 1:c=h[f+1],u=h[f+2],m=h[f+3],g=h[f+4];break;default:c=this.getBezierValue(s,f,1,p-2),u=this.getBezierValue(s,f,2,p+18-2),m=this.getBezierValue(s,f,3,p+36-2),g=this.getBezierValue(s,f,4,p+54-2)}1==r?d.set(c,u,m,g):(n==e.setup&&d.setFromColor(o.data.color),d.add((c-d.r)*r,(u-d.g)*r,(m-d.b)*r,(g-d.a)*r))}};t.RGBTimeline=class extends CurveTimeline{constructor(t,e,i){super(t,e,[d+"|"+i]),this.slotIndex=0,this.slotIndex=i}getFrameEntries(){return 4}setFrame(t,e,i,s,a){t<<=2,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=a}apply(t,i,s,a,r,n,l){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=this.frames,d=o.color;if(s<h[0]){let t=o.data.color;switch(n){case e.setup:return d.r=t.r,d.g=t.g,void(d.b=t.b);case e.first:d.r+=(t.r-d.r)*r,d.g+=(t.g-d.g)*r,d.b+=(t.b-d.b)*r}return}let c=0,u=0,m=0,g=Timeline.search(h,s,4),f=this.curves[g>>2];switch(f){case 0:let t=h[g];c=h[g+1],u=h[g+2],m=h[g+3];let e=(s-t)/(h[g+4]-t);c+=(h[g+4+1]-c)*e,u+=(h[g+4+2]-u)*e,m+=(h[g+4+3]-m)*e;break;case 1:c=h[g+1],u=h[g+2],m=h[g+3];break;default:c=this.getBezierValue(s,g,1,f-2),u=this.getBezierValue(s,g,2,f+18-2),m=this.getBezierValue(s,g,3,f+36-2)}if(1==r)d.r=c,d.g=u,d.b=m;else{if(n==e.setup){let t=o.data.color;d.r=t.r,d.g=t.g,d.b=t.b}d.r+=(c-d.r)*r,d.g+=(u-d.g)*r,d.b+=(m-d.b)*r}}};t.AlphaTimeline=class extends CurveTimeline1{constructor(t,e,i){super(t,e,c+"|"+i),this.slotIndex=0,this.slotIndex=i}apply(t,i,s,a,r,n,l){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=o.color;if(s<this.frames[0]){let t=o.data.color;switch(n){case e.setup:return void(h.a=t.a);case e.first:h.a+=(t.a-h.a)*r}return}let d=this.getCurveValue(s);1==r?h.a=d:(n==e.setup&&(h.a=o.data.color.a),h.a+=(d-h.a)*r)}};t.RGBA2Timeline=class extends CurveTimeline{constructor(t,e,i){super(t,e,[d+"|"+i,c+"|"+i,u+"|"+i]),this.slotIndex=0,this.slotIndex=i}getFrameEntries(){return 8}setFrame(t,e,i,s,a,r,n,l,o){t<<=3,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=a,this.frames[t+4]=r,this.frames[t+5]=n,this.frames[t+6]=l,this.frames[t+7]=o}apply(t,i,s,a,r,n,l){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=this.frames,d=o.color,c=o.darkColor;if(s<h[0]){let t=o.data.color,i=o.data.darkColor;switch(n){case e.setup:return d.setFromColor(t),c.r=i.r,c.g=i.g,void(c.b=i.b);case e.first:d.add((t.r-d.r)*r,(t.g-d.g)*r,(t.b-d.b)*r,(t.a-d.a)*r),c.r+=(i.r-c.r)*r,c.g+=(i.g-c.g)*r,c.b+=(i.b-c.b)*r}return}let u=0,m=0,g=0,f=0,p=0,x=0,w=0,b=Timeline.search(h,s,8),y=this.curves[b>>3];switch(y){case 0:let t=h[b];u=h[b+1],m=h[b+2],g=h[b+3],f=h[b+4],p=h[b+5],x=h[b+6],w=h[b+7];let e=(s-t)/(h[b+8]-t);u+=(h[b+8+1]-u)*e,m+=(h[b+8+2]-m)*e,g+=(h[b+8+3]-g)*e,f+=(h[b+8+4]-f)*e,p+=(h[b+8+5]-p)*e,x+=(h[b+8+6]-x)*e,w+=(h[b+8+7]-w)*e;break;case 1:u=h[b+1],m=h[b+2],g=h[b+3],f=h[b+4],p=h[b+5],x=h[b+6],w=h[b+7];break;default:u=this.getBezierValue(s,b,1,y-2),m=this.getBezierValue(s,b,2,y+18-2),g=this.getBezierValue(s,b,3,y+36-2),f=this.getBezierValue(s,b,4,y+54-2),p=this.getBezierValue(s,b,5,y+72-2),x=this.getBezierValue(s,b,6,y+90-2),w=this.getBezierValue(s,b,7,y+108-2)}if(1==r)d.set(u,m,g,f),c.r=p,c.g=x,c.b=w;else{if(n==e.setup){d.setFromColor(o.data.color);let t=o.data.darkColor;c.r=t.r,c.g=t.g,c.b=t.b}d.add((u-d.r)*r,(m-d.g)*r,(g-d.b)*r,(f-d.a)*r),c.r+=(p-c.r)*r,c.g+=(x-c.g)*r,c.b+=(w-c.b)*r}}};t.RGB2Timeline=class extends CurveTimeline{constructor(t,e,i){super(t,e,[d+"|"+i,u+"|"+i]),this.slotIndex=0,this.slotIndex=i}getFrameEntries(){return 7}setFrame(t,e,i,s,a,r,n,l){t*=7,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=a,this.frames[t+4]=r,this.frames[t+5]=n,this.frames[t+6]=l}apply(t,i,s,a,r,n,l){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=this.frames,d=o.color,c=o.darkColor;if(s<h[0]){let t=o.data.color,i=o.data.darkColor;switch(n){case e.setup:return d.r=t.r,d.g=t.g,d.b=t.b,c.r=i.r,c.g=i.g,void(c.b=i.b);case e.first:d.r+=(t.r-d.r)*r,d.g+=(t.g-d.g)*r,d.b+=(t.b-d.b)*r,c.r+=(i.r-c.r)*r,c.g+=(i.g-c.g)*r,c.b+=(i.b-c.b)*r}return}let u=0,m=0,g=0,f=0,p=0,x=0,w=Timeline.search(h,s,7),b=this.curves[w/7];switch(b){case 0:let t=h[w];u=h[w+1],m=h[w+2],g=h[w+3],f=h[w+4],p=h[w+5],x=h[w+6];let e=(s-t)/(h[w+7]-t);u+=(h[w+7+1]-u)*e,m+=(h[w+7+2]-m)*e,g+=(h[w+7+3]-g)*e,f+=(h[w+7+4]-f)*e,p+=(h[w+7+5]-p)*e,x+=(h[w+7+6]-x)*e;break;case 1:u=h[w+1],m=h[w+2],g=h[w+3],f=h[w+4],p=h[w+5],x=h[w+6];break;default:u=this.getBezierValue(s,w,1,b-2),m=this.getBezierValue(s,w,2,b+18-2),g=this.getBezierValue(s,w,3,b+36-2),f=this.getBezierValue(s,w,4,b+54-2),p=this.getBezierValue(s,w,5,b+72-2),x=this.getBezierValue(s,w,6,b+90-2)}if(1==r)d.r=u,d.g=m,d.b=g,c.r=f,c.g=p,c.b=x;else{if(n==e.setup){let t=o.data.color,e=o.data.darkColor;d.r=t.r,d.g=t.g,d.b=t.b,c.r=e.r,c.g=e.g,c.b=e.b}d.r+=(u-d.r)*r,d.g+=(m-d.g)*r,d.b+=(g-d.b)*r,c.r+=(f-c.r)*r,c.g+=(p-c.g)*r,c.b+=(x-c.b)*r}}};t.AttachmentTimeline=class extends Timeline{constructor(t,e){super(t,[m+"|"+e]),this.slotIndex=0,this.slotIndex=e,this.attachmentNames=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i}apply(t,s,a,r,n,l,o){let h=t.slots[this.slotIndex];h.bone.active&&(o!=i.mixOut?a<this.frames[0]?l!=e.setup&&l!=e.first||this.setAttachment(t,h,h.data.attachmentName):this.setAttachment(t,h,this.attachmentNames[Timeline.search1(this.frames,a)]):l==e.setup&&this.setAttachment(t,h,h.data.attachmentName))}setAttachment(t,e,i){e.setAttachment(i?t.getAttachment(this.slotIndex,i):null)}};t.DeformTimeline=class extends CurveTimeline{constructor(t,e,i,s){super(t,e,[g+"|"+i+"|"+s.id]),this.slotIndex=0,this.attachment=null,this.vertices=null,this.slotIndex=i,this.attachment=s,this.vertices=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.vertices[t]=i}setBezier(t,e,i,s,a,r,n,l,o,h,d){let c=this.curves,u=this.getFrameCount()+18*t;0==i&&(c[e]=2+u);let m=.03*(s-2*r+l),g=.03*o-.06*n,f=.006*(3*(r-l)-s+h),p=.018*(n-o+.33333333),x=2*m+f,w=2*g+p,b=.3*(r-s)+m+.16666667*f,y=.3*n+g+.16666667*p,T=s+b,A=y;for(let t=u+18;u<t;u+=2)c[u]=T,c[u+1]=A,b+=x,y+=w,x+=f,w+=p,T+=b,A+=y}getCurvePercent(t,e){let i=this.curves,s=i[e];switch(s){case 0:let i=this.frames[e];return(t-i)/(this.frames[e+this.getFrameEntries()]-i);case 1:return 0}if(s-=2,i[s]>t){let a=this.frames[e];return i[s+1]*(t-a)/(i[s]-a)}let a=s+18;for(s+=2;s<a;s+=2)if(i[s]>=t){let e=i[s-2],a=i[s-1];return a+(t-e)/(i[s]-e)*(i[s+1]-a)}let r=i[a-2],n=i[a-1];return n+(1-n)*(t-r)/(this.frames[e+this.getFrameEntries()]-r)}apply(i,s,a,r,n,l,o){let h=i.slots[this.slotIndex];if(!h.bone.active)return;let d=h.getAttachment();if(!(d instanceof t.VertexAttachment)||d.deformAttachment!=this.attachment)return;let c=h.deform;0==c.length&&(l=e.setup);let u=this.vertices,m=u[0].length,g=this.frames;if(a<g[0]){let t=d;switch(l){case e.setup:return void(c.length=0);case e.first:if(1==n)return void(c.length=0);if(c.length=m,t.bones){n=1-n;for(f=0;f<m;f++)c[f]*=n}else{let e=t.vertices;for(var f=0;f<m;f++)c[f]+=(e[f]-c[f])*n}}return}if(c.length=m,a>=g[g.length-1]){let i=u[g.length-1];if(1==n)if(l==e.add){let t=d;if(t.bones)for(let t=0;t<m;t++)c[t]+=i[t];else{let e=t.vertices;for(let t=0;t<m;t++)c[t]+=i[t]-e[t]}}else t.Utils.arrayCopy(i,0,c,0,m);else switch(l){case e.setup:{let t=d;if(t.bones)for(let t=0;t<m;t++)c[t]=i[t]*n;else{let e=t.vertices;for(let t=0;t<m;t++){let s=e[t];c[t]=s+(i[t]-s)*n}}break}case e.first:case e.replace:for(let t=0;t<m;t++)c[t]+=(i[t]-c[t])*n;break;case e.add:let t=d;if(t.bones)for(let t=0;t<m;t++)c[t]+=i[t]*n;else{let e=t.vertices;for(let t=0;t<m;t++)c[t]+=(i[t]-e[t])*n}}return}let p=Timeline.search1(g,a),x=this.getCurvePercent(a,p),w=u[p],b=u[p+1];if(1==n)if(l==e.add){let t=d;if(t.bones)for(let t=0;t<m;t++){let e=w[t];c[t]+=e+(b[t]-e)*x}else{let e=t.vertices;for(let t=0;t<m;t++){let i=w[t];c[t]+=i+(b[t]-i)*x-e[t]}}}else for(let t=0;t<m;t++){let e=w[t];c[t]=e+(b[t]-e)*x}else switch(l){case e.setup:{let t=d;if(t.bones)for(let t=0;t<m;t++){let e=w[t];c[t]=(e+(b[t]-e)*x)*n}else{let e=t.vertices;for(let t=0;t<m;t++){let i=w[t],s=e[t];c[t]=s+(i+(b[t]-i)*x-s)*n}}break}case e.first:case e.replace:for(let t=0;t<m;t++){let e=w[t];c[t]+=(e+(b[t]-e)*x-c[t])*n}break;case e.add:let t=d;if(t.bones)for(let t=0;t<m;t++){let e=w[t];c[t]+=(e+(b[t]-e)*x)*n}else{let e=t.vertices;for(let t=0;t<m;t++){let i=w[t];c[t]+=(i+(b[t]-i)*x-e[t])*n}}}}};class EventTimeline extends Timeline{constructor(t){super(t,EventTimeline.propertyIds),this.events=null,this.events=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e){this.frames[t]=e.time,this.events[t]=e}apply(t,e,i,s,a,r,n){if(!s)return;let l=this.frames,o=this.frames.length;if(e>i)this.apply(t,e,Number.MAX_VALUE,s,a,r,n),e=-1;else if(e>=l[o-1])return;if(i<l[0])return;let h=0;if(e<l[0])h=0;else{h=Timeline.search1(l,e)+1;let t=l[h];for(;h>0&&l[h-1]==t;)h--}for(;h<o&&i>=l[h];h++)s.push(this.events[h])}}EventTimeline.propertyIds=[""+f],t.EventTimeline=EventTimeline;class DrawOrderTimeline extends Timeline{constructor(t){super(t,DrawOrderTimeline.propertyIds),this.drawOrders=null,this.drawOrders=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,e,i){this.frames[t]=e,this.drawOrders[t]=i}apply(s,a,r,n,l,o,h){if(h==i.mixOut)return void(o==e.setup&&t.Utils.arrayCopy(s.slots,0,s.drawOrder,0,s.slots.length));if(r<this.frames[0])return void(o!=e.setup&&o!=e.first||t.Utils.arrayCopy(s.slots,0,s.drawOrder,0,s.slots.length));let d=this.drawOrders[Timeline.search1(this.frames,r)];if(d){let t=s.drawOrder,e=s.slots;for(let i=0,s=d.length;i<s;i++)t[i]=e[d[i]]}else t.Utils.arrayCopy(s.slots,0,s.drawOrder,0,s.slots.length)}}DrawOrderTimeline.propertyIds=[""+p],t.DrawOrderTimeline=DrawOrderTimeline;t.IkConstraintTimeline=class extends CurveTimeline{constructor(t,e,i){super(t,e,[x+"|"+i]),this.ikConstraintIndex=0,this.ikConstraintIndex=i}getFrameEntries(){return 6}setFrame(t,e,i,s,a,r,n){t*=6,this.frames[t]=e,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=a,this.frames[t+4]=r?1:0,this.frames[t+5]=n?1:0}apply(t,s,a,r,n,l,o){let h=t.ikConstraints[this.ikConstraintIndex];if(!h.active)return;let d=this.frames;if(a<d[0]){switch(l){case e.setup:return h.mix=h.data.mix,h.softness=h.data.softness,h.bendDirection=h.data.bendDirection,h.compress=h.data.compress,void(h.stretch=h.data.stretch);case e.first:h.mix+=(h.data.mix-h.mix)*n,h.softness+=(h.data.softness-h.softness)*n,h.bendDirection=h.data.bendDirection,h.compress=h.data.compress,h.stretch=h.data.stretch}return}let c=0,u=0,m=Timeline.search(d,a,6),g=this.curves[m/6];switch(g){case 0:let t=d[m];c=d[m+1],u=d[m+2];let e=(a-t)/(d[m+6]-t);c+=(d[m+6+1]-c)*e,u+=(d[m+6+2]-u)*e;break;case 1:c=d[m+1],u=d[m+2];break;default:c=this.getBezierValue(a,m,1,g-2),u=this.getBezierValue(a,m,2,g+18-2)}l==e.setup?(h.mix=h.data.mix+(c-h.data.mix)*n,h.softness=h.data.softness+(u-h.data.softness)*n,o==i.mixOut?(h.bendDirection=h.data.bendDirection,h.compress=h.data.compress,h.stretch=h.data.stretch):(h.bendDirection=d[m+3],h.compress=0!=d[m+4],h.stretch=0!=d[m+5])):(h.mix+=(c-h.mix)*n,h.softness+=(u-h.softness)*n,o==i.mixIn&&(h.bendDirection=d[m+3],h.compress=0!=d[m+4],h.stretch=0!=d[m+5]))}};t.TransformConstraintTimeline=class extends CurveTimeline{constructor(t,e,i){super(t,e,[w+"|"+i]),this.transformConstraintIndex=0,this.transformConstraintIndex=i}getFrameEntries(){return 7}setFrame(t,e,i,s,a,r,n,l){let o=this.frames;o[t*=7]=e,o[t+1]=i,o[t+2]=s,o[t+3]=a,o[t+4]=r,o[t+5]=n,o[t+6]=l}apply(t,i,s,a,r,n,l){let o=t.transformConstraints[this.transformConstraintIndex];if(!o.active)return;let h,d,c,u,m,g,f=this.frames;if(s<f[0]){let t=o.data;switch(n){case e.setup:return o.mixRotate=t.mixRotate,o.mixX=t.mixX,o.mixY=t.mixY,o.mixScaleX=t.mixScaleX,o.mixScaleY=t.mixScaleY,void(o.mixShearY=t.mixShearY);case e.first:o.mixRotate+=(t.mixRotate-o.mixRotate)*r,o.mixX+=(t.mixX-o.mixX)*r,o.mixY+=(t.mixY-o.mixY)*r,o.mixScaleX+=(t.mixScaleX-o.mixScaleX)*r,o.mixScaleY+=(t.mixScaleY-o.mixScaleY)*r,o.mixShearY+=(t.mixShearY-o.mixShearY)*r}return}let p=Timeline.search(f,s,7),x=this.curves[p/7];switch(x){case 0:let t=f[p];h=f[p+1],d=f[p+2],c=f[p+3],u=f[p+4],m=f[p+5],g=f[p+6];let e=(s-t)/(f[p+7]-t);h+=(f[p+7+1]-h)*e,d+=(f[p+7+2]-d)*e,c+=(f[p+7+3]-c)*e,u+=(f[p+7+4]-u)*e,m+=(f[p+7+5]-m)*e,g+=(f[p+7+6]-g)*e;break;case 1:h=f[p+1],d=f[p+2],c=f[p+3],u=f[p+4],m=f[p+5],g=f[p+6];break;default:h=this.getBezierValue(s,p,1,x-2),d=this.getBezierValue(s,p,2,x+18-2),c=this.getBezierValue(s,p,3,x+36-2),u=this.getBezierValue(s,p,4,x+54-2),m=this.getBezierValue(s,p,5,x+72-2),g=this.getBezierValue(s,p,6,x+90-2)}if(n==e.setup){let t=o.data;o.mixRotate=t.mixRotate+(h-t.mixRotate)*r,o.mixX=t.mixX+(d-t.mixX)*r,o.mixY=t.mixY+(c-t.mixY)*r,o.mixScaleX=t.mixScaleX+(u-t.mixScaleX)*r,o.mixScaleY=t.mixScaleY+(m-t.mixScaleY)*r,o.mixShearY=t.mixShearY+(g-t.mixShearY)*r}else o.mixRotate+=(h-o.mixRotate)*r,o.mixX+=(d-o.mixX)*r,o.mixY+=(c-o.mixY)*r,o.mixScaleX+=(u-o.mixScaleX)*r,o.mixScaleY+=(m-o.mixScaleY)*r,o.mixShearY+=(g-o.mixShearY)*r}};t.PathConstraintPositionTimeline=class extends CurveTimeline1{constructor(t,e,i){super(t,e,b+"|"+i),this.pathConstraintIndex=0,this.pathConstraintIndex=i}apply(t,i,s,a,r,n,l){let o=t.pathConstraints[this.pathConstraintIndex];if(!o.active)return;if(s<this.frames[0]){switch(n){case e.setup:return void(o.position=o.data.position);case e.first:o.position+=(o.data.position-o.position)*r}return}let h=this.getCurveValue(s);n==e.setup?o.position=o.data.position+(h-o.data.position)*r:o.position+=(h-o.position)*r}};t.PathConstraintSpacingTimeline=class extends CurveTimeline1{constructor(t,e,i){super(t,e,y+"|"+i),this.pathConstraintIndex=0,this.pathConstraintIndex=i}apply(t,i,s,a,r,n,l){let o=t.pathConstraints[this.pathConstraintIndex];if(!o.active)return;if(s<this.frames[0]){switch(n){case e.setup:return void(o.spacing=o.data.spacing);case e.first:o.spacing+=(o.data.spacing-o.spacing)*r}return}let h=this.getCurveValue(s);n==e.setup?o.spacing=o.data.spacing+(h-o.data.spacing)*r:o.spacing+=(h-o.spacing)*r}};t.PathConstraintMixTimeline=class extends CurveTimeline{constructor(t,e,i){super(t,e,[T+"|"+i]),this.pathConstraintIndex=0,this.pathConstraintIndex=i}getFrameEntries(){return 4}setFrame(t,e,i,s,a){let r=this.frames;r[t<<=2]=e,r[t+1]=i,r[t+2]=s,r[t+3]=a}apply(t,i,s,a,r,n,l){let o=t.pathConstraints[this.pathConstraintIndex];if(!o.active)return;let h,d,c,u=this.frames;if(s<u[0]){switch(n){case e.setup:return o.mixRotate=o.data.mixRotate,o.mixX=o.data.mixX,void(o.mixY=o.data.mixY);case e.first:o.mixRotate+=(o.data.mixRotate-o.mixRotate)*r,o.mixX+=(o.data.mixX-o.mixX)*r,o.mixY+=(o.data.mixY-o.mixY)*r}return}let m=Timeline.search(u,s,4),g=this.curves[m>>2];switch(g){case 0:let t=u[m];h=u[m+1],d=u[m+2],c=u[m+3];let e=(s-t)/(u[m+4]-t);h+=(u[m+4+1]-h)*e,d+=(u[m+4+2]-d)*e,c+=(u[m+4+3]-c)*e;break;case 1:h=u[m+1],d=u[m+2],c=u[m+3];break;default:h=this.getBezierValue(s,m,1,g-2),d=this.getBezierValue(s,m,2,g+18-2),c=this.getBezierValue(s,m,3,g+36-2)}if(n==e.setup){let t=o.data;o.mixRotate=t.mixRotate+(h-t.mixRotate)*r,o.mixX=t.mixX+(d-t.mixX)*r,o.mixY=t.mixY+(c-t.mixY)*r}else o.mixRotate+=(h-o.mixRotate)*r,o.mixX+=(d-o.mixX)*r,o.mixY+=(c-o.mixY)*r}}}(spine||(spine={})),function(t){class AnimationState{static emptyAnimation(){return i||(i=new t.Animation("<empty>",[],0)),i}constructor(e){this.data=null,this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new EventQueue(this),this.propertyIDs=new t.StringSet,this.animationsChanged=!1,this.trackEntryPool=new t.Pool((()=>new TrackEntry)),this.data=e}update(t){t*=this.timeScale;let e=this.tracks;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(!s)continue;s.animationLast=s.nextAnimationLast,s.trackLast=s.nextTrackLast;let a=t*s.timeScale;if(s.delay>0){if(s.delay-=a,s.delay>0)continue;a=-s.delay,s.delay=0}let r=s.next;if(r){let e=s.trackLast-r.delay;if(e>=0){for(r.delay=0,r.trackTime+=0==s.timeScale?0:(e/s.timeScale+t)*r.timeScale,s.trackTime+=a,this.setCurrent(i,r,!0);r.mixingFrom;)r.mixTime+=t,r=r.mixingFrom;continue}}else if(s.trackLast>=s.trackEnd&&!s.mixingFrom){e[i]=null,this.queue.end(s),this.clearNext(s);continue}if(s.mixingFrom&&this.updateMixingFrom(s,t)){let t=s.mixingFrom;for(s.mixingFrom=null,t&&(t.mixingTo=null);t;)this.queue.end(t),t=t.mixingFrom}s.trackTime+=a}this.queue.drain()}updateMixingFrom(t,e){let i=t.mixingFrom;if(!i)return!0;let s=this.updateMixingFrom(i,e);return i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=i.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=i.mixingFrom,i.mixingFrom&&(i.mixingFrom.mixingTo=t),t.interruptAlpha=i.interruptAlpha,this.queue.end(i)),s):(i.trackTime+=e*i.timeScale,t.mixTime+=e,!1)}apply(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();let i=this.events,s=this.tracks,a=!1;for(let n=0,l=s.length;n<l;n++){let l=s[n];if(!l||l.delay>0)continue;a=!0;let o=0==n?t.MixBlend.first:l.mixBlend,h=l.alpha;l.mixingFrom?h*=this.applyMixingFrom(l,e,o):l.trackTime>=l.trackEnd&&!l.next&&(h=0);let d=l.animationLast,c=l.getAnimationTime(),u=c,m=i;l.reverse&&(u=l.animation.duration-u,m=null);let g=l.animation.timelines,f=g.length;if(0==n&&1==h||o==t.MixBlend.add)for(let i=0;i<f;i++){t.Utils.webkit602BugfixHelper(h,o);var r=g[i];r instanceof t.AttachmentTimeline?this.applyAttachmentTimeline(r,e,u,o,!0):r.apply(e,d,u,m,h,o,t.MixDirection.mixIn)}else{let i=l.timelineMode,s=l.timelinesRotation.length!=f<<1;s&&(l.timelinesRotation.length=f<<1);for(let a=0;a<f;a++){let r=g[a],n=i[a]==t.SUBSEQUENT?o:t.MixBlend.setup;r instanceof t.RotateTimeline?this.applyRotateTimeline(r,e,u,h,n,l.timelinesRotation,a<<1,s):r instanceof t.AttachmentTimeline?this.applyAttachmentTimeline(r,e,u,o,!0):(t.Utils.webkit602BugfixHelper(h,o),r.apply(e,d,u,m,h,n,t.MixDirection.mixIn))}}this.queueEvents(l,c),i.length=0,l.nextAnimationLast=c,l.nextTrackLast=l.trackTime}for(var n=this.unkeyedState+t.SETUP,l=e.slots,o=0,h=e.slots.length;o<h;o++){var d=l[o];if(d.attachmentState==n){var c=d.data.attachmentName;d.setAttachment(c?e.getAttachment(d.data.index,c):null)}}return this.unkeyedState+=2,this.queue.drain(),a}applyMixingFrom(e,i,s){let a=e.mixingFrom;a.mixingFrom&&this.applyMixingFrom(a,i,s);let r=0;0==e.mixDuration?(r=1,s==t.MixBlend.first&&(s=t.MixBlend.setup)):(r=e.mixTime/e.mixDuration,r>1&&(r=1),s!=t.MixBlend.first&&(s=a.mixBlend));let n=r<a.attachmentThreshold,l=r<a.drawOrderThreshold,o=a.animation.timelines,h=o.length,d=a.alpha*e.interruptAlpha,c=d*(1-r),u=a.animationLast,m=a.getAnimationTime(),g=m,f=null;if(a.reverse?g=a.animation.duration-g:r<a.eventThreshold&&(f=this.events),s==t.MixBlend.add)for(let e=0;e<h;e++)o[e].apply(i,u,g,f,c,s,t.MixDirection.mixOut);else{let e=a.timelineMode,r=a.timelineHoldMix,m=a.timelinesRotation.length!=h<<1;m&&(a.timelinesRotation.length=h<<1),a.totalAlpha=0;for(let p=0;p<h;p++){let h,x=o[p],w=t.MixDirection.mixOut,b=0;switch(e[p]){case t.SUBSEQUENT:if(!l&&x instanceof t.DrawOrderTimeline)continue;h=s,b=c;break;case t.FIRST:h=t.MixBlend.setup,b=c;break;case t.HOLD_SUBSEQUENT:h=s,b=d;break;case t.HOLD_FIRST:h=t.MixBlend.setup,b=d;break;default:h=t.MixBlend.setup;let e=r[p];b=d*Math.max(0,1-e.mixTime/e.mixDuration)}a.totalAlpha+=b,x instanceof t.RotateTimeline?this.applyRotateTimeline(x,i,g,b,h,a.timelinesRotation,p<<1,m):x instanceof t.AttachmentTimeline?this.applyAttachmentTimeline(x,i,g,h,n):(t.Utils.webkit602BugfixHelper(b,s),l&&x instanceof t.DrawOrderTimeline&&h==t.MixBlend.setup&&(w=t.MixDirection.mixIn),x.apply(i,u,g,f,b,h,w))}}return e.mixDuration>0&&this.queueEvents(a,m),this.events.length=0,a.nextAnimationLast=m,a.nextTrackLast=a.trackTime,r}applyAttachmentTimeline(e,i,s,a,r){var n=i.slots[e.slotIndex];n.bone.active&&(s<e.frames[0]?a!=t.MixBlend.setup&&a!=t.MixBlend.first||this.setAttachment(i,n,n.data.attachmentName,r):this.setAttachment(i,n,e.attachmentNames[t.Timeline.search1(e.frames,s)],r),n.attachmentState<=this.unkeyedState&&(n.attachmentState=this.unkeyedState+t.SETUP))}setAttachment(e,i,s,a){i.setAttachment(s?e.getAttachment(i.data.index,s):null),a&&(i.attachmentState=this.unkeyedState+t.CURRENT)}applyRotateTimeline(e,i,s,a,r,n,l,o){if(o&&(n[l]=0),1==a)return void e.apply(i,0,s,null,1,r,t.MixDirection.mixIn);let h=i.bones[e.boneIndex];if(!h.active)return;let d=0,c=0;if(s<e.frames[0])switch(r){case t.MixBlend.setup:h.rotation=h.data.rotation;default:return;case t.MixBlend.first:d=h.rotation,c=h.data.rotation}else d=r==t.MixBlend.setup?h.data.rotation:h.rotation,c=h.data.rotation+e.getCurveValue(s);let u=0,m=c-d;if(m-=360*(16384-(16384.499999999996-m/360|0)),0==m)u=n[l];else{let e=0,i=0;o?(e=0,i=m):(e=n[l],i=n[l+1]);let s=m>0,a=e>=0;t.MathUtils.signum(i)!=t.MathUtils.signum(m)&&Math.abs(i)<=90&&(Math.abs(e)>180&&(e+=360*t.MathUtils.signum(e)),a=s),u=m+e-e%360,a!=s&&(u+=360*t.MathUtils.signum(e)),n[l]=u}n[l+1]=m,h.rotation=d+u*a}queueEvents(t,e){let i=t.animationStart,s=t.animationEnd,a=s-i,r=t.trackLast%a,n=this.events,l=0,o=n.length;for(;l<o;l++){let e=n[l];if(e.time<r)break;e.time>s||this.queue.event(t,e)}let h=!1;for(h=t.loop?0==a||r>t.trackTime%a:e>=s&&t.animationLast<s,h&&this.queue.complete(t);l<o;l++){let e=n[l];e.time<i||this.queue.event(t,e)}}clearTracks(){let t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let t=0,e=this.tracks.length;t<e;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}clearTrack(t){if(t>=this.tracks.length)return;let e=this.tracks[t];if(!e)return;this.queue.end(e),this.clearNext(e);let i=e;for(;;){let t=i.mixingFrom;if(!t)break;this.queue.end(t),i.mixingFrom=null,i.mixingTo=null,i=t}this.tracks[e.trackIndex]=null,this.queue.drain()}setCurrent(t,e,i){let s=this.expandToIndex(t);this.tracks[t]=e,e.previous=null,s&&(i&&this.queue.interrupt(s),e.mixingFrom=s,s.mixingTo=e,e.mixTime=0,s.mixingFrom&&s.mixDuration>0&&(e.interruptAlpha*=Math.min(1,s.mixTime/s.mixDuration)),s.timelinesRotation.length=0),this.queue.start(e)}setAnimation(t,e,i=!1){let s=this.data.skeletonData.findAnimation(e);if(!s)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,s,i)}setAnimationWith(t,e,i=!1){if(!e)throw new Error("animation cannot be null.");let s=!0,a=this.expandToIndex(t);a&&(-1==a.nextTrackLast?(this.tracks[t]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.clearNext(a),a=a.mixingFrom,s=!1):this.clearNext(a));let r=this.trackEntry(t,e,i,a);return this.setCurrent(t,r,s),this.queue.drain(),r}addAnimation(t,e,i=!1,s=0){let a=this.data.skeletonData.findAnimation(e);if(!a)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,a,i,s)}addAnimationWith(t,e,i=!1,s=0){if(!e)throw new Error("animation cannot be null.");let a=this.expandToIndex(t);if(a)for(;a.next;)a=a.next;let r=this.trackEntry(t,e,i,a);return a?(a.next=r,r.previous=a,s<=0&&(s+=a.getTrackComplete()-r.mixDuration)):(this.setCurrent(t,r,!0),this.queue.drain()),r.delay=s,r}setEmptyAnimation(t,e=0){let i=this.setAnimationWith(t,AnimationState.emptyAnimation(),!1);return i.mixDuration=e,i.trackEnd=e,i}addEmptyAnimation(t,e=0,i=0){let s=this.addAnimationWith(t,AnimationState.emptyAnimation(),!1,i);return i<=0&&(s.delay+=s.mixDuration-e),s.mixDuration=e,s.trackEnd=e,s}setEmptyAnimations(t=0){let e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let e=0,i=this.tracks.length;e<i;e++){let i=this.tracks[e];i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}expandToIndex(e){return e<this.tracks.length?this.tracks[e]:(t.Utils.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)}trackEntry(e,i,s,a){let r=this.trackEntryPool.obtain();return r.reset(),r.trackIndex=e,r.animation=i,r.loop=s,r.holdPrevious=!1,r.eventThreshold=0,r.attachmentThreshold=0,r.drawOrderThreshold=0,r.animationStart=0,r.animationEnd=i.duration,r.animationLast=-1,r.nextAnimationLast=-1,r.delay=0,r.trackTime=0,r.trackLast=-1,r.nextTrackLast=-1,r.trackEnd=Number.MAX_VALUE,r.timeScale=1,r.alpha=1,r.interruptAlpha=1,r.mixTime=0,r.mixDuration=a?this.data.getMix(a.animation,i):0,r.mixBlend=t.MixBlend.replace,r}clearNext(t){let e=t.next;for(;e;)this.queue.dispose(e),e=e.next;t.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();let e=this.tracks;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s){for(;s.mixingFrom;)s=s.mixingFrom;do{s.mixingTo&&s.mixBlend==t.MixBlend.add||this.computeHold(s),s=s.mixingTo}while(s)}}}computeHold(e){let i=e.mixingTo,s=e.animation.timelines,a=e.animation.timelines.length,r=e.timelineMode;r.length=a;let n=e.timelineHoldMix;n.length=0;let l=this.propertyIDs;if(i&&i.holdPrevious)for(let e=0;e<a;e++)r[e]=l.addAll(s[e].getPropertyIds())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;else t:for(let o=0;o<a;o++){let a=s[o],h=a.getPropertyIds();if(l.addAll(h))if(!i||a instanceof t.AttachmentTimeline||a instanceof t.DrawOrderTimeline||a instanceof t.EventTimeline||!i.animation.hasTimeline(h))r[o]=t.FIRST;else{for(let s=i.mixingTo;s;s=s.mixingTo)if(!s.animation.hasTimeline(h)){if(e.mixDuration>0){r[o]=t.HOLD_MIX,n[o]=s;continue t}break}r[o]=t.HOLD_FIRST}else r[o]=t.SUBSEQUENT}}getCurrent(t){return t>=this.tracks.length?null:this.tracks[t]}addListener(t){if(!t)throw new Error("listener cannot be null.");this.listeners.push(t)}removeListener(t){let e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}}t.AnimationState=AnimationState;class TrackEntry{constructor(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=t.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}reset(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){let t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(t){this.animationLast=t,this.nextAnimationLast=t}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}getTrackComplete(){let t=this.animationEnd-this.animationStart;if(0!=t){if(this.loop)return t*(1+(this.trackTime/t|0));if(this.trackTime<t)return t}return this.trackTime}}t.TrackEntry=TrackEntry;class EventQueue{constructor(t){this.objects=[],this.drainDisabled=!1,this.animState=null,this.animState=t}start(t){this.objects.push(e.start),this.objects.push(t),this.animState.animationsChanged=!0}interrupt(t){this.objects.push(e.interrupt),this.objects.push(t)}end(t){this.objects.push(e.end),this.objects.push(t),this.animState.animationsChanged=!0}dispose(t){this.objects.push(e.dispose),this.objects.push(t)}complete(t){this.objects.push(e.complete),this.objects.push(t)}event(t,i){this.objects.push(e.event),this.objects.push(t),this.objects.push(i)}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;let t=this.objects,i=this.animState.listeners;for(let s=0;s<t.length;s+=2){let a=t[s],r=t[s+1];switch(a){case e.start:r.listener&&r.listener.start&&r.listener.start(r);for(let t=0;t<i.length;t++)i[t].start&&i[t].start(r);break;case e.interrupt:r.listener&&r.listener.interrupt&&r.listener.interrupt(r);for(let t=0;t<i.length;t++)i[t].interrupt&&i[t].interrupt(r);break;case e.end:r.listener&&r.listener.end&&r.listener.end(r);for(let t=0;t<i.length;t++)i[t].end&&i[t].end(r);case e.dispose:r.listener&&r.listener.dispose&&r.listener.dispose(r);for(let t=0;t<i.length;t++)i[t].dispose&&i[t].dispose(r);this.animState.trackEntryPool.free(r);break;case e.complete:r.listener&&r.listener.complete&&r.listener.complete(r);for(let t=0;t<i.length;t++)i[t].complete&&i[t].complete(r);break;case e.event:let a=t[2+s++];r.listener&&r.listener.event&&r.listener.event(r,a);for(let t=0;t<i.length;t++)i[t].event&&i[t].event(r,a)}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}}let e;t.EventQueue=EventQueue,function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(e=t.EventType||(t.EventType={}));t.AnimationStateAdapter=class{start(t){}interrupt(t){}end(t){}dispose(t){}complete(t){}event(t,e){}},t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2;let i=null}(spine||(spine={})),function(t){t.AnimationStateData=class{constructor(t){if(this.skeletonData=null,this.animationToMixTime={},this.defaultMix=0,!t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}setMix(t,e,i){let s=this.skeletonData.findAnimation(t);if(!s)throw new Error("Animation not found: "+t);let a=this.skeletonData.findAnimation(e);if(!a)throw new Error("Animation not found: "+e);this.setMixWith(s,a,i)}setMixWith(t,e,i){if(!t)throw new Error("from cannot be null.");if(!e)throw new Error("to cannot be null.");let s=t.name+"."+e.name;this.animationToMixTime[s]=i}getMix(t,e){let i=t.name+"."+e.name,s=this.animationToMixTime[i];return void 0===s?this.defaultMix:s}}}(spine||(spine={})),function(t){t.AssetManagerBase=class{constructor(t,e="",i=null){this.pathPrefix=null,this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.textureLoader=t,this.pathPrefix=e,this.downloader=i||new Downloader}start(t){return this.toLoad++,this.pathPrefix+t}success(t,e,i){this.toLoad--,this.loaded++,this.assets[e]=i,t&&t(e,i)}error(t,e,i){this.toLoad--,this.loaded++,this.errors[e]=i,t&&t(e,i)}loadAll(){return new Promise(((t,e)=>{let check=()=>{this.isLoadingComplete()?this.hasErrors()?e(this.errors):t(this):requestAnimationFrame(check)};requestAnimationFrame(check)}))}setRawDataURI(t,e){this.downloader.rawDataUris[this.pathPrefix+t]=e}loadBinary(t,e=null,i=null){t=this.start(t),this.downloader.downloadBinary(t,(i=>{this.success(e,t,i)}),((e,s)=>{this.error(i,t,`Couldn't load binary ${t}: status ${e}, ${s}`)}))}loadText(t,e=null,i=null){t=this.start(t),this.downloader.downloadText(t,(i=>{this.success(e,t,i)}),((e,s)=>{this.error(i,t,`Couldn't load text ${t}: status ${e}, ${s}`)}))}loadJson(t,e=null,i=null){t=this.start(t),this.downloader.downloadJson(t,(i=>{this.success(e,t,i)}),((e,s)=>{this.error(i,t,`Couldn't load JSON ${t}: status ${e}, ${s}`)}))}loadTexture(t,e=null,i=null){if(t=this.start(t),!!("undefined"==typeof window||"undefined"==typeof navigator||!window.document))fetch(t,{mode:"cors"}).then((e=>e.ok?e.blob():(this.error(i,t,`Couldn't load image: ${t}`),null))).then((t=>t?createImageBitmap(t,{premultiplyAlpha:"none",colorSpaceConversion:"none"}):null)).then((i=>{i&&this.success(e,t,this.textureLoader(i))}));else{let s=new Image;s.crossOrigin="anonymous",s.onload=()=>{this.success(e,t,this.textureLoader(s))},s.onerror=()=>{this.error(i,t,`Couldn't load image: ${t}`)},this.downloader.rawDataUris[t]&&(t=this.downloader.rawDataUris[t]),s.src=t}}loadTextureAtlas(e,i=null,s=null,a=null){let r=e.lastIndexOf("/"),n=r>=0?e.substring(0,r+1):"";e=this.start(e),this.downloader.downloadText(e,(r=>{try{let l=new t.TextureAtlas(r),o=l.pages.length,h=!1;for(let t of l.pages)this.loadTexture(null==a?n+t.name:a[t.name],((s,a)=>{h||(t.setTexture(a),0==--o&&this.success(i,e,l))}),((t,i)=>{h||this.error(s,e,`Couldn't load texture atlas ${e} page image: ${t}`),h=!0}))}catch(t){this.error(s,e,`Couldn't parse texture atlas ${e}: ${t.message}`)}}),((t,i)=>{this.error(s,e,`Couldn't load texture atlas ${e}: status ${t}, ${i}`)}))}get(t){return this.assets[this.pathPrefix+t]}require(t){t=this.pathPrefix+t;let e=this.assets[t];if(e)return e;let i=this.errors[t];throw Error("Asset not found: "+t+(i?"\n"+i:""))}remove(t){t=this.pathPrefix+t;let e=this.assets[t];return e.dispose&&e.dispose(),delete this.assets[t],e}removeAll(){for(let t in this.assets){let e=this.assets[t];e.dispose&&e.dispose()}this.assets={}}isLoadingComplete(){return 0==this.toLoad}getToLoad(){return this.toLoad}getLoaded(){return this.loaded}dispose(){this.removeAll()}hasErrors(){return Object.keys(this.errors).length>0}getErrors(){return this.errors}};class Downloader{constructor(){this.callbacks={},this.rawDataUris={}}dataUriToString(t){if(!t.startsWith("data:"))throw new Error("Not a data URI.");let e=t.indexOf("base64,");return-1!=e?(e+="base64,".length,atob(t.substr(e))):t.substr(t.indexOf(",")+1)}base64ToUint8Array(t){for(var e=window.atob(t),i=e.length,s=new Uint8Array(i),a=0;a<i;a++)s[a]=e.charCodeAt(a);return s}dataUriToUint8Array(t){if(!t.startsWith("data:"))throw new Error("Not a data URI.");let e=t.indexOf("base64,");if(-1==e)throw new Error("Not a binary data URI.");return e+="base64,".length,this.base64ToUint8Array(t.substr(e))}downloadText(t,e,i){if(this.start(t,e,i))return;if(this.rawDataUris[t]){try{let e=this.rawDataUris[t];this.finish(t,200,this.dataUriToString(e))}catch(e){this.finish(t,400,JSON.stringify(e))}return}let s=new XMLHttpRequest;s.overrideMimeType("text/html"),s.open("GET",t,!0);let done=()=>{this.finish(t,s.status,s.responseText)};s.onload=done,s.onerror=done,s.send()}downloadJson(t,e,i){this.downloadText(t,(t=>{e(JSON.parse(t))}),i)}downloadBinary(t,e,i){if(this.start(t,e,i))return;if(this.rawDataUris[t]){try{let e=this.rawDataUris[t];this.finish(t,200,this.dataUriToUint8Array(e))}catch(e){this.finish(t,400,JSON.stringify(e))}return}let s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer";let onerror=()=>{this.finish(t,s.status,s.response)};s.onload=()=>{200==s.status||0==s.status?this.finish(t,200,new Uint8Array(s.response)):onerror()},s.onerror=onerror,s.send()}start(t,e,i){let s=this.callbacks[t];try{if(s)return!0;this.callbacks[t]=s=[]}finally{s.push(e,i)}}finish(t,e,i){let s=this.callbacks[t];delete this.callbacks[t];let a=200==e||0==e?[i]:[e,i];for(let t=a.length-1,e=s.length;t<e;t+=2)s[t].apply(null,a)}}t.Downloader=Downloader}(spine||(spine={})),function(t){t.AtlasAttachmentLoader=class{constructor(t){this.atlas=null,this.atlas=t}newRegionAttachment(e,i,s){let a=this.atlas.findRegion(s);if(!a)throw new Error("Region not found in atlas: "+s+" (region attachment: "+i+")");a.renderObject=a;let r=new t.RegionAttachment(i);return r.setRegion(a),r}newMeshAttachment(e,i,s){let a=this.atlas.findRegion(s);if(!a)throw new Error("Region not found in atlas: "+s+" (mesh attachment: "+i+")");a.renderObject=a;let r=new t.MeshAttachment(i);return r.region=a,r}newBoundingBoxAttachment(e,i){return new t.BoundingBoxAttachment(i)}newPathAttachment(e,i){return new t.PathAttachment(i)}newPointAttachment(e,i){return new t.PointAttachment(i)}newClippingAttachment(e,i){return new t.ClippingAttachment(i)}}}(spine||(spine={})),function(t){t.Bone=class{constructor(t,e,i){if(this.data=null,this.skeleton=null,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=i,this.setToSetupPose()}isActive(){return this.active}update(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(e,i,s,a,r,n,l){this.ax=e,this.ay=i,this.arotation=s,this.ascaleX=a,this.ascaleY=r,this.ashearX=n,this.ashearY=l;let o=this.parent;if(!o){let o=this.skeleton,h=s+90+l,d=o.scaleX,c=o.scaleY;return this.a=t.MathUtils.cosDeg(s+n)*a*d,this.b=t.MathUtils.cosDeg(h)*r*d,this.c=t.MathUtils.sinDeg(s+n)*a*c,this.d=t.MathUtils.sinDeg(h)*r*c,this.worldX=e*d+o.x,void(this.worldY=i*c+o.y)}let h=o.a,d=o.b,c=o.c,u=o.d;switch(this.worldX=h*e+d*i+o.worldX,this.worldY=c*e+u*i+o.worldY,this.data.transformMode){case t.TransformMode.Normal:{let e=s+90+l,i=t.MathUtils.cosDeg(s+n)*a,o=t.MathUtils.cosDeg(e)*r,m=t.MathUtils.sinDeg(s+n)*a,g=t.MathUtils.sinDeg(e)*r;return this.a=h*i+d*m,this.b=h*o+d*g,this.c=c*i+u*m,void(this.d=c*o+u*g)}case t.TransformMode.OnlyTranslation:{let e=s+90+l;this.a=t.MathUtils.cosDeg(s+n)*a,this.b=t.MathUtils.cosDeg(e)*r,this.c=t.MathUtils.sinDeg(s+n)*a,this.d=t.MathUtils.sinDeg(e)*r;break}case t.TransformMode.NoRotationOrReflection:{let e=h*h+c*c,i=0;e>1e-4?(e=Math.abs(h*u-d*c)/e,h/=this.skeleton.scaleX,c/=this.skeleton.scaleY,d=c*e,u=h*e,i=Math.atan2(c,h)*t.MathUtils.radDeg):(h=0,c=0,i=90-Math.atan2(u,d)*t.MathUtils.radDeg);let o=s+n-i,m=s+l-i+90,g=t.MathUtils.cosDeg(o)*a,f=t.MathUtils.cosDeg(m)*r,p=t.MathUtils.sinDeg(o)*a,x=t.MathUtils.sinDeg(m)*r;this.a=h*g-d*p,this.b=h*f-d*x,this.c=c*g+u*p,this.d=c*f+u*x;break}case t.TransformMode.NoScale:case t.TransformMode.NoScaleOrReflection:{let e=t.MathUtils.cosDeg(s),i=t.MathUtils.sinDeg(s),o=(h*e+d*i)/this.skeleton.scaleX,m=(c*e+u*i)/this.skeleton.scaleY,g=Math.sqrt(o*o+m*m);g>1e-5&&(g=1/g),o*=g,m*=g,g=Math.sqrt(o*o+m*m),this.data.transformMode==t.TransformMode.NoScale&&h*u-d*c<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(g=-g);let f=Math.PI/2+Math.atan2(m,o),p=Math.cos(f)*g,x=Math.sin(f)*g,w=t.MathUtils.cosDeg(n)*a,b=t.MathUtils.cosDeg(90+l)*r,y=t.MathUtils.sinDeg(n)*a,T=t.MathUtils.sinDeg(90+l)*r;this.a=o*w+p*y,this.b=o*b+p*T,this.c=m*w+x*y,this.d=m*b+x*T;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY}setToSetupPose(){let t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY}getWorldRotationX(){return Math.atan2(this.c,this.a)*t.MathUtils.radDeg}getWorldRotationY(){return Math.atan2(this.d,this.b)*t.MathUtils.radDeg}getWorldScaleX(){return Math.sqrt(this.a*this.a+this.c*this.c)}getWorldScaleY(){return Math.sqrt(this.b*this.b+this.d*this.d)}updateAppliedTransform(){let e=this.parent;if(!e)return this.ax=this.worldX-this.skeleton.x,this.ay=this.worldY-this.skeleton.y,this.arotation=Math.atan2(this.c,this.a)*t.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*t.MathUtils.radDeg);let i=e.a,s=e.b,a=e.c,r=e.d,n=1/(i*r-s*a),l=this.worldX-e.worldX,o=this.worldY-e.worldY;this.ax=l*r*n-o*s*n,this.ay=o*i*n-l*a*n;let h=n*r,d=n*i,c=n*s,u=n*a,m=h*this.a-c*this.c,g=h*this.b-c*this.d,f=d*this.c-u*this.a,p=d*this.d-u*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(m*m+f*f),this.ascaleX>1e-4){let e=m*p-g*f;this.ascaleY=e/this.ascaleX,this.ashearY=Math.atan2(m*g+f*p,e)*t.MathUtils.radDeg,this.arotation=Math.atan2(f,m)*t.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(g*g+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,g)*t.MathUtils.radDeg}worldToLocal(t){let e=1/(this.a*this.d-this.b*this.c),i=t.x-this.worldX,s=t.y-this.worldY;return t.x=i*this.d*e-s*this.b*e,t.y=s*this.a*e-i*this.c*e,t}localToWorld(t){let e=t.x,i=t.y;return t.x=e*this.a+i*this.b+this.worldX,t.y=e*this.c+i*this.d+this.worldY,t}worldToLocalRotation(e){let i=t.MathUtils.sinDeg(e),s=t.MathUtils.cosDeg(e);return Math.atan2(this.a*i-this.c*s,this.d*s-this.b*i)*t.MathUtils.radDeg+this.rotation-this.shearX}localToWorldRotation(e){e-=this.rotation-this.shearX;let i=t.MathUtils.sinDeg(e),s=t.MathUtils.cosDeg(e);return Math.atan2(s*this.c+i*this.d,s*this.a+i*this.b)*t.MathUtils.radDeg}rotateWorld(e){let i=this.a,s=this.b,a=this.c,r=this.d,n=t.MathUtils.cosDeg(e),l=t.MathUtils.sinDeg(e);this.a=n*i-l*a,this.b=n*s-l*r,this.c=l*i+n*a,this.d=l*s+n*r}}}(spine||(spine={})),function(t){let e;t.BoneData=class{constructor(i,s,a){if(this.index=0,this.name=null,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=e.Normal,this.skinRequired=!1,this.color=new t.Color,i<0)throw new Error("index must be >= 0.");if(!s)throw new Error("name cannot be null.");this.index=i,this.name=s,this.parent=a}},function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(e=t.TransformMode||(t.TransformMode={}))}(spine||(spine={})),function(t){t.ConstraintData=class{constructor(t,e,i){this.name=t,this.order=e,this.skinRequired=i}}}(spine||(spine={})),function(t){t.Event=class{constructor(t,e){if(this.data=null,this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!e)throw new Error("data cannot be null.");this.time=t,this.data=e}}}(spine||(spine={})),function(t){t.EventData=class{constructor(t){this.name=null,this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=t}}}(spine||(spine={})),function(t){t.IkConstraint=class{constructor(t,e){if(this.data=null,this.bones=null,this.target=null,this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(let i=0;i<t.bones.length;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findBone(t.target.name)}isActive(){return this.active}update(){if(0==this.mix)return;let t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}apply1(e,i,s,a,r,n,l){let o=e.parent,h=o.a,d=o.b,c=o.c,u=o.d,m=-e.ashearX-e.arotation,g=0,f=0;switch(e.data.transformMode){case t.TransformMode.OnlyTranslation:g=i-e.worldX,f=s-e.worldY;break;case t.TransformMode.NoRotationOrReflection:let a=Math.abs(h*u-d*c)/(h*h+c*c),r=h/e.skeleton.scaleX,n=c/e.skeleton.scaleY;d=-n*a*e.skeleton.scaleX,u=r*a*e.skeleton.scaleY,m+=Math.atan2(n,r)*t.MathUtils.radDeg;default:let l=i-o.worldX,p=s-o.worldY,x=h*u-d*c;g=(l*u-p*d)/x-e.ax,f=(p*h-l*c)/x-e.ay}m+=Math.atan2(f,g)*t.MathUtils.radDeg,e.ascaleX<0&&(m+=180),m>180?m-=360:m<-180&&(m+=360);let p=e.ascaleX,x=e.ascaleY;if(a||r){switch(e.data.transformMode){case t.TransformMode.NoScale:case t.TransformMode.NoScaleOrReflection:g=i-e.worldX,f=s-e.worldY}let o=e.data.length*p,h=Math.sqrt(g*g+f*f);if(a&&h<o||r&&h>o&&o>1e-4){let t=(h/o-1)*l+1;p*=t,n&&(x*=t)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+m*l,p,x,e.ashearX,e.ashearY)}apply2(e,i,s,a,r,n,l,o,h){let d=e.ax,c=e.ay,u=e.ascaleX,m=e.ascaleY,g=u,f=m,p=i.ascaleX,x=0,w=0,b=0;u<0?(u=-u,x=180,b=-1):(x=0,b=1),m<0&&(m=-m,b=-b),p<0?(p=-p,w=180):w=0;let y=i.ax,T=0,A=0,M=0,k=e.a,C=e.b,S=e.c,v=e.d,I=Math.abs(u-m)<=1e-4;!I||n?(T=0,A=k*y+e.worldX,M=S*y+e.worldY):(T=i.ay,A=k*y+C*T+e.worldX,M=S*y+v*T+e.worldY);let Y=e.parent;k=Y.a,C=Y.b,S=Y.c,v=Y.d;let V,F,X=1/(k*v-C*S),B=A-Y.worldX,U=M-Y.worldY,R=(B*v-U*C)*X-d,P=(U*k-B*S)*X-c,E=Math.sqrt(R*R+P*P),D=i.data.length*p;if(E<1e-4)return this.apply1(e,s,a,!1,n,!1,h),void i.updateWorldTransformWith(y,T,0,i.ascaleX,i.ascaleY,i.ashearX,i.ashearY);B=s-Y.worldX,U=a-Y.worldY;let L=(B*v-U*C)*X-d,N=(U*k-B*S)*X-c,O=L*L+N*N;if(0!=o){o*=u*(p+1)*.5;let t=Math.sqrt(O),e=t-E-D*u+o;if(e>0){let i=Math.min(1,e/(2*o))-1;i=(e-o*(1-i*i))/t,L-=i*L,N-=i*N,O=L*L+N*N}}t:if(I){D*=u;let t=(O-E*E-D*D)/(2*E*D);t<-1?(t=-1,F=Math.PI*r):t>1?(t=1,F=0,n&&(k=(Math.sqrt(O)/(E+D)-1)*h+1,g*=k,l&&(f*=k))):F=Math.acos(t)*r,k=E+D*t,C=D*Math.sin(F),V=Math.atan2(N*k-L*C,L*k+N*C)}else{k=u*D,C=m*D;let e=k*k,i=C*C,s=Math.atan2(N,L);S=i*E*E+e*O-e*i;let a=-2*i*E,n=i-e;if(v=a*a-4*n*S,v>=0){let t=Math.sqrt(v);a<0&&(t=-t),t=.5*-(a+t);let e=t/n,i=S/t,l=Math.abs(e)<Math.abs(i)?e:i;if(l*l<=O){U=Math.sqrt(O-l*l)*r,V=s-Math.atan2(U,l),F=Math.atan2(U/m,(l-E)/u);break t}}let l=t.MathUtils.PI,o=E-k,h=o*o,d=0,c=0,g=E+k,f=g*g,p=0;S=-k*E/(e-i),S>=-1&&S<=1&&(S=Math.acos(S),B=k*Math.cos(S)+E,U=C*Math.sin(S),v=B*B+U*U,v<h&&(l=S,h=v,o=B,d=U),v>f&&(c=S,f=v,g=B,p=U)),O<=.5*(h+f)?(V=s-Math.atan2(d*r,o),F=l*r):(V=s-Math.atan2(p*r,g),F=c*r)}let z=Math.atan2(T,y)*b,W=e.arotation;V=(V-z)*t.MathUtils.radDeg+x-W,V>180?V-=360:V<-180&&(V+=360),e.updateWorldTransformWith(d,c,W+V*h,g,f,0,0),W=i.arotation,F=((F+z)*t.MathUtils.radDeg-i.ashearX)*b+w-W,F>180?F-=360:F<-180&&(F+=360),i.updateWorldTransformWith(y,T,W+F*h,i.ascaleX,i.ascaleY,i.ashearX,i.ashearY)}}}(spine||(spine={})),function(t){class IkConstraintData extends t.ConstraintData{constructor(t){super(t,0,!1),this.bones=new Array,this.target=null,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.softness=0}}t.IkConstraintData=IkConstraintData}(spine||(spine={})),function(t){class PathConstraint{constructor(t,e){if(this.data=null,this.bones=null,this.target=null,this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(let i=0,s=t.bones.length;i<s;i++)this.bones.push(e.findBone(t.bones[i].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}isActive(){return this.active}update(){let e=this.target.getAttachment();if(!(e instanceof t.PathAttachment))return;let i=this.mixRotate,s=this.mixX,a=this.mixY;if(0==i&&0==s&&0==a)return;let r=this.data,n=r.rotateMode==t.RotateMode.Tangent,l=r.rotateMode==t.RotateMode.ChainScale,o=this.bones,h=o.length,d=n?h:h+1,c=t.Utils.setArraySize(this.spaces,d),u=l?this.lengths=t.Utils.setArraySize(this.lengths,h):null,m=this.spacing;switch(r.spacingMode){case t.SpacingMode.Percent:if(l)for(let t=0,e=d-1;t<e;t++){let e=o[t],i=e.data.length;if(i<PathConstraint.epsilon)u[t]=0;else{let s=i*e.a,a=i*e.c;u[t]=Math.sqrt(s*s+a*a)}}t.Utils.arrayFill(c,1,d,m);break;case t.SpacingMode.Proportional:let e=0;for(let t=0,i=d-1;t<i;){let i=o[t],s=i.data.length;if(s<PathConstraint.epsilon)l&&(u[t]=0),c[++t]=m;else{let a=s*i.a,r=s*i.c,n=Math.sqrt(a*a+r*r);l&&(u[t]=n),c[++t]=n,e+=n}}if(e>0){e=d/e*m;for(let t=1;t<d;t++)c[t]*=e}break;default:let i=r.spacingMode==t.SpacingMode.Length;for(let t=0,e=d-1;t<e;){let e=o[t],s=e.data.length;if(s<PathConstraint.epsilon)l&&(u[t]=0),c[++t]=m;else{let a=s*e.a,r=s*e.c,n=Math.sqrt(a*a+r*r);l&&(u[t]=n),c[++t]=(i?s+m:m)*n/s}}}let g=this.computeWorldPositions(e,d,n),f=g[0],p=g[1],x=r.offsetRotation,w=!1;if(0==x)w=r.rotateMode==t.RotateMode.Chain;else{w=!1;let e=this.target.bone;x*=e.a*e.d-e.b*e.c>0?t.MathUtils.degRad:-t.MathUtils.degRad}for(let e=0,r=3;e<h;e++,r+=3){let h=o[e];h.worldX+=(f-h.worldX)*s,h.worldY+=(p-h.worldY)*a;let d=g[r],m=g[r+1],b=d-f,y=m-p;if(l){let t=u[e];if(0!=t){let e=(Math.sqrt(b*b+y*y)/t-1)*i+1;h.a*=e,h.c*=e}}if(f=d,p=m,i>0){let s=h.a,a=h.b,l=h.c,o=h.d,d=0,u=0,m=0;if(d=n?g[r-1]:0==c[e+1]?g[r+2]:Math.atan2(y,b),d-=Math.atan2(l,s),w){u=Math.cos(d),m=Math.sin(d);let t=h.data.length;f+=(t*(u*s-m*l)-b)*i,p+=(t*(m*s+u*l)-y)*i}else d+=x;d>t.MathUtils.PI?d-=t.MathUtils.PI2:d<-t.MathUtils.PI&&(d+=t.MathUtils.PI2),d*=i,u=Math.cos(d),m=Math.sin(d),h.a=u*s-m*l,h.b=u*a-m*o,h.c=m*s+u*l,h.d=m*a+u*o}h.updateAppliedTransform()}}computeWorldPositions(e,i,s){let a=this.target,r=this.position,n=this.spaces,l=t.Utils.setArraySize(this.positions,3*i+2),o=null,h=e.closed,d=e.worldVerticesLength,c=d/6,u=PathConstraint.NONE;if(!e.constantSpeed){let m=e.lengths;c-=h?1:2;let g,f=m[c];switch(this.data.positionMode==t.PositionMode.Percent&&(r*=f),this.data.spacingMode){case t.SpacingMode.Percent:g=f;break;case t.SpacingMode.Proportional:g=f/i;break;default:g=1}o=t.Utils.setArraySize(this.world,8);for(let t=0,p=0,x=0;t<i;t++,p+=3){let i=n[t]*g;r+=i;let w=r;if(h)w%=f,w<0&&(w+=f),x=0;else{if(w<0){u!=PathConstraint.BEFORE&&(u=PathConstraint.BEFORE,e.computeWorldVertices(a,2,4,o,0,2)),this.addBeforePosition(w,o,0,l,p);continue}if(w>f){u!=PathConstraint.AFTER&&(u=PathConstraint.AFTER,e.computeWorldVertices(a,d-6,4,o,0,2)),this.addAfterPosition(w-f,o,0,l,p);continue}}for(;;x++){let t=m[x];if(!(w>t)){if(0==x)w/=t;else{let e=m[x-1];w=(w-e)/(t-e)}break}}x!=u&&(u=x,h&&x==c?(e.computeWorldVertices(a,d-4,4,o,0,2),e.computeWorldVertices(a,0,4,o,4,2)):e.computeWorldVertices(a,6*x+2,8,o,0,2)),this.addCurvePosition(w,o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],l,p,s||t>0&&0==i)}return l}h?(d+=2,o=t.Utils.setArraySize(this.world,d),e.computeWorldVertices(a,2,d-4,o,0,2),e.computeWorldVertices(a,0,2,o,d-4,2),o[d-2]=o[0],o[d-1]=o[1]):(c--,d-=4,o=t.Utils.setArraySize(this.world,d),e.computeWorldVertices(a,2,d,o,0,2));let m,g=t.Utils.setArraySize(this.curves,c),f=0,p=o[0],x=o[1],w=0,b=0,y=0,T=0,A=0,M=0,k=0,C=0,S=0,v=0,I=0,Y=0,V=0,F=0;for(let t=0,e=2;t<c;t++,e+=6)w=o[e],b=o[e+1],y=o[e+2],T=o[e+3],A=o[e+4],M=o[e+5],k=.1875*(p-2*w+y),C=.1875*(x-2*b+T),S=.09375*(3*(w-y)-p+A),v=.09375*(3*(b-T)-x+M),I=2*k+S,Y=2*C+v,V=.75*(w-p)+k+.16666667*S,F=.75*(b-x)+C+.16666667*v,f+=Math.sqrt(V*V+F*F),V+=I,F+=Y,I+=S,Y+=v,f+=Math.sqrt(V*V+F*F),V+=I,F+=Y,f+=Math.sqrt(V*V+F*F),V+=I+S,F+=Y+v,f+=Math.sqrt(V*V+F*F),g[t]=f,p=A,x=M;switch(this.data.positionMode==t.PositionMode.Percent&&(r*=f),this.data.spacingMode){case t.SpacingMode.Percent:m=f;break;case t.SpacingMode.Proportional:m=f/i;break;default:m=1}let X=this.segments,B=0;for(let t=0,e=0,a=0,c=0;t<i;t++,e+=3){let i=n[t]*m;r+=i;let U=r;if(h)U%=f,U<0&&(U+=f),a=0;else{if(U<0){this.addBeforePosition(U,o,0,l,e);continue}if(U>f){this.addAfterPosition(U-f,o,d-4,l,e);continue}}for(;;a++){let t=g[a];if(!(U>t)){if(0==a)U/=t;else{let e=g[a-1];U=(U-e)/(t-e)}break}}if(a!=u){u=a;let t=6*a;for(p=o[t],x=o[t+1],w=o[t+2],b=o[t+3],y=o[t+4],T=o[t+5],A=o[t+6],M=o[t+7],k=.03*(p-2*w+y),C=.03*(x-2*b+T),S=.006*(3*(w-y)-p+A),v=.006*(3*(b-T)-x+M),I=2*k+S,Y=2*C+v,V=.3*(w-p)+k+.16666667*S,F=.3*(b-x)+C+.16666667*v,B=Math.sqrt(V*V+F*F),X[0]=B,t=1;t<8;t++)V+=I,F+=Y,I+=S,Y+=v,B+=Math.sqrt(V*V+F*F),X[t]=B;V+=I,F+=Y,B+=Math.sqrt(V*V+F*F),X[8]=B,V+=I+S,F+=Y+v,B+=Math.sqrt(V*V+F*F),X[9]=B,c=0}for(U*=B;;c++){let t=X[c];if(!(U>t)){if(0==c)U/=t;else{let e=X[c-1];U=c+(U-e)/(t-e)}break}}this.addCurvePosition(.1*U,p,x,w,b,y,T,A,M,l,e,s||t>0&&0==i)}return l}addBeforePosition(t,e,i,s,a){let r=e[i],n=e[i+1],l=e[i+2]-r,o=e[i+3]-n,h=Math.atan2(o,l);s[a]=r+t*Math.cos(h),s[a+1]=n+t*Math.sin(h),s[a+2]=h}addAfterPosition(t,e,i,s,a){let r=e[i+2],n=e[i+3],l=r-e[i],o=n-e[i+1],h=Math.atan2(o,l);s[a]=r+t*Math.cos(h),s[a+1]=n+t*Math.sin(h),s[a+2]=h}addCurvePosition(t,e,i,s,a,r,n,l,o,h,d,c){if(0==t||isNaN(t))return h[d]=e,h[d+1]=i,void(h[d+2]=Math.atan2(a-i,s-e));let u=t*t,m=u*t,g=1-t,f=g*g,p=f*g,x=g*t,w=3*x,b=g*w,y=w*t,T=e*p+s*b+r*y+l*m,A=i*p+a*b+n*y+o*m;h[d]=T,h[d+1]=A,c&&(h[d+2]=t<.001?Math.atan2(a-i,s-e):Math.atan2(A-(i*f+a*x*2+n*u),T-(e*f+s*x*2+r*u)))}}PathConstraint.NONE=-1,PathConstraint.BEFORE=-2,PathConstraint.AFTER=-3,PathConstraint.epsilon=1e-5,t.PathConstraint=PathConstraint}(spine||(spine={})),function(t){class PathConstraintData extends t.ConstraintData{constructor(t){super(t,0,!1),this.bones=new Array,this.target=null,this.positionMode=null,this.spacingMode=null,this.rotateMode=null,this.offsetRotation=0,this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0}}let e,i,s;t.PathConstraintData=PathConstraintData,function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"}(e=t.PositionMode||(t.PositionMode={})),function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"}(i=t.SpacingMode||(t.SpacingMode={})),function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(s=t.RotateMode||(t.RotateMode={}))}(spine||(spine={})),function(t){t.Skeleton=class{constructor(e){if(this.data=null,this.bones=null,this.slots=null,this.drawOrder=null,this.ikConstraints=null,this.transformConstraints=null,this.pathConstraints=null,this._updateCache=new Array,this.skin=null,this.color=null,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(let i=0;i<e.bones.length;i++){let s,a=e.bones[i];if(a.parent){let e=this.bones[a.parent.index];s=new t.Bone(a,this,e),e.children.push(s)}else s=new t.Bone(a,this,null);this.bones.push(s)}this.slots=new Array,this.drawOrder=new Array;for(let i=0;i<e.slots.length;i++){let s=e.slots[i],a=this.bones[s.boneData.index],r=new t.Slot(s,a);this.slots.push(r),this.drawOrder.push(r)}this.ikConstraints=new Array;for(let i=0;i<e.ikConstraints.length;i++){let s=e.ikConstraints[i];this.ikConstraints.push(new t.IkConstraint(s,this))}this.transformConstraints=new Array;for(let i=0;i<e.transformConstraints.length;i++){let s=e.transformConstraints[i];this.transformConstraints.push(new t.TransformConstraint(s,this))}this.pathConstraints=new Array;for(let i=0;i<e.pathConstraints.length;i++){let s=e.pathConstraints[i];this.pathConstraints.push(new t.PathConstraint(s,this))}this.color=new t.Color(1,1,1,1),this.updateCache()}updateCache(){this._updateCache.length=0;let t=this.bones;for(let e=0,i=t.length;e<i;e++){let i=t[e];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(this.skin){let t=this.skin.bones;for(let e=0,i=this.skin.bones.length;e<i;e++){let i=this.bones[t[e].index];do{i.sorted=!1,i.active=!0,i=i.parent}while(i)}}let e=this.ikConstraints,i=this.transformConstraints,s=this.pathConstraints,a=e.length,r=i.length,n=s.length,l=a+r+n;t:for(let t=0;t<l;t++){for(let i=0;i<a;i++){let s=e[i];if(s.data.order==t){this.sortIkConstraint(s);continue t}}for(let e=0;e<r;e++){let s=i[e];if(s.data.order==t){this.sortTransformConstraint(s);continue t}}for(let e=0;e<n;e++){let i=s[e];if(i.data.order==t){this.sortPathConstraint(i);continue t}}}for(let e=0,i=t.length;e<i;e++)this.sortBone(t[e])}sortIkConstraint(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),!e.active)return;let i=e.target;this.sortBone(i);let s=e.bones,a=s[0];if(this.sortBone(a),1==s.length)this._updateCache.push(e),this.sortReset(a.children);else{let t=s[s.length-1];this.sortBone(t),this._updateCache.push(e),this.sortReset(a.children),t.sorted=!0}}sortPathConstraint(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),!e.active)return;let i=e.target,s=i.data.index,a=i.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,s,a),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,s,a);for(let t=0,e=this.data.skins.length;t<e;t++)this.sortPathConstraintAttachment(this.data.skins[t],s,a);let r=i.getAttachment();r instanceof t.PathAttachment&&this.sortPathConstraintAttachmentWith(r,a);let n=e.bones,l=n.length;for(let t=0;t<l;t++)this.sortBone(n[t]);this._updateCache.push(e);for(let t=0;t<l;t++)this.sortReset(n[t].children);for(let t=0;t<l;t++)n[t].sorted=!0}sortTransformConstraint(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),!e.active)return;this.sortBone(e.target);let i=e.bones,s=i.length;if(e.data.local)for(let t=0;t<s;t++){let e=i[t];this.sortBone(e.parent),this.sortBone(e)}else for(let t=0;t<s;t++)this.sortBone(i[t]);this._updateCache.push(e);for(let t=0;t<s;t++)this.sortReset(i[t].children);for(let t=0;t<s;t++)i[t].sorted=!0}sortPathConstraintAttachment(t,e,i){let s=t.attachments[e];if(s)for(let t in s)this.sortPathConstraintAttachmentWith(s[t],i)}sortPathConstraintAttachmentWith(e,i){if(!(e instanceof t.PathAttachment))return;let s=e.bones;if(s){let t=this.bones;for(let e=0,i=s.length;e<i;){let i=s[e++];for(i+=e;e<i;)this.sortBone(t[s[e++]])}}else this.sortBone(i)}sortBone(t){if(t.sorted)return;let e=t.parent;e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}sortReset(t){for(let e=0,i=t.length;e<i;e++){let i=t[e];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}}updateWorldTransform(){let t=this.bones;for(let e=0,i=t.length;e<i;e++){let i=t[e];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}let e=this._updateCache;for(let t=0,i=e.length;t<i;t++)e[t].update()}updateWorldTransformWith(e){let i=this.getRootBone(),s=e.a,a=e.b,r=e.c,n=e.d;i.worldX=s*this.x+a*this.y+e.worldX,i.worldY=r*this.x+n*this.y+e.worldY;let l=i.rotation+90+i.shearY,o=t.MathUtils.cosDeg(i.rotation+i.shearX)*i.scaleX,h=t.MathUtils.cosDeg(l)*i.scaleY,d=t.MathUtils.sinDeg(i.rotation+i.shearX)*i.scaleX,c=t.MathUtils.sinDeg(l)*i.scaleY;i.a=(s*o+a*d)*this.scaleX,i.b=(s*h+a*c)*this.scaleX,i.c=(r*o+n*d)*this.scaleY,i.d=(r*h+n*c)*this.scaleY;let u=this._updateCache;for(let t=0,e=u.length;t<e;t++){let e=u[t];e!=i&&e.update()}}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){let t=this.bones;for(let e=0,i=t.length;e<i;e++)t[e].setToSetupPose();let e=this.ikConstraints;for(let t=0,i=e.length;t<i;t++){let i=e[t];i.mix=i.data.mix,i.softness=i.data.softness,i.bendDirection=i.data.bendDirection,i.compress=i.data.compress,i.stretch=i.data.stretch}let i=this.transformConstraints;for(let t=0,e=i.length;t<e;t++){let e=i[t],s=e.data;e.mixRotate=s.mixRotate,e.mixX=s.mixX,e.mixY=s.mixY,e.mixScaleX=s.mixScaleX,e.mixScaleY=s.mixScaleY,e.mixShearY=s.mixShearY}let s=this.pathConstraints;for(let t=0,e=s.length;t<e;t++){let e=s[t],i=e.data;e.position=i.position,e.spacing=i.spacing,e.mixRotate=i.mixRotate,e.mixX=i.mixX,e.mixY=i.mixY}}setSlotsToSetupPose(){let e=this.slots;t.Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(let t=0,i=e.length;t<i;t++)e[t].setToSetupPose()}getRootBone(){return 0==this.bones.length?null:this.bones[0]}findBone(t){if(!t)throw new Error("boneName cannot be null.");let e=this.bones;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s.data.name==t)return s}return null}findSlot(t){if(!t)throw new Error("slotName cannot be null.");let e=this.slots;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s.data.name==t)return s}return null}setSkinByName(t){let e=this.data.findSkin(t);if(!e)throw new Error("Skin not found: "+t);this.setSkin(e)}setSkin(t){if(t!=this.skin){if(t)if(this.skin)t.attachAll(this,this.skin);else{let e=this.slots;for(let i=0,s=e.length;i<s;i++){let s=e[i],a=s.data.attachmentName;if(a){let e=t.getAttachment(i,a);e&&s.setAttachment(e)}}}this.skin=t,this.updateCache()}}getAttachmentByName(t,e){return this.getAttachment(this.data.findSlot(t).index,e)}getAttachment(t,e){if(!e)throw new Error("attachmentName cannot be null.");if(this.skin){let i=this.skin.getAttachment(t,e);if(i)return i}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}setAttachment(t,e){if(!t)throw new Error("slotName cannot be null.");let i=this.slots;for(let s=0,a=i.length;s<a;s++){let a=i[s];if(a.data.name==t){let i=null;if(e&&(i=this.getAttachment(s,e),!i))throw new Error("Attachment not found: "+e+", for slot: "+t);return void a.setAttachment(i)}}throw new Error("Slot not found: "+t)}findIkConstraint(t){if(!t)throw new Error("constraintName cannot be null.");let e=this.ikConstraints;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s.data.name==t)return s}return null}findTransformConstraint(t){if(!t)throw new Error("constraintName cannot be null.");let e=this.transformConstraints;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s.data.name==t)return s}return null}findPathConstraint(t){if(!t)throw new Error("constraintName cannot be null.");let e=this.pathConstraints;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s.data.name==t)return s}return null}getBoundsRect(){let e=new t.Vector2,i=new t.Vector2;return this.getBounds(e,i),{x:e.x,y:e.y,width:i.x,height:i.y}}getBounds(e,i,s=new Array(2)){if(!e)throw new Error("offset cannot be null.");if(!i)throw new Error("size cannot be null.");let a=this.drawOrder,r=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(let e=0,i=a.length;e<i;e++){let i=a[e];if(!i.bone.active)continue;let h=0,d=null,c=i.getAttachment();if(c instanceof t.RegionAttachment)h=8,d=t.Utils.setArraySize(s,h,0),c.computeWorldVertices(i.bone,d,0,2);else if(c instanceof t.MeshAttachment){let e=c;h=e.worldVerticesLength,d=t.Utils.setArraySize(s,h,0),e.computeWorldVertices(i,0,h,d,0,2)}if(d)for(let t=0,e=d.length;t<e;t+=2){let e=d[t],i=d[t+1];r=Math.min(r,e),n=Math.min(n,i),l=Math.max(l,e),o=Math.max(o,i)}}e.set(r,n),i.set(l-r,o-n)}update(t){this.time+=t}}}(spine||(spine={})),function(t){t.SkeletonBinary=class{constructor(t){this.scale=1,this.attachmentLoader=null,this.linkedMeshes=new Array,this.attachmentLoader=t}readSkeletonData(e){let i=this.scale,s=new t.SkeletonData;s.name="";let a=new BinaryInput(e),r=a.readInt32(),n=a.readInt32();s.hash=0==n&&0==r?null:n.toString(16)+r.toString(16),s.version=a.readString(),s.x=a.readFloat(),s.y=a.readFloat(),s.width=a.readFloat(),s.height=a.readFloat();let l=a.readBoolean();l&&(s.fps=a.readFloat(),s.imagesPath=a.readString(),s.audioPath=a.readString());let o=0;o=a.readInt(!0);for(let t=0;t<o;t++)a.strings.push(a.readString());o=a.readInt(!0);for(let e=0;e<o;e++){let r=a.readString(),n=0==e?null:s.bones[a.readInt(!0)],o=new t.BoneData(e,r,n);o.rotation=a.readFloat(),o.x=a.readFloat()*i,o.y=a.readFloat()*i,o.scaleX=a.readFloat(),o.scaleY=a.readFloat(),o.shearX=a.readFloat(),o.shearY=a.readFloat(),o.length=a.readFloat()*i,o.transformMode=a.readInt(!0),o.skinRequired=a.readBoolean(),l&&t.Color.rgba8888ToColor(o.color,a.readInt32()),s.bones.push(o)}o=a.readInt(!0);for(let e=0;e<o;e++){let i=a.readString(),r=s.bones[a.readInt(!0)],n=new t.SlotData(e,i,r);t.Color.rgba8888ToColor(n.color,a.readInt32());let l=a.readInt32();-1!=l&&t.Color.rgb888ToColor(n.darkColor=new t.Color,l),n.attachmentName=a.readStringRef(),n.blendMode=a.readInt(!0),s.slots.push(n)}o=a.readInt(!0);for(let e,r=0;r<o;r++){let r=new t.IkConstraintData(a.readString());r.order=a.readInt(!0),r.skinRequired=a.readBoolean(),e=a.readInt(!0);for(let t=0;t<e;t++)r.bones.push(s.bones[a.readInt(!0)]);r.target=s.bones[a.readInt(!0)],r.mix=a.readFloat(),r.softness=a.readFloat()*i,r.bendDirection=a.readByte(),r.compress=a.readBoolean(),r.stretch=a.readBoolean(),r.uniform=a.readBoolean(),s.ikConstraints.push(r)}o=a.readInt(!0);for(let e,r=0;r<o;r++){let r=new t.TransformConstraintData(a.readString());r.order=a.readInt(!0),r.skinRequired=a.readBoolean(),e=a.readInt(!0);for(let t=0;t<e;t++)r.bones.push(s.bones[a.readInt(!0)]);r.target=s.bones[a.readInt(!0)],r.local=a.readBoolean(),r.relative=a.readBoolean(),r.offsetRotation=a.readFloat(),r.offsetX=a.readFloat()*i,r.offsetY=a.readFloat()*i,r.offsetScaleX=a.readFloat(),r.offsetScaleY=a.readFloat(),r.offsetShearY=a.readFloat(),r.mixRotate=a.readFloat(),r.mixX=a.readFloat(),r.mixY=a.readFloat(),r.mixScaleX=a.readFloat(),r.mixScaleY=a.readFloat(),r.mixShearY=a.readFloat(),s.transformConstraints.push(r)}o=a.readInt(!0);for(let e,r=0;r<o;r++){let r=new t.PathConstraintData(a.readString());r.order=a.readInt(!0),r.skinRequired=a.readBoolean(),e=a.readInt(!0);for(let t=0;t<e;t++)r.bones.push(s.bones[a.readInt(!0)]);r.target=s.slots[a.readInt(!0)],r.positionMode=a.readInt(!0),r.spacingMode=a.readInt(!0),r.rotateMode=a.readInt(!0),r.offsetRotation=a.readFloat(),r.position=a.readFloat(),r.positionMode==t.PositionMode.Fixed&&(r.position*=i),r.spacing=a.readFloat(),r.spacingMode!=t.SpacingMode.Length&&r.spacingMode!=t.SpacingMode.Fixed||(r.spacing*=i),r.mixRotate=a.readFloat(),r.mixX=a.readFloat(),r.mixY=a.readFloat(),s.pathConstraints.push(r)}let h=this.readSkin(a,s,!0,l);h&&(s.defaultSkin=h,s.skins.push(h));{let e=s.skins.length;for(t.Utils.setArraySize(s.skins,o=e+a.readInt(!0));e<o;e++)s.skins[e]=this.readSkin(a,s,!1,l)}o=this.linkedMeshes.length;for(let t=0;t<o;t++){let e=this.linkedMeshes[t],i=(e.skin?s.findSkin(e.skin):s.defaultSkin).getAttachment(e.slotIndex,e.parent);e.mesh.deformAttachment=e.inheritDeform?i:e.mesh,e.mesh.setParentMesh(i),e.mesh.updateUVs()}this.linkedMeshes.length=0,o=a.readInt(!0);for(let e=0;e<o;e++){let e=new t.EventData(a.readStringRef());e.intValue=a.readInt(!1),e.floatValue=a.readFloat(),e.stringValue=a.readString(),e.audioPath=a.readString(),e.audioPath&&(e.volume=a.readFloat(),e.balance=a.readFloat()),s.events.push(e)}o=a.readInt(!0);for(let t=0;t<o;t++)s.animations.push(this.readAnimation(a,a.readString(),s));return s}readSkin(e,i,s,a){let r=null,n=0;if(s){if(n=e.readInt(!0),0==n)return null;r=new t.Skin("default")}else{r=new t.Skin(e.readStringRef()),r.bones.length=e.readInt(!0);for(let t=0,s=r.bones.length;t<s;t++)r.bones[t]=i.bones[e.readInt(!0)];for(let t=0,s=e.readInt(!0);t<s;t++)r.constraints.push(i.ikConstraints[e.readInt(!0)]);for(let t=0,s=e.readInt(!0);t<s;t++)r.constraints.push(i.transformConstraints[e.readInt(!0)]);for(let t=0,s=e.readInt(!0);t<s;t++)r.constraints.push(i.pathConstraints[e.readInt(!0)]);n=e.readInt(!0)}for(let t=0;t<n;t++){let t=e.readInt(!0);for(let s=0,n=e.readInt(!0);s<n;s++){let s=e.readStringRef(),n=this.readAttachment(e,i,r,t,s,a);n&&r.setAttachment(t,s,n)}}return r}readAttachment(i,s,a,r,n,l){let o=this.scale,h=i.readStringRef();switch(h||(h=n),i.readByte()){case e.Region:{let e=i.readStringRef(),s=i.readFloat(),r=i.readFloat(),n=i.readFloat(),l=i.readFloat(),d=i.readFloat(),c=i.readFloat(),u=i.readFloat(),m=i.readInt32();e||(e=h);let g=this.attachmentLoader.newRegionAttachment(a,h,e);return g?(g.path=e,g.x=r*o,g.y=n*o,g.scaleX=l,g.scaleY=d,g.rotation=s,g.width=c*o,g.height=u*o,t.Color.rgba8888ToColor(g.color,m),g.updateOffset(),g):null}case e.BoundingBox:{let e=i.readInt(!0),s=this.readVertices(i,e),r=l?i.readInt32():0,n=this.attachmentLoader.newBoundingBoxAttachment(a,h);return n?(n.worldVerticesLength=e<<1,n.vertices=s.vertices,n.bones=s.bones,l&&t.Color.rgba8888ToColor(n.color,r),n):null}case e.Mesh:{let e=i.readStringRef(),s=i.readInt32(),r=i.readInt(!0),n=this.readFloatArray(i,r<<1,1),d=this.readShortArray(i),c=this.readVertices(i,r),u=i.readInt(!0),m=null,g=0,f=0;l&&(m=this.readShortArray(i),g=i.readFloat(),f=i.readFloat()),e||(e=h);let p=this.attachmentLoader.newMeshAttachment(a,h,e);return p?(p.path=e,t.Color.rgba8888ToColor(p.color,s),p.bones=c.bones,p.vertices=c.vertices,p.worldVerticesLength=r<<1,p.triangles=d,p.regionUVs=n,p.updateUVs(),p.hullLength=u<<1,l&&(p.edges=m,p.width=g*o,p.height=f*o),p):null}case e.LinkedMesh:{let e=i.readStringRef(),s=i.readInt32(),n=i.readStringRef(),d=i.readStringRef(),c=i.readBoolean(),u=0,m=0;l&&(u=i.readFloat(),m=i.readFloat()),e||(e=h);let g=this.attachmentLoader.newMeshAttachment(a,h,e);return g?(g.path=e,t.Color.rgba8888ToColor(g.color,s),l&&(g.width=u*o,g.height=m*o),this.linkedMeshes.push(new LinkedMesh(g,n,r,d,c)),g):null}case e.Path:{let e=i.readBoolean(),s=i.readBoolean(),r=i.readInt(!0),n=this.readVertices(i,r),d=t.Utils.newArray(r/3,0);for(let t=0,e=d.length;t<e;t++)d[t]=i.readFloat()*o;let c=l?i.readInt32():0,u=this.attachmentLoader.newPathAttachment(a,h);return u?(u.closed=e,u.constantSpeed=s,u.worldVerticesLength=r<<1,u.vertices=n.vertices,u.bones=n.bones,u.lengths=d,l&&t.Color.rgba8888ToColor(u.color,c),u):null}case e.Point:{let e=i.readFloat(),s=i.readFloat(),r=i.readFloat(),n=l?i.readInt32():0,d=this.attachmentLoader.newPointAttachment(a,h);return d?(d.x=s*o,d.y=r*o,d.rotation=e,l&&t.Color.rgba8888ToColor(d.color,n),d):null}case e.Clipping:{let e=i.readInt(!0),r=i.readInt(!0),n=this.readVertices(i,r),o=l?i.readInt32():0,d=this.attachmentLoader.newClippingAttachment(a,h);return d?(d.endSlot=s.slots[e],d.worldVerticesLength=r<<1,d.vertices=n.vertices,d.bones=n.bones,l&&t.Color.rgba8888ToColor(d.color,o),d):null}}return null}readVertices(e,i){let s=this.scale,a=i<<1,r=new Vertices;if(!e.readBoolean())return r.vertices=this.readFloatArray(e,a,s),r;let n=new Array,l=new Array;for(let t=0;t<i;t++){let t=e.readInt(!0);l.push(t);for(let i=0;i<t;i++)l.push(e.readInt(!0)),n.push(e.readFloat()*s),n.push(e.readFloat()*s),n.push(e.readFloat())}return r.vertices=t.Utils.toFloatArray(n),r.bones=l,r}readFloatArray(t,e,i){let s=new Array(e);if(1==i)for(let i=0;i<e;i++)s[i]=t.readFloat();else for(let a=0;a<e;a++)s[a]=t.readFloat()*i;return s}readShortArray(t){let e=t.readInt(!0),i=new Array(e);for(let s=0;s<e;s++)i[s]=t.readShort();return i}readAnimation(e,M,k){e.readInt(!0);let C=new Array,S=this.scale;new t.Color,new t.Color;for(let i=0,s=e.readInt(!0);i<s;i++){let i=e.readInt(!0);for(let s=0,a=e.readInt(!0);s<a;s++){let s=e.readByte(),a=e.readInt(!0),r=a-1;switch(s){case u:{let s=new t.AttachmentTimeline(a,i);for(let t=0;t<a;t++)s.setFrame(t,e.readFloat(),e.readStringRef());C.push(s);break}case m:{let s=e.readInt(!0),n=new t.RGBATimeline(a,s,i),l=e.readFloat(),o=e.readUnsignedByte()/255,h=e.readUnsignedByte()/255,d=e.readUnsignedByte()/255,c=e.readUnsignedByte()/255;for(let t=0,i=0;n.setFrame(t,l,o,h,d,c),t!=r;t++){let s=e.readFloat(),a=e.readUnsignedByte()/255,r=e.readUnsignedByte()/255,u=e.readUnsignedByte()/255,m=e.readUnsignedByte()/255;switch(e.readByte()){case T:n.setStepped(t);break;case A:setBezier(e,n,i++,t,0,l,s,o,a,1),setBezier(e,n,i++,t,1,l,s,h,r,1),setBezier(e,n,i++,t,2,l,s,d,u,1),setBezier(e,n,i++,t,3,l,s,c,m,1)}l=s,o=a,h=r,d=u,c=m}C.push(n);break}case g:{let s=e.readInt(!0),n=new t.RGBTimeline(a,s,i),l=e.readFloat(),o=e.readUnsignedByte()/255,h=e.readUnsignedByte()/255,d=e.readUnsignedByte()/255;for(let t=0,i=0;n.setFrame(t,l,o,h,d),t!=r;t++){let s=e.readFloat(),a=e.readUnsignedByte()/255,r=e.readUnsignedByte()/255,c=e.readUnsignedByte()/255;switch(e.readByte()){case T:n.setStepped(t);break;case A:setBezier(e,n,i++,t,0,l,s,o,a,1),setBezier(e,n,i++,t,1,l,s,h,r,1),setBezier(e,n,i++,t,2,l,s,d,c,1)}l=s,o=a,h=r,d=c}C.push(n);break}case f:{let s=e.readInt(!0),n=new t.RGBA2Timeline(a,s,i),l=e.readFloat(),o=e.readUnsignedByte()/255,h=e.readUnsignedByte()/255,d=e.readUnsignedByte()/255,c=e.readUnsignedByte()/255,u=e.readUnsignedByte()/255,m=e.readUnsignedByte()/255,g=e.readUnsignedByte()/255;for(let t=0,i=0;n.setFrame(t,l,o,h,d,c,u,m,g),t!=r;t++){let s=e.readFloat(),a=e.readUnsignedByte()/255,r=e.readUnsignedByte()/255,f=e.readUnsignedByte()/255,p=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255;switch(e.readByte()){case T:n.setStepped(t);break;case A:setBezier(e,n,i++,t,0,l,s,o,a,1),setBezier(e,n,i++,t,1,l,s,h,r,1),setBezier(e,n,i++,t,2,l,s,d,f,1),setBezier(e,n,i++,t,3,l,s,c,p,1),setBezier(e,n,i++,t,4,l,s,u,x,1),setBezier(e,n,i++,t,5,l,s,m,w,1),setBezier(e,n,i++,t,6,l,s,g,b,1)}l=s,o=a,h=r,d=f,c=p,u=x,m=w,g=b}C.push(n);break}case p:{let s=e.readInt(!0),n=new t.RGB2Timeline(a,s,i),l=e.readFloat(),o=e.readUnsignedByte()/255,h=e.readUnsignedByte()/255,d=e.readUnsignedByte()/255,c=e.readUnsignedByte()/255,u=e.readUnsignedByte()/255,m=e.readUnsignedByte()/255;for(let t=0,i=0;n.setFrame(t,l,o,h,d,c,u,m),t!=r;t++){let s=e.readFloat(),a=e.readUnsignedByte()/255,r=e.readUnsignedByte()/255,g=e.readUnsignedByte()/255,f=e.readUnsignedByte()/255,p=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255;switch(e.readByte()){case T:n.setStepped(t);break;case A:setBezier(e,n,i++,t,0,l,s,o,a,1),setBezier(e,n,i++,t,1,l,s,h,r,1),setBezier(e,n,i++,t,2,l,s,d,g,1),setBezier(e,n,i++,t,3,l,s,c,f,1),setBezier(e,n,i++,t,4,l,s,u,p,1),setBezier(e,n,i++,t,5,l,s,m,x,1)}l=s,o=a,h=r,d=g,c=f,u=p,m=x}C.push(n);break}case x:{let s=new t.AlphaTimeline(a,e.readInt(!0),i),n=e.readFloat(),l=e.readUnsignedByte()/255;for(let t=0,i=0;s.setFrame(t,n,l),t!=r;t++){let a=e.readFloat(),r=e.readUnsignedByte()/255;switch(e.readByte()){case T:s.setStepped(t);break;case A:setBezier(e,s,i++,t,0,n,a,l,r,1)}n=a,l=r}C.push(s);break}}}}for(let u=0,m=e.readInt(!0);u<m;u++){let u=e.readInt(!0);for(let m=0,g=e.readInt(!0);m<g;m++){let m=e.readByte(),g=e.readInt(!0),f=e.readInt(!0);switch(m){case i:C.push(readTimeline1(e,new t.RotateTimeline(g,f,u),1));break;case s:C.push(readTimeline2(e,new t.TranslateTimeline(g,f,u),S));break;case a:C.push(readTimeline1(e,new t.TranslateXTimeline(g,f,u),S));break;case r:C.push(readTimeline1(e,new t.TranslateYTimeline(g,f,u),S));break;case n:C.push(readTimeline2(e,new t.ScaleTimeline(g,f,u),1));break;case l:C.push(readTimeline1(e,new t.ScaleXTimeline(g,f,u),1));break;case o:C.push(readTimeline1(e,new t.ScaleYTimeline(g,f,u),1));break;case h:C.push(readTimeline2(e,new t.ShearTimeline(g,f,u),1));break;case d:C.push(readTimeline1(e,new t.ShearXTimeline(g,f,u),1));break;case c:C.push(readTimeline1(e,new t.ShearYTimeline(g,f,u),1))}}}for(let i=0,s=e.readInt(!0);i<s;i++){let i=e.readInt(!0),s=e.readInt(!0),a=s-1,r=new t.IkConstraintTimeline(s,e.readInt(!0),i),n=e.readFloat(),l=e.readFloat(),o=e.readFloat()*S;for(let t=0,i=0;r.setFrame(t,n,l,o,e.readByte(),e.readBoolean(),e.readBoolean()),t!=a;t++){let s=e.readFloat(),a=e.readFloat(),h=e.readFloat()*S;switch(e.readByte()){case T:r.setStepped(t);break;case A:setBezier(e,r,i++,t,0,n,s,l,a,1),setBezier(e,r,i++,t,1,n,s,o,h,S)}n=s,l=a,o=h}C.push(r)}for(let i=0,s=e.readInt(!0);i<s;i++){let i=e.readInt(!0),s=e.readInt(!0),a=s-1,r=new t.TransformConstraintTimeline(s,e.readInt(!0),i),n=e.readFloat(),l=e.readFloat(),o=e.readFloat(),h=e.readFloat(),d=e.readFloat(),c=e.readFloat(),u=e.readFloat();for(let t=0,i=0;r.setFrame(t,n,l,o,h,d,c,u),t!=a;t++){let s=e.readFloat(),a=e.readFloat(),m=e.readFloat(),g=e.readFloat(),f=e.readFloat(),p=e.readFloat(),x=e.readFloat();switch(e.readByte()){case T:r.setStepped(t);break;case A:setBezier(e,r,i++,t,0,n,s,l,a,1),setBezier(e,r,i++,t,1,n,s,o,m,1),setBezier(e,r,i++,t,2,n,s,h,g,1),setBezier(e,r,i++,t,3,n,s,d,f,1),setBezier(e,r,i++,t,4,n,s,c,p,1),setBezier(e,r,i++,t,5,n,s,u,x,1)}n=s,l=a,o=m,h=g,d=f,c=p,u=x}C.push(r)}for(let i=0,s=e.readInt(!0);i<s;i++){let i=e.readInt(!0),s=k.pathConstraints[i];for(let a=0,r=e.readInt(!0);a<r;a++)switch(e.readByte()){case w:C.push(readTimeline1(e,new t.PathConstraintPositionTimeline(e.readInt(!0),e.readInt(!0),i),s.positionMode==t.PositionMode.Fixed?S:1));break;case b:C.push(readTimeline1(e,new t.PathConstraintSpacingTimeline(e.readInt(!0),e.readInt(!0),i),s.spacingMode==t.SpacingMode.Length||s.spacingMode==t.SpacingMode.Fixed?S:1));break;case y:let a=new t.PathConstraintMixTimeline(e.readInt(!0),e.readInt(!0),i),r=e.readFloat(),n=e.readFloat(),l=e.readFloat(),o=e.readFloat();for(let t=0,i=0,s=a.getFrameCount()-1;a.setFrame(t,r,n,l,o),t!=s;t++){let s=e.readFloat(),h=e.readFloat(),d=e.readFloat(),c=e.readFloat();switch(e.readByte()){case T:a.setStepped(t);break;case A:setBezier(e,a,i++,t,0,r,s,n,h,1),setBezier(e,a,i++,t,1,r,s,l,d,1),setBezier(e,a,i++,t,2,r,s,o,c,1)}r=s,n=h,l=d,o=c}C.push(a)}}for(let i=0,s=e.readInt(!0);i<s;i++){let i=k.skins[e.readInt(!0)];for(let s=0,a=e.readInt(!0);s<a;s++){let s=e.readInt(!0);for(let a=0,r=e.readInt(!0);a<r;a++){let a=e.readStringRef(),r=i.getAttachment(s,a),n=r.bones,l=r.vertices,o=n?l.length/3*2:l.length,h=e.readInt(!0),d=h-1,c=e.readInt(!0),u=new t.DeformTimeline(h,c,s,r),m=e.readFloat();for(let i=0,s=0;;i++){let a,r=e.readInt(!0);if(0==r)a=n?t.Utils.newFloatArray(o):l;else{a=t.Utils.newFloatArray(o);let i=e.readInt(!0);if(r+=i,1==S)for(let t=i;t<r;t++)a[t]=e.readFloat();else for(let t=i;t<r;t++)a[t]=e.readFloat()*S;if(!n)for(let t=0,e=a.length;t<e;t++)a[t]+=l[t]}if(u.setFrame(i,m,a),i==d)break;let h=e.readFloat();switch(e.readByte()){case T:u.setStepped(i);break;case A:setBezier(e,u,s++,i,0,m,h,0,1,1)}m=h}C.push(u)}}}let v=e.readInt(!0);if(v>0){let i=new t.DrawOrderTimeline(v),s=k.slots.length;for(let a=0;a<v;a++){let r=e.readFloat(),n=e.readInt(!0),l=t.Utils.newArray(s,0);for(let t=s-1;t>=0;t--)l[t]=-1;let o=t.Utils.newArray(s-n,0),h=0,d=0;for(let t=0;t<n;t++){let t=e.readInt(!0);for(;h!=t;)o[d++]=h++;l[h+e.readInt(!0)]=h++}for(;h<s;)o[d++]=h++;for(let t=s-1;t>=0;t--)-1==l[t]&&(l[t]=o[--d]);i.setFrame(a,r,l)}C.push(i)}let I=e.readInt(!0);if(I>0){let i=new t.EventTimeline(I);for(let s=0;s<I;s++){let a=e.readFloat(),r=k.events[e.readInt(!0)],n=new t.Event(a,r);n.intValue=e.readInt(!1),n.floatValue=e.readFloat(),n.stringValue=e.readBoolean()?e.readString():r.stringValue,n.data.audioPath&&(n.volume=e.readFloat(),n.balance=e.readFloat()),i.setFrame(s,n)}C.push(i)}let Y=0;for(let t=0,e=C.length;t<e;t++)Y=Math.max(Y,C[t].getDuration());return new t.Animation(M,C,Y)}};class BinaryInput{constructor(t,e=new Array,i=0,s=new DataView(t.buffer)){this.strings=e,this.index=i,this.buffer=s}readByte(){return this.buffer.getInt8(this.index++)}readUnsignedByte(){return this.buffer.getUint8(this.index++)}readShort(){let t=this.buffer.getInt16(this.index);return this.index+=2,t}readInt32(){let t=this.buffer.getInt32(this.index);return this.index+=4,t}readInt(t){let e=this.readByte(),i=127&e;return 0!=(128&e)&&(e=this.readByte(),i|=(127&e)<<7,0!=(128&e)&&(e=this.readByte(),i|=(127&e)<<14,0!=(128&e)&&(e=this.readByte(),i|=(127&e)<<21,0!=(128&e)&&(e=this.readByte(),i|=(127&e)<<28)))),t?i:i>>>1^-(1&i)}readStringRef(){let t=this.readInt(!0);return 0==t?null:this.strings[t-1]}readString(){let t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;let e="";for(let i=0;i<t;){let t=this.readUnsignedByte();switch(t>>4){case 12:case 13:e+=String.fromCharCode((31&t)<<6|63&this.readByte()),i+=2;break;case 14:e+=String.fromCharCode((15&t)<<12|(63&this.readByte())<<6|63&this.readByte()),i+=3;break;default:e+=String.fromCharCode(t),i++}}return e}readFloat(){let t=this.buffer.getFloat32(this.index);return this.index+=4,t}readBoolean(){return 0!=this.readByte()}}t.BinaryInput=BinaryInput;class LinkedMesh{constructor(t,e,i,s,a){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=s,this.inheritDeform=a}}class Vertices{constructor(t=null,e=null){this.bones=t,this.vertices=e}}let e;function readTimeline1(t,e,i){let s=t.readFloat(),a=t.readFloat()*i;for(let r=0,n=0,l=e.getFrameCount()-1;e.setFrame(r,s,a),r!=l;r++){let l=t.readFloat(),o=t.readFloat()*i;switch(t.readByte()){case T:e.setStepped(r);break;case A:setBezier(t,e,n++,r,0,s,l,a,o,i)}s=l,a=o}return e}function readTimeline2(t,e,i){let s=t.readFloat(),a=t.readFloat()*i,r=t.readFloat()*i;for(let n=0,l=0,o=e.getFrameCount()-1;e.setFrame(n,s,a,r),n!=o;n++){let o=t.readFloat(),h=t.readFloat()*i,d=t.readFloat()*i;switch(t.readByte()){case T:e.setStepped(n);break;case A:setBezier(t,e,l++,n,0,s,o,a,h,i),setBezier(t,e,l++,n,1,s,o,r,d,i)}s=o,a=h,r=d}return e}function setBezier(t,e,i,s,a,r,n,l,o,h){e.setBezier(i,s,a,r,l,t.readFloat(),t.readFloat()*h,t.readFloat(),t.readFloat()*h,n,o)}!function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"}(e||(e={}));const i=0,s=1,a=2,r=3,n=4,l=5,o=6,h=7,d=8,c=9,u=0,m=1,g=2,f=3,p=4,x=5,w=0,b=1,y=2,T=1,A=2}(spine||(spine={})),function(t){t.SkeletonBounds=class{constructor(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new t.Pool((()=>t.Utils.newFloatArray(16)))}update(e,i){if(!e)throw new Error("skeleton cannot be null.");let s=this.boundingBoxes,a=this.polygons,r=this.polygonPool,n=e.slots,l=n.length;s.length=0,r.freeAll(a),a.length=0;for(let e=0;e<l;e++){let i=n[e];if(!i.bone.active)continue;let l=i.getAttachment();if(l instanceof t.BoundingBoxAttachment){let e=l;s.push(e);let n=r.obtain();n.length!=e.worldVerticesLength&&(n=t.Utils.newFloatArray(e.worldVerticesLength)),a.push(n),e.computeWorldVertices(i,0,e.worldVerticesLength,n,0,2)}}i?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}aabbCompute(){let t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,a=this.polygons;for(let r=0,n=a.length;r<n;r++){let n=a[r],l=n;for(let a=0,r=n.length;a<r;a+=2){let r=l[a],n=l[a+1];t=Math.min(t,r),e=Math.min(e,n),i=Math.max(i,r),s=Math.max(s,n)}}this.minX=t,this.minY=e,this.maxX=i,this.maxY=s}aabbContainsPoint(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY}aabbIntersectsSegment(t,e,i,s){let a=this.minX,r=this.minY,n=this.maxX,l=this.maxY;if(t<=a&&i<=a||e<=r&&s<=r||t>=n&&i>=n||e>=l&&s>=l)return!1;let o=(s-e)/(i-t),h=o*(a-t)+e;if(h>r&&h<l)return!0;if(h=o*(n-t)+e,h>r&&h<l)return!0;let d=(r-e)/o+t;return d>a&&d<n||(d=(l-e)/o+t,d>a&&d<n)}aabbIntersectsSkeleton(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY}containsPoint(t,e){let i=this.polygons;for(let s=0,a=i.length;s<a;s++)if(this.containsPointPolygon(i[s],t,e))return this.boundingBoxes[s];return null}containsPointPolygon(t,e,i){let s=t,a=t.length,r=a-2,n=!1;for(let t=0;t<a;t+=2){let a=s[t+1],l=s[r+1];if(a<i&&l>=i||l<i&&a>=i){let o=s[t];o+(i-a)/(l-a)*(s[r]-o)<e&&(n=!n)}r=t}return n}intersectsSegment(t,e,i,s){let a=this.polygons;for(let r=0,n=a.length;r<n;r++)if(this.intersectsSegmentPolygon(a[r],t,e,i,s))return this.boundingBoxes[r];return null}intersectsSegmentPolygon(t,e,i,s,a){let r=t,n=t.length,l=e-s,o=i-a,h=e*a-i*s,d=r[n-2],c=r[n-1];for(let t=0;t<n;t+=2){let n=r[t],u=r[t+1],m=d*u-c*n,g=d-n,f=c-u,p=l*f-o*g,x=(h*g-l*m)/p;if((x>=d&&x<=n||x>=n&&x<=d)&&(x>=e&&x<=s||x>=s&&x<=e)){let t=(h*f-o*m)/p;if((t>=c&&t<=u||t>=u&&t<=c)&&(t>=i&&t<=a||t>=a&&t<=i))return!0}d=n,c=u}return!1}getPolygon(t){if(!t)throw new Error("boundingBox cannot be null.");let e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]}getWidth(){return this.maxX-this.minX}getHeight(){return this.maxY-this.minY}}}(spine||(spine={})),function(t){class SkeletonClipping{constructor(){this.triangulator=new t.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}clipStart(e,i){if(this.clipAttachment)return 0;this.clipAttachment=i;let s=i.worldVerticesLength,a=t.Utils.setArraySize(this.clippingPolygon,s);i.computeWorldVertices(e,0,s,a,0,2);let r=this.clippingPolygon;SkeletonClipping.makeClockwise(r);let n=this.clippingPolygons=this.triangulator.decompose(r,this.triangulator.triangulate(r));for(let t=0,e=n.length;t<e;t++){let e=n[t];SkeletonClipping.makeClockwise(e),e.push(e[0]),e.push(e[1])}return n.length}clipEndWithSlot(t){this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()}clipEnd(){this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)}isClipping(){return null!=this.clipAttachment}clipTriangles(e,i,s,a,r,n,l,o){let h=this.clipOutput,d=this.clippedVertices,c=this.clippedTriangles,u=this.clippingPolygons,m=this.clippingPolygons.length,g=o?12:8,f=0;d.length=0,c.length=0;t:for(let i=0;i<a;i+=3){let a=s[i]<<1,p=e[a],x=e[a+1],w=r[a],b=r[a+1];a=s[i+1]<<1;let y=e[a],T=e[a+1],A=r[a],M=r[a+1];a=s[i+2]<<1;let k=e[a],C=e[a+1],S=r[a],v=r[a+1];for(let e=0;e<m;e++){let i=d.length;if(!this.clip(p,x,y,T,k,C,u[e],h)){let e=t.Utils.setArraySize(d,i+3*g);e[i]=p,e[i+1]=x,e[i+2]=n.r,e[i+3]=n.g,e[i+4]=n.b,e[i+5]=n.a,o?(e[i+6]=w,e[i+7]=b,e[i+8]=l.r,e[i+9]=l.g,e[i+10]=l.b,e[i+11]=l.a,e[i+12]=y,e[i+13]=T,e[i+14]=n.r,e[i+15]=n.g,e[i+16]=n.b,e[i+17]=n.a,e[i+18]=A,e[i+19]=M,e[i+20]=l.r,e[i+21]=l.g,e[i+22]=l.b,e[i+23]=l.a,e[i+24]=k,e[i+25]=C,e[i+26]=n.r,e[i+27]=n.g,e[i+28]=n.b,e[i+29]=n.a,e[i+30]=S,e[i+31]=v,e[i+32]=l.r,e[i+33]=l.g,e[i+34]=l.b,e[i+35]=l.a):(e[i+6]=w,e[i+7]=b,e[i+8]=y,e[i+9]=T,e[i+10]=n.r,e[i+11]=n.g,e[i+12]=n.b,e[i+13]=n.a,e[i+14]=A,e[i+15]=M,e[i+16]=k,e[i+17]=C,e[i+18]=n.r,e[i+19]=n.g,e[i+20]=n.b,e[i+21]=n.a,e[i+22]=S,e[i+23]=v),i=c.length;let s=t.Utils.setArraySize(c,i+3);s[i]=f,s[i+1]=f+1,s[i+2]=f+2,f+=3;continue t}{let e=h.length;if(0==e)continue;let s=T-C,a=k-y,r=p-k,u=C-x,m=1/(s*r+a*(x-C)),I=e>>1,Y=this.clipOutput,V=t.Utils.setArraySize(d,i+I*g);for(let t=0;t<e;t+=2){let e=Y[t],h=Y[t+1];V[i]=e,V[i+1]=h,V[i+2]=n.r,V[i+3]=n.g,V[i+4]=n.b,V[i+5]=n.a;let d=e-k,c=h-C,f=(s*d+a*c)*m,p=(u*d+r*c)*m,x=1-f-p;V[i+6]=w*f+A*p+S*x,V[i+7]=b*f+M*p+v*x,o&&(V[i+8]=l.r,V[i+9]=l.g,V[i+10]=l.b,V[i+11]=l.a),i+=g}i=c.length;let F=t.Utils.setArraySize(c,i+3*(I-2));I--;for(let t=1;t<I;t++)F[i]=f,F[i+1]=f+t,F[i+2]=f+t+1,i+=3;f+=I+1}}}}clip(t,e,i,s,a,r,n,l){let o=l,h=!1,d=null;n.length%4>=2?(d=l,l=this.scratch):d=this.scratch,d.length=0,d.push(t),d.push(e),d.push(i),d.push(s),d.push(a),d.push(r),d.push(t),d.push(e),l.length=0;let c=n,u=n.length-4;for(let t=0;;t+=2){let e=c[t],i=c[t+1],s=c[t+2],a=c[t+3],r=e-s,n=i-a,m=d,g=d.length-2,f=l.length;for(let t=0;t<g;t+=2){let o=m[t],d=m[t+1],c=m[t+2],u=m[t+3],g=r*(u-a)-n*(c-s)>0;if(r*(d-a)-n*(o-s)>0){if(g){l.push(c),l.push(u);continue}let t=u-d,r=c-o,n=t*(s-e)-r*(a-i);if(Math.abs(n)>1e-6){let h=(r*(i-d)-t*(e-o))/n;l.push(e+(s-e)*h),l.push(i+(a-i)*h)}else l.push(e),l.push(i)}else if(g){let t=u-d,r=c-o,n=t*(s-e)-r*(a-i);if(Math.abs(n)>1e-6){let h=(r*(i-d)-t*(e-o))/n;l.push(e+(s-e)*h),l.push(i+(a-i)*h)}else l.push(e),l.push(i);l.push(c),l.push(u)}h=!0}if(f==l.length)return o.length=0,!0;if(l.push(l[0]),l.push(l[1]),t==u)break;let p=l;(l=d).length=0,d=p}if(o!=l){o.length=0;for(let t=0,e=l.length-2;t<e;t++)o[t]=l[t]}else o.length=o.length-2;return h}static makeClockwise(t){let e=t,i=t.length,s=e[i-2]*e[1]-e[0]*e[i-1],a=0,r=0,n=0,l=0;for(let t=0,o=i-3;t<o;t+=2)a=e[t],r=e[t+1],n=e[t+2],l=e[t+3],s+=a*l-n*r;if(!(s<0))for(let t=0,s=i-2,a=i>>1;t<a;t+=2){let i=e[t],a=e[t+1],r=s-t;e[t]=e[r],e[t+1]=e[r+1],e[r]=i,e[r+1]=a}}}t.SkeletonClipping=SkeletonClipping}(spine||(spine={})),function(t){t.SkeletonData=class{constructor(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}findBone(t){if(!t)throw new Error("boneName cannot be null.");let e=this.bones;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s.name==t)return s}return null}findSlot(t){if(!t)throw new Error("slotName cannot be null.");let e=this.slots;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s.name==t)return s}return null}findSkin(t){if(!t)throw new Error("skinName cannot be null.");let e=this.skins;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s.name==t)return s}return null}findEvent(t){if(!t)throw new Error("eventDataName cannot be null.");let e=this.events;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s.name==t)return s}return null}findAnimation(t){if(!t)throw new Error("animationName cannot be null.");let e=this.animations;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s.name==t)return s}return null}findIkConstraint(t){if(!t)throw new Error("constraintName cannot be null.");let e=this.ikConstraints;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s.name==t)return s}return null}findTransformConstraint(t){if(!t)throw new Error("constraintName cannot be null.");let e=this.transformConstraints;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s.name==t)return s}return null}findPathConstraint(t){if(!t)throw new Error("constraintName cannot be null.");let e=this.pathConstraints;for(let i=0,s=e.length;i<s;i++){let s=e[i];if(s.name==t)return s}return null}}}(spine||(spine={})),function(t){t.SkeletonJson=class{constructor(t){this.attachmentLoader=null,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}readSkeletonData(e){let i=this.scale,s=new t.SkeletonData,a="string"==typeof e?JSON.parse(e):e,r=a.skeleton;if(r&&(s.hash=r.hash,s.version=r.spine,s.x=r.x,s.y=r.y,s.width=r.width,s.height=r.height,s.fps=r.fps,s.imagesPath=r.images),a.bones)for(let e=0;e<a.bones.length;e++){let r=a.bones[e],n=null,l=getValue(r,"parent",null);l&&(n=s.findBone(l));let o=new t.BoneData(s.bones.length,r.name,n);o.length=getValue(r,"length",0)*i,o.x=getValue(r,"x",0)*i,o.y=getValue(r,"y",0)*i,o.rotation=getValue(r,"rotation",0),o.scaleX=getValue(r,"scaleX",1),o.scaleY=getValue(r,"scaleY",1),o.shearX=getValue(r,"shearX",0),o.shearY=getValue(r,"shearY",0),o.transformMode=t.Utils.enumValue(t.TransformMode,getValue(r,"transform","Normal")),o.skinRequired=getValue(r,"skin",!1);let h=getValue(r,"color",null);h&&o.color.setFromString(h),s.bones.push(o)}if(a.slots)for(let e=0;e<a.slots.length;e++){let i=a.slots[e],r=s.findBone(i.bone),n=new t.SlotData(s.slots.length,i.name,r),l=getValue(i,"color",null);l&&n.color.setFromString(l);let o=getValue(i,"dark",null);o&&(n.darkColor=t.Color.fromString(o)),n.attachmentName=getValue(i,"attachment",null),n.blendMode=t.Utils.enumValue(t.BlendMode,getValue(i,"blend","normal")),s.slots.push(n)}if(a.ik)for(let e=0;e<a.ik.length;e++){let r=a.ik[e],n=new t.IkConstraintData(r.name);n.order=getValue(r,"order",0),n.skinRequired=getValue(r,"skin",!1);for(let t=0;t<r.bones.length;t++)n.bones.push(s.findBone(r.bones[t]));n.target=s.findBone(r.target),n.mix=getValue(r,"mix",1),n.softness=getValue(r,"softness",0)*i,n.bendDirection=getValue(r,"bendPositive",!0)?1:-1,n.compress=getValue(r,"compress",!1),n.stretch=getValue(r,"stretch",!1),n.uniform=getValue(r,"uniform",!1),s.ikConstraints.push(n)}if(a.transform)for(let e=0;e<a.transform.length;e++){let r=a.transform[e],n=new t.TransformConstraintData(r.name);n.order=getValue(r,"order",0),n.skinRequired=getValue(r,"skin",!1);for(let t=0;t<r.bones.length;t++)n.bones.push(s.findBone(r.bones[t]));let l=r.target;n.target=s.findBone(l),n.local=getValue(r,"local",!1),n.relative=getValue(r,"relative",!1),n.offsetRotation=getValue(r,"rotation",0),n.offsetX=getValue(r,"x",0)*i,n.offsetY=getValue(r,"y",0)*i,n.offsetScaleX=getValue(r,"scaleX",0),n.offsetScaleY=getValue(r,"scaleY",0),n.offsetShearY=getValue(r,"shearY",0),n.mixRotate=getValue(r,"mixRotate",1),n.mixX=getValue(r,"mixX",1),n.mixY=getValue(r,"mixY",n.mixX),n.mixScaleX=getValue(r,"mixScaleX",1),n.mixScaleY=getValue(r,"mixScaleY",n.mixScaleX),n.mixShearY=getValue(r,"mixShearY",1),s.transformConstraints.push(n)}if(a.path)for(let e=0;e<a.path.length;e++){let r=a.path[e],n=new t.PathConstraintData(r.name);n.order=getValue(r,"order",0),n.skinRequired=getValue(r,"skin",!1);for(let t=0;t<r.bones.length;t++)n.bones.push(s.findBone(r.bones[t]));let l=r.target;n.target=s.findSlot(l),n.positionMode=t.Utils.enumValue(t.PositionMode,getValue(r,"positionMode","Percent")),n.spacingMode=t.Utils.enumValue(t.SpacingMode,getValue(r,"spacingMode","Length")),n.rotateMode=t.Utils.enumValue(t.RotateMode,getValue(r,"rotateMode","Tangent")),n.offsetRotation=getValue(r,"rotation",0),n.position=getValue(r,"position",0),n.positionMode==t.PositionMode.Fixed&&(n.position*=i),n.spacing=getValue(r,"spacing",0),n.spacingMode!=t.SpacingMode.Length&&n.spacingMode!=t.SpacingMode.Fixed||(n.spacing*=i),n.mixRotate=getValue(r,"mixRotate",1),n.mixX=getValue(r,"mixX",1),n.mixY=getValue(r,"mixY",n.mixX),s.pathConstraints.push(n)}if(a.skins)for(let e=0;e<a.skins.length;e++){let i=a.skins[e],r=new t.Skin(i.name);if(i.bones)for(let t=0;t<i.bones.length;t++)r.bones.push(s.findBone(i.bones[t]));if(i.ik)for(let t=0;t<i.ik.length;t++)r.constraints.push(s.findIkConstraint(i.ik[t]));if(i.transform)for(let t=0;t<i.transform.length;t++)r.constraints.push(s.findTransformConstraint(i.transform[t]));if(i.path)for(let t=0;t<i.path.length;t++)r.constraints.push(s.findPathConstraint(i.path[t]));for(let t in i.attachments){let e=s.findSlot(t),a=i.attachments[t];for(let t in a){let i=this.readAttachment(a[t],r,e.index,t,s);i&&r.setAttachment(e.index,t,i)}}s.skins.push(r),"default"==r.name&&(s.defaultSkin=r)}for(let t=0,e=this.linkedMeshes.length;t<e;t++){let e=this.linkedMeshes[t],i=(e.skin?s.findSkin(e.skin):s.defaultSkin).getAttachment(e.slotIndex,e.parent);e.mesh.deformAttachment=e.inheritDeform?i:e.mesh,e.mesh.setParentMesh(i),e.mesh.updateUVs()}if(this.linkedMeshes.length=0,a.events)for(let e in a.events){let i=a.events[e],r=new t.EventData(e);r.intValue=getValue(i,"int",0),r.floatValue=getValue(i,"float",0),r.stringValue=getValue(i,"string",""),r.audioPath=getValue(i,"audio",null),r.audioPath&&(r.volume=getValue(i,"volume",1),r.balance=getValue(i,"balance",0)),s.events.push(r)}if(a.animations)for(let t in a.animations){let e=a.animations[t];this.readAnimation(e,t,s)}return s}readAttachment(e,i,s,a,r){let n=this.scale;switch(a=getValue(e,"name",a),getValue(e,"type","region")){case"region":{let t=getValue(e,"path",a),s=this.attachmentLoader.newRegionAttachment(i,a,t);if(!s)return null;s.path=t,s.x=getValue(e,"x",0)*n,s.y=getValue(e,"y",0)*n,s.scaleX=getValue(e,"scaleX",1),s.scaleY=getValue(e,"scaleY",1),s.rotation=getValue(e,"rotation",0),s.width=e.width*n,s.height=e.height*n;let r=getValue(e,"color",null);return r&&s.color.setFromString(r),s.updateOffset(),s}case"boundingbox":{let t=this.attachmentLoader.newBoundingBoxAttachment(i,a);if(!t)return null;this.readVertices(e,t,e.vertexCount<<1);let s=getValue(e,"color",null);return s&&t.color.setFromString(s),t}case"mesh":case"linkedmesh":{let t=getValue(e,"path",a),r=this.attachmentLoader.newMeshAttachment(i,a,t);if(!r)return null;r.path=t;let l=getValue(e,"color",null);l&&r.color.setFromString(l),r.width=getValue(e,"width",0)*n,r.height=getValue(e,"height",0)*n;let o=getValue(e,"parent",null);if(o)return this.linkedMeshes.push(new LinkedMesh(r,getValue(e,"skin",null),s,o,getValue(e,"deform",!0))),r;let h=e.uvs;return this.readVertices(e,r,h.length),r.triangles=e.triangles,r.regionUVs=h,r.updateUVs(),r.edges=getValue(e,"edges",null),r.hullLength=2*getValue(e,"hull",0),r}case"path":{let s=this.attachmentLoader.newPathAttachment(i,a);if(!s)return null;s.closed=getValue(e,"closed",!1),s.constantSpeed=getValue(e,"constantSpeed",!0);let r=e.vertexCount;this.readVertices(e,s,r<<1);let l=t.Utils.newArray(r/3,0);for(let t=0;t<e.lengths.length;t++)l[t]=e.lengths[t]*n;s.lengths=l;let o=getValue(e,"color",null);return o&&s.color.setFromString(o),s}case"point":{let t=this.attachmentLoader.newPointAttachment(i,a);if(!t)return null;t.x=getValue(e,"x",0)*n,t.y=getValue(e,"y",0)*n,t.rotation=getValue(e,"rotation",0);let s=getValue(e,"color",null);return s&&t.color.setFromString(s),t}case"clipping":{let t=this.attachmentLoader.newClippingAttachment(i,a);if(!t)return null;let s=getValue(e,"end",null);s&&(t.endSlot=r.findSlot(s));let n=e.vertexCount;this.readVertices(e,t,n<<1);let l=getValue(e,"color",null);return l&&t.color.setFromString(l),t}}return null}readVertices(e,i,s){let a=this.scale;i.worldVerticesLength=s;let r=e.vertices;if(s==r.length){let e=t.Utils.toFloatArray(r);if(1!=a)for(let t=0,i=r.length;t<i;t++)e[t]*=a;return void(i.vertices=e)}let n=new Array,l=new Array;for(let t=0,e=r.length;t<e;){let e=r[t++];l.push(e);for(let i=t+4*e;t<i;t+=4)l.push(r[t]),n.push(r[t+1]*a),n.push(r[t+2]*a),n.push(r[t+3])}i.bones=l,i.vertices=t.Utils.toFloatArray(n)}readAnimation(e,i,s){let a=this.scale,r=new Array;if(e.slots)for(let i in e.slots){let a=e.slots[i],n=s.findSlot(i).index;for(let e in a){let i=a[e];if(!i)continue;let s=i.length;if("attachment"==e){let e=new t.AttachmentTimeline(s,n);for(let t=0;t<s;t++){let s=i[t];e.setFrame(t,getValue(s,"time",0),s.name)}r.push(e)}else if("rgba"==e){let e=new t.RGBATimeline(s,s<<2,n),a=i[0],l=getValue(a,"time",0),o=t.Color.fromString(a.color);for(let s=0,r=0;;s++){e.setFrame(s,l,o.r,o.g,o.b,o.a);let n=i[s+1];if(!n){e.shrink(r);break}let h=getValue(n,"time",0),d=t.Color.fromString(n.color),c=a.curve;c&&(r=readCurve(c,e,r,s,0,l,h,o.r,d.r,1),r=readCurve(c,e,r,s,1,l,h,o.g,d.g,1),r=readCurve(c,e,r,s,2,l,h,o.b,d.b,1),r=readCurve(c,e,r,s,3,l,h,o.a,d.a,1)),l=h,o=d,a=n}r.push(e)}else if("rgb"==e){let e=new t.RGBTimeline(s,3*s,n),a=i[0],l=getValue(a,"time",0),o=t.Color.fromString(a.color);for(let s=0,r=0;;s++){e.setFrame(s,l,o.r,o.g,o.b);let n=i[s+1];if(!n){e.shrink(r);break}let h=getValue(n,"time",0),d=t.Color.fromString(n.color),c=a.curve;c&&(r=readCurve(c,e,r,s,0,l,h,o.r,d.r,1),r=readCurve(c,e,r,s,1,l,h,o.g,d.g,1),r=readCurve(c,e,r,s,2,l,h,o.b,d.b,1)),l=h,o=d,a=n}r.push(e)}else if("alpha"==e)r.push(readTimeline1(i,new t.AlphaTimeline(s,s,n),0,1));else if("rgba2"==e){let e=new t.RGBA2Timeline(s,7*s,n),a=i[0],l=getValue(a,"time",0),o=t.Color.fromString(a.light),h=t.Color.fromString(a.dark);for(let s=0,r=0;;s++){e.setFrame(s,l,o.r,o.g,o.b,o.a,h.r,h.g,h.b);let n=i[s+1];if(!n){e.shrink(r);break}let d=getValue(n,"time",0),c=t.Color.fromString(n.light),u=t.Color.fromString(n.dark),m=a.curve;m&&(r=readCurve(m,e,r,s,0,l,d,o.r,c.r,1),r=readCurve(m,e,r,s,1,l,d,o.g,c.g,1),r=readCurve(m,e,r,s,2,l,d,o.b,c.b,1),r=readCurve(m,e,r,s,3,l,d,o.a,c.a,1),r=readCurve(m,e,r,s,4,l,d,h.r,u.r,1),r=readCurve(m,e,r,s,5,l,d,h.g,u.g,1),r=readCurve(m,e,r,s,6,l,d,h.b,u.b,1)),l=d,o=c,h=u,a=n}r.push(e)}else if("rgb2"==e){let e=new t.RGB2Timeline(s,6*s,n),a=i[0],l=getValue(a,"time",0),o=t.Color.fromString(a.light),h=t.Color.fromString(a.dark);for(let s=0,r=0;;s++){e.setFrame(s,l,o.r,o.g,o.b,h.r,h.g,h.b);let n=i[s+1];if(!n){e.shrink(r);break}let d=getValue(n,"time",0),c=t.Color.fromString(n.light),u=t.Color.fromString(n.dark),m=a.curve;m&&(r=readCurve(m,e,r,s,0,l,d,o.r,c.r,1),r=readCurve(m,e,r,s,1,l,d,o.g,c.g,1),r=readCurve(m,e,r,s,2,l,d,o.b,c.b,1),r=readCurve(m,e,r,s,3,l,d,h.r,u.r,1),r=readCurve(m,e,r,s,4,l,d,h.g,u.g,1),r=readCurve(m,e,r,s,5,l,d,h.b,u.b,1)),l=d,o=c,h=u,a=n}r.push(e)}}}if(e.bones)for(let i in e.bones){let n=e.bones[i],l=s.findBone(i).index;for(let e in n){let i=n[e],s=i.length;if(0!=s)if("rotate"===e)r.push(readTimeline1(i,new t.RotateTimeline(s,s,l),0,1));else if("translate"===e){let e=new t.TranslateTimeline(s,s<<1,l);r.push(readTimeline2(i,e,"x","y",0,a))}else if("translatex"===e){let e=new t.TranslateXTimeline(s,s,l);r.push(readTimeline1(i,e,0,a))}else if("translatey"===e){let e=new t.TranslateYTimeline(s,s,l);r.push(readTimeline1(i,e,0,a))}else if("scale"===e){let e=new t.ScaleTimeline(s,s<<1,l);r.push(readTimeline2(i,e,"x","y",1,1))}else if("scalex"===e){let e=new t.ScaleXTimeline(s,s,l);r.push(readTimeline1(i,e,1,1))}else if("scaley"===e){let e=new t.ScaleYTimeline(s,s,l);r.push(readTimeline1(i,e,1,1))}else if("shear"===e){let e=new t.ShearTimeline(s,s<<1,l);r.push(readTimeline2(i,e,"x","y",0,1))}else if("shearx"===e){let e=new t.ShearXTimeline(s,s,l);r.push(readTimeline1(i,e,0,1))}else if("sheary"===e){let e=new t.ShearYTimeline(s,s,l);r.push(readTimeline1(i,e,0,1))}}}if(e.ik)for(let i in e.ik){let n=e.ik[i],l=n[0];if(!l)continue;let o=s.findIkConstraint(i),h=s.ikConstraints.indexOf(o),d=new t.IkConstraintTimeline(n.length,n.length<<1,h),c=getValue(l,"time",0),u=getValue(l,"mix",1),m=getValue(l,"softness",0)*a;for(let t=0,e=0;;t++){d.setFrame(t,c,u,m,getValue(l,"bendPositive",!0)?1:-1,getValue(l,"compress",!1),getValue(l,"stretch",!1));let i=n[t+1];if(!i){d.shrink(e);break}let s=getValue(i,"time",0),r=getValue(i,"mix",1),o=getValue(i,"softness",0)*a,h=l.curve;h&&(e=readCurve(h,d,e,t,0,c,s,u,r,1),e=readCurve(h,d,e,t,1,c,s,m,o,a)),c=s,u=r,m=o,l=i}r.push(d)}if(e.transform)for(let i in e.transform){let a=e.transform[i],n=a[0];if(!n)continue;let l=s.findTransformConstraint(i),o=s.transformConstraints.indexOf(l),h=new t.TransformConstraintTimeline(a.length,6*a.length,o),d=getValue(n,"time",0),c=getValue(n,"mixRotate",1),u=getValue(n,"mixX",1),m=getValue(n,"mixY",u),g=getValue(n,"mixScaleX",1),f=getValue(n,"mixScaleY",g),p=getValue(n,"mixShearY",1);for(let t=0,e=0;;t++){h.setFrame(t,d,c,u,m,g,f,p);let i=a[t+1];if(!i){h.shrink(e);break}let s=getValue(i,"time",0),r=getValue(i,"mixRotate",1),l=getValue(i,"mixX",1),o=getValue(i,"mixY",l),x=getValue(i,"mixScaleX",1),w=getValue(i,"mixScaleY",x),b=getValue(i,"mixShearY",1),y=n.curve;y&&(e=readCurve(y,h,e,t,0,d,s,c,r,1),e=readCurve(y,h,e,t,1,d,s,u,l,1),e=readCurve(y,h,e,t,2,d,s,m,o,1),e=readCurve(y,h,e,t,3,d,s,g,x,1),e=readCurve(y,h,e,t,4,d,s,f,w,1),e=readCurve(y,h,e,t,5,d,s,p,b,1)),d=s,c=r,u=l,m=o,g=x,f=w,g=x,n=i}r.push(h)}if(e.path)for(let i in e.path){let n=e.path[i],l=s.findPathConstraint(i),o=s.pathConstraints.indexOf(l);for(let e in n){let i=n[e],s=i[0];if(!s)continue;let h=i.length;if("position"===e){let e=new t.PathConstraintPositionTimeline(h,h,o);r.push(readTimeline1(i,e,0,l.positionMode==t.PositionMode.Fixed?a:1))}else if("spacing"===e){let e=new t.PathConstraintSpacingTimeline(h,h,o);r.push(readTimeline1(i,e,0,l.spacingMode==t.SpacingMode.Length||l.spacingMode==t.SpacingMode.Fixed?a:1))}else if("mix"===e){let e=new t.PathConstraintMixTimeline(h,3*h,o),a=getValue(s,"time",0),n=getValue(s,"mixRotate",1),l=getValue(s,"mixX",1),d=getValue(s,"mixY",l);for(let t=0,r=0;;t++){e.setFrame(t,a,n,l,d);let o=i[t+1];if(!o){e.shrink(r);break}let h=getValue(o,"time",0),c=getValue(o,"mixRotate",1),u=getValue(o,"mixX",1),m=getValue(o,"mixY",u),g=s.curve;g&&(r=readCurve(g,e,r,t,0,a,h,n,c,1),r=readCurve(g,e,r,t,1,a,h,l,u,1),r=readCurve(g,e,r,t,2,a,h,d,m,1)),a=h,n=c,l=u,d=m,s=o}r.push(e)}}}if(e.deform)for(let i in e.deform){let n=e.deform[i],l=s.findSkin(i);for(let e in n){let i=n[e],o=s.findSlot(e).index;for(let e in i){let s=i[e],n=s[0];if(!n)continue;let h=l.getAttachment(o,e),d=h.bones,c=h.vertices,u=d?c.length/3*2:c.length,m=new t.DeformTimeline(s.length,s.length,o,h),g=getValue(n,"time",0);for(let e=0,i=0;;e++){let r,l=getValue(n,"vertices",null);if(l){r=t.Utils.newFloatArray(u);let e=getValue(n,"offset",0);if(t.Utils.arrayCopy(l,0,r,e,l.length),1!=a)for(let t=e,i=t+l.length;t<i;t++)r[t]*=a;if(!d)for(let t=0;t<u;t++)r[t]+=c[t]}else r=d?t.Utils.newFloatArray(u):c;m.setFrame(e,g,r);let o=s[e+1];if(!o){m.shrink(i);break}let h=getValue(o,"time",0),f=n.curve;f&&(i=readCurve(f,m,i,e,0,g,h,0,1,1)),g=h,n=o}r.push(m)}}}if(e.drawOrder){let i=new t.DrawOrderTimeline(e.drawOrder.length),a=s.slots.length,n=0;for(let r=0;r<e.drawOrder.length;r++,n++){let l=e.drawOrder[r],o=null,h=getValue(l,"offsets",null);if(h){o=t.Utils.newArray(a,-1);let e=t.Utils.newArray(a-h.length,0),i=0,r=0;for(let t=0;t<h.length;t++){let a=h[t],n=s.findSlot(a.slot).index;for(;i!=n;)e[r++]=i++;o[i+a.offset]=i++}for(;i<a;)e[r++]=i++;for(let t=a-1;t>=0;t--)-1==o[t]&&(o[t]=e[--r])}i.setFrame(n,getValue(l,"time",0),o)}r.push(i)}if(e.events){let i=new t.EventTimeline(e.events.length),a=0;for(let r=0;r<e.events.length;r++,a++){let n=e.events[r],l=s.findEvent(n.name),o=new t.Event(t.Utils.toSinglePrecision(getValue(n,"time",0)),l);o.intValue=getValue(n,"int",l.intValue),o.floatValue=getValue(n,"float",l.floatValue),o.stringValue=getValue(n,"string",l.stringValue),o.data.audioPath&&(o.volume=getValue(n,"volume",1),o.balance=getValue(n,"balance",0)),i.setFrame(a,o)}r.push(i)}let n=0;for(let t=0,e=r.length;t<e;t++)n=Math.max(n,r[t].getDuration());s.animations.push(new t.Animation(i,r,n))}};class LinkedMesh{constructor(t,e,i,s,a){this.mesh=t,this.skin=e,this.slotIndex=i,this.parent=s,this.inheritDeform=a}}function readTimeline1(t,e,i,s){let a=t[0],r=getValue(a,"time",0),n=getValue(a,"value",i)*s,l=0;for(let o=0;;o++){e.setFrame(o,r,n);let h=t[o+1];if(!h)return e.shrink(l),e;let d=getValue(h,"time",0),c=getValue(h,"value",i)*s;a.curve&&(l=readCurve(a.curve,e,l,o,0,r,d,n,c,s)),r=d,n=c,a=h}}function readTimeline2(t,e,i,s,a,r){let n=t[0],l=getValue(n,"time",0),o=getValue(n,i,a)*r,h=getValue(n,s,a)*r,d=0;for(let c=0;;c++){e.setFrame(c,l,o,h);let u=t[c+1];if(!u)return e.shrink(d),e;let m=getValue(u,"time",0),g=getValue(u,i,a)*r,f=getValue(u,s,a)*r,p=n.curve;p&&(d=readCurve(p,e,d,c,0,l,m,o,g,r),d=readCurve(p,e,d,c,1,l,m,h,f,r)),l=m,o=g,h=f,n=u}}function readCurve(t,e,i,s,a,r,n,l,o,h){if("stepped"==t)return e.setStepped(s),i;let d=a<<2,c=t[d],u=t[d+1]*h,m=t[d+2],g=t[d+3]*h;return e.setBezier(i,s,a,r,l,c,u,m,g,n,o),i+1}function getValue(t,e,i){return void 0!==t[e]?t[e]:i}}(spine||(spine={})),function(t){class SkinEntry{constructor(t=0,e=null,i=null){this.slotIndex=t,this.name=e,this.attachment=i}}t.SkinEntry=SkinEntry;t.Skin=class{constructor(t){if(this.name=null,this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!t)throw new Error("name cannot be null.");this.name=t}setAttachment(t,e,i){if(!i)throw new Error("attachment cannot be null.");let s=this.attachments;t>=s.length&&(s.length=t+1),s[t]||(s[t]={}),s[t][e]=i}addSkin(t){for(let e=0;e<t.bones.length;e++){let i=t.bones[e],s=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==i){s=!0;break}s||this.bones.push(i)}for(let e=0;e<t.constraints.length;e++){let i=t.constraints[e],s=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==i){s=!0;break}s||this.constraints.push(i)}let e=t.getAttachments();for(let t=0;t<e.length;t++){var i=e[t];this.setAttachment(i.slotIndex,i.name,i.attachment)}}copySkin(e){for(let t=0;t<e.bones.length;t++){let i=e.bones[t],s=!1;for(let t=0;t<this.bones.length;t++)if(this.bones[t]==i){s=!0;break}s||this.bones.push(i)}for(let t=0;t<e.constraints.length;t++){let i=e.constraints[t],s=!1;for(let t=0;t<this.constraints.length;t++)if(this.constraints[t]==i){s=!0;break}s||this.constraints.push(i)}let i=e.getAttachments();for(let e=0;e<i.length;e++){var s=i[e];s.attachment&&(s.attachment instanceof t.MeshAttachment?(s.attachment=s.attachment.newLinkedMesh(),this.setAttachment(s.slotIndex,s.name,s.attachment)):(s.attachment=s.attachment.copy(),this.setAttachment(s.slotIndex,s.name,s.attachment)))}}getAttachment(t,e){let i=this.attachments[t];return i?i[e]:null}removeAttachment(t,e){let i=this.attachments[t];i&&(i[e]=null)}getAttachments(){let t=new Array;for(var e=0;e<this.attachments.length;e++){let i=this.attachments[e];if(i)for(let s in i){let a=i[s];a&&t.push(new SkinEntry(e,s,a))}}return t}getAttachmentsForSlot(t,e){let i=this.attachments[t];if(i)for(let s in i){let a=i[s];a&&e.push(new SkinEntry(t,s,a))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(t,e){let i=0;for(let s=0;s<t.slots.length;s++){let a=t.slots[s],r=a.getAttachment();if(r&&i<e.attachments.length){let t=e.attachments[i];for(let e in t){if(r==t[e]){let t=this.getAttachment(i,e);t&&a.setAttachment(t);break}}}i++}}}}(spine||(spine={})),function(t){t.Slot=class{constructor(e,i){if(this.data=null,this.bone=null,this.color=null,this.darkColor=null,this.attachment=null,this.attachmentTime=0,this.attachmentState=0,this.deform=new Array,!e)throw new Error("data cannot be null.");if(!i)throw new Error("bone cannot be null.");this.data=e,this.bone=i,this.color=new t.Color,this.darkColor=e.darkColor?new t.Color:null,this.setToSetupPose()}getSkeleton(){return this.bone.skeleton}getAttachment(){return this.attachment}setAttachment(e){this.attachment!=e&&(e instanceof t.VertexAttachment&&this.attachment instanceof t.VertexAttachment&&e.deformAttachment==this.attachment.deformAttachment||(this.deform.length=0),this.attachment=e,this.attachmentTime=this.bone.skeleton.time)}setAttachmentTime(t){this.attachmentTime=this.bone.skeleton.time-t}getAttachmentTime(){return this.bone.skeleton.time-this.attachmentTime}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}}}(spine||(spine={})),function(t){let e;t.SlotData=class{constructor(e,i,s){if(this.index=0,this.name=null,this.boneData=null,this.color=new t.Color(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=null,e<0)throw new Error("index must be >= 0.");if(!i)throw new Error("name cannot be null.");if(!s)throw new Error("boneData cannot be null.");this.index=e,this.name=i,this.boneData=s}},function(t){t[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(e=t.BlendMode||(t.BlendMode={}))}(spine||(spine={})),function(t){class Texture{constructor(t){this._image=t}getImage(){return this._image}}let e,i;t.Texture=Texture,function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(e=t.TextureFilter||(t.TextureFilter={})),function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(i=t.TextureWrap||(t.TextureWrap={}));t.TextureRegion=class{constructor(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.degrees=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}};t.FakeTexture=class extends Texture{setFilters(t,e){}setWraps(t,e){}dispose(){}}}(spine||(spine={})),function(t){t.TextureAtlas=class{constructor(e){this.pages=new Array,this.regions=new Array;let i=new TextureAtlasReader(e),s=new Array(4),a=null,r=null,n={size:()=>{a.width=parseInt(s[1]),a.height=parseInt(s[2])},format:()=>{},filter:()=>{a.minFilter=t.Utils.enumValue(t.TextureFilter,s[1]),a.magFilter=t.Utils.enumValue(t.TextureFilter,s[2])},repeat:()=>{-1!=s[1].indexOf("x")&&(a.uWrap=t.TextureWrap.Repeat),-1!=s[1].indexOf("y")&&(a.vWrap=t.TextureWrap.Repeat)},pma:()=>{a.pma="true"==s[1]}};var l={xy:()=>{r.x=parseInt(s[1]),r.y=parseInt(s[2])},size:()=>{r.width=parseInt(s[1]),r.height=parseInt(s[2])},bounds:()=>{r.x=parseInt(s[1]),r.y=parseInt(s[2]),r.width=parseInt(s[3]),r.height=parseInt(s[4])},offset:()=>{r.offsetX=parseInt(s[1]),r.offsetY=parseInt(s[2])},orig:()=>{r.originalWidth=parseInt(s[1]),r.originalHeight=parseInt(s[2])},offsets:()=>{r.offsetX=parseInt(s[1]),r.offsetY=parseInt(s[2]),r.originalWidth=parseInt(s[3]),r.originalHeight=parseInt(s[4])},rotate:()=>{let t=s[1];"true"==t?r.degrees=90:"false"!=t&&(r.degrees=parseInt(t))},index:()=>{r.index=parseInt(s[1])}};let o=i.readLine();for(;o&&0==o.trim().length;)o=i.readLine();for(;o&&0!=o.trim().length&&0!=i.readEntry(s,o);)o=i.readLine();let h=null,d=null;for(;null!==o;)if(0==o.trim().length)a=null,o=i.readLine();else if(a){for(r=new TextureAtlasRegion,r.page=a,r.name=o;;){let t=i.readEntry(s,o=i.readLine());if(0==t)break;let e=l[s[0]];if(e)e();else{h||(h=[],d=[]),h.push(s[0]);let e=[];for(let i=0;i<t;i++)e.push(parseInt(s[i+1]));d.push(e)}}0==r.originalWidth&&0==r.originalHeight&&(r.originalWidth=r.width,r.originalHeight=r.height),h&&h.length>0&&(r.names=h,r.values=d,h=null,d=null),r.u=r.x/a.width,r.v=r.y/a.height,90==r.degrees?(r.u2=(r.x+r.height)/a.width,r.v2=(r.y+r.width)/a.height):(r.u2=(r.x+r.width)/a.width,r.v2=(r.y+r.height)/a.height),this.regions.push(r)}else{for(a=new TextureAtlasPage,a.name=o.trim();0!=i.readEntry(s,o=i.readLine());){let t=n[s[0]];t&&t()}this.pages.push(a)}}findRegion(t){for(let e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null}setTextures(t,e=""){for(let i of this.pages)i.setTexture(t.get(e+i.name))}dispose(){for(let t=0;t<this.pages.length;t++)this.pages[t].texture.dispose()}};class TextureAtlasReader{constructor(t){this.lines=null,this.index=0,this.lines=t.split(/\r\n|\r|\n/)}readLine(){return this.index>=this.lines.length?null:this.lines[this.index++]}readEntry(t,e){if(!e)return 0;if(0==(e=e.trim()).length)return 0;let i=e.indexOf(":");if(-1==i)return 0;t[0]=e.substr(0,i).trim();for(let s=1,a=i+1;;s++){let i=e.indexOf(",",a);if(-1==i)return t[s]=e.substr(a).trim(),s;if(t[s]=e.substr(a,i-a).trim(),a=i+1,4==s)return 4}}}class TextureAtlasPage{constructor(){this.name=null,this.minFilter=t.TextureFilter.Nearest,this.magFilter=t.TextureFilter.Nearest,this.uWrap=t.TextureWrap.ClampToEdge,this.vWrap=t.TextureWrap.ClampToEdge,this.texture=null,this.width=0,this.height=0,this.pma=!1}setTexture(t){this.texture=t,t.setFilters(this.minFilter,this.magFilter),t.setWraps(this.uWrap,this.vWrap)}}t.TextureAtlasPage=TextureAtlasPage;class TextureAtlasRegion extends t.TextureRegion{constructor(){super(...arguments),this.page=null,this.name=null,this.x=0,this.y=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.index=0,this.degrees=0,this.names=null,this.values=null}}t.TextureAtlasRegion=TextureAtlasRegion}(spine||(spine={})),function(t){t.TransformConstraint=class{constructor(e,i){if(this.data=null,this.bones=null,this.target=null,this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new t.Vector2,this.active=!1,!e)throw new Error("data cannot be null.");if(!i)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(let t=0;t<e.bones.length;t++)this.bones.push(i.findBone(e.bones[t].name));this.target=i.findBone(e.target.name)}isActive(){return this.active}update(){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleX&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}applyAbsoluteWorld(){let e=this.mixRotate,i=this.mixX,s=this.mixY,a=this.mixScaleX,r=this.mixScaleY,n=this.mixShearY,l=0!=i||0!=s,o=this.target,h=o.a,d=o.b,c=o.c,u=o.d,m=h*u-d*c>0?t.MathUtils.degRad:-t.MathUtils.degRad,g=this.data.offsetRotation*m,f=this.data.offsetShearY*m,p=this.bones;for(let m=0,x=p.length;m<x;m++){let x=p[m];if(0!=e){let i=x.a,s=x.b,a=x.c,r=x.d,n=Math.atan2(c,h)-Math.atan2(a,i)+g;n>t.MathUtils.PI?n-=t.MathUtils.PI2:n<-t.MathUtils.PI&&(n+=t.MathUtils.PI2),n*=e;let l=Math.cos(n),o=Math.sin(n);x.a=l*i-o*a,x.b=l*s-o*r,x.c=o*i+l*a,x.d=o*s+l*r}if(l){let t=this.temp;o.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),x.worldX+=(t.x-x.worldX)*i,x.worldY+=(t.y-x.worldY)*s}if(0!=a){let t=Math.sqrt(x.a*x.a+x.c*x.c);0!=t&&(t=(t+(Math.sqrt(h*h+c*c)-t+this.data.offsetScaleX)*a)/t),x.a*=t,x.c*=t}if(0!=r){let t=Math.sqrt(x.b*x.b+x.d*x.d);0!=t&&(t=(t+(Math.sqrt(d*d+u*u)-t+this.data.offsetScaleY)*r)/t),x.b*=t,x.d*=t}if(n>0){let e=x.b,i=x.d,s=Math.atan2(i,e),a=Math.atan2(u,d)-Math.atan2(c,h)-(s-Math.atan2(x.c,x.a));a>t.MathUtils.PI?a-=t.MathUtils.PI2:a<-t.MathUtils.PI&&(a+=t.MathUtils.PI2),a=s+(a+f)*n;let r=Math.sqrt(e*e+i*i);x.b=Math.cos(a)*r,x.d=Math.sin(a)*r}x.updateAppliedTransform()}}applyRelativeWorld(){let e=this.mixRotate,i=this.mixX,s=this.mixY,a=this.mixScaleX,r=this.mixScaleY,n=this.mixShearY,l=0!=i||0!=s,o=this.target,h=o.a,d=o.b,c=o.c,u=o.d,m=h*u-d*c>0?t.MathUtils.degRad:-t.MathUtils.degRad,g=this.data.offsetRotation*m,f=this.data.offsetShearY*m,p=this.bones;for(let m=0,x=p.length;m<x;m++){let x=p[m];if(0!=e){let i=x.a,s=x.b,a=x.c,r=x.d,n=Math.atan2(c,h)+g;n>t.MathUtils.PI?n-=t.MathUtils.PI2:n<-t.MathUtils.PI&&(n+=t.MathUtils.PI2),n*=e;let l=Math.cos(n),o=Math.sin(n);x.a=l*i-o*a,x.b=l*s-o*r,x.c=o*i+l*a,x.d=o*s+l*r}if(l){let t=this.temp;o.localToWorld(t.set(this.data.offsetX,this.data.offsetY)),x.worldX+=t.x*i,x.worldY+=t.y*s}if(0!=a){let t=(Math.sqrt(h*h+c*c)-1+this.data.offsetScaleX)*a+1;x.a*=t,x.c*=t}if(0!=r){let t=(Math.sqrt(d*d+u*u)-1+this.data.offsetScaleY)*r+1;x.b*=t,x.d*=t}if(n>0){let e=Math.atan2(u,d)-Math.atan2(c,h);e>t.MathUtils.PI?e-=t.MathUtils.PI2:e<-t.MathUtils.PI&&(e+=t.MathUtils.PI2);let i=x.b,s=x.d;e=Math.atan2(s,i)+(e-t.MathUtils.PI/2+f)*n;let a=Math.sqrt(i*i+s*s);x.b=Math.cos(e)*a,x.d=Math.sin(e)*a}x.updateAppliedTransform()}}applyAbsoluteLocal(){let t=this.mixRotate,e=this.mixX,i=this.mixY,s=this.mixScaleX,a=this.mixScaleY,r=this.mixShearY,n=this.target,l=this.bones;for(let o=0,h=l.length;o<h;o++){let h=l[o],d=h.arotation;if(0!=t){let e=n.arotation-d+this.data.offsetRotation;e-=360*(16384-(16384.499999999996-e/360|0)),d+=e*t}let c=h.ax,u=h.ay;c+=(n.ax-c+this.data.offsetX)*e,u+=(n.ay-u+this.data.offsetY)*i;let m=h.ascaleX,g=h.ascaleY;0!=s&&0!=m&&(m=(m+(n.ascaleX-m+this.data.offsetScaleX)*s)/m),0!=a&&0!=g&&(g=(g+(n.ascaleY-g+this.data.offsetScaleY)*a)/g);let f=h.ashearY;if(0!=r){let t=n.ashearY-f+this.data.offsetShearY;t-=360*(16384-(16384.499999999996-t/360|0)),f+=t*r}h.updateWorldTransformWith(c,u,d,m,g,h.ashearX,f)}}applyRelativeLocal(){let t=this.mixRotate,e=this.mixX,i=this.mixY,s=this.mixScaleX,a=this.mixScaleY,r=this.mixShearY,n=this.target,l=this.bones;for(let o=0,h=l.length;o<h;o++){let h=l[o],d=h.arotation+(n.arotation+this.data.offsetRotation)*t,c=h.ax+(n.ax+this.data.offsetX)*e,u=h.ay+(n.ay+this.data.offsetY)*i,m=h.ascaleX*((n.ascaleX-1+this.data.offsetScaleX)*s+1),g=h.ascaleY*((n.ascaleY-1+this.data.offsetScaleY)*a+1),f=h.ashearY+(n.ashearY+this.data.offsetShearY)*r;h.updateWorldTransformWith(c,u,d,m,g,h.ashearX,f)}}}}(spine||(spine={})),function(t){class TransformConstraintData extends t.ConstraintData{constructor(t){super(t,0,!1),this.bones=new Array,this.target=null,this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1}}t.TransformConstraintData=TransformConstraintData}(spine||(spine={})),function(t){class Triangulator{constructor(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new t.Pool((()=>new Array)),this.polygonIndicesPool=new t.Pool((()=>new Array))}triangulate(t){let e=t,i=t.length>>1,s=this.indicesArray;s.length=0;for(let t=0;t<i;t++)s[t]=t;let a=this.isConcaveArray;a.length=0;for(let t=0,r=i;t<r;++t)a[t]=Triangulator.isConcave(t,i,e,s);let r=this.triangles;for(r.length=0;i>3;){let t=i-1,n=0,l=1;for(;;){t:if(!a[n]){let r=s[t]<<1,o=s[n]<<1,h=s[l]<<1,d=e[r],c=e[r+1],u=e[o],m=e[o+1],g=e[h],f=e[h+1];for(let r=(l+1)%i;r!=t;r=(r+1)%i){if(!a[r])continue;let t=s[r]<<1,i=e[t],n=e[t+1];if(Triangulator.positiveArea(g,f,d,c,i,n)&&Triangulator.positiveArea(d,c,u,m,i,n)&&Triangulator.positiveArea(u,m,g,f,i,n))break t}break}if(0==l){do{if(!a[n])break;n--}while(n>0);break}t=n,n=l,l=(l+1)%i}r.push(s[(i+n-1)%i]),r.push(s[n]),r.push(s[(n+1)%i]),s.splice(n,1),a.splice(n,1),i--;let o=(i+n-1)%i,h=n==i?0:n;a[o]=Triangulator.isConcave(o,i,e,s),a[h]=Triangulator.isConcave(h,i,e,s)}return 3==i&&(r.push(s[2]),r.push(s[0]),r.push(s[1])),r}decompose(t,e){let i=t,s=this.convexPolygons;this.polygonPool.freeAll(s),s.length=0;let a=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(a),a.length=0;let r=this.polygonIndicesPool.obtain();r.length=0;let n=this.polygonPool.obtain();n.length=0;let l=-1,o=0;for(let t=0,h=e.length;t<h;t+=3){let h=e[t]<<1,d=e[t+1]<<1,c=e[t+2]<<1,u=i[h],m=i[h+1],g=i[d],f=i[d+1],p=i[c],x=i[c+1],w=!1;if(l==h){let t=n.length-4,e=Triangulator.winding(n[t],n[t+1],n[t+2],n[t+3],p,x),i=Triangulator.winding(p,x,n[0],n[1],n[2],n[3]);e==o&&i==o&&(n.push(p),n.push(x),r.push(c),w=!0)}w||(n.length>0?(s.push(n),a.push(r)):(this.polygonPool.free(n),this.polygonIndicesPool.free(r)),n=this.polygonPool.obtain(),n.length=0,n.push(u),n.push(m),n.push(g),n.push(f),n.push(p),n.push(x),r=this.polygonIndicesPool.obtain(),r.length=0,r.push(h),r.push(d),r.push(c),o=Triangulator.winding(u,m,g,f,p,x),l=h)}n.length>0&&(s.push(n),a.push(r));for(let t=0,e=s.length;t<e;t++){if(r=a[t],0==r.length)continue;let i=r[0],l=r[r.length-1];n=s[t];let o=n.length-4,h=n[o],d=n[o+1],c=n[o+2],u=n[o+3],m=n[0],g=n[1],f=n[2],p=n[3],x=Triangulator.winding(h,d,c,u,m,g);for(let o=0;o<e;o++){if(o==t)continue;let e=a[o];if(3!=e.length)continue;let w=e[0],b=e[1],y=e[2],T=s[o],A=T[T.length-2],M=T[T.length-1];if(w!=i||b!=l)continue;let k=Triangulator.winding(h,d,c,u,A,M),C=Triangulator.winding(A,M,m,g,f,p);k==x&&C==x&&(T.length=0,e.length=0,n.push(A),n.push(M),r.push(y),h=c,d=u,c=A,u=M,o=0)}}for(let t=s.length-1;t>=0;t--)n=s[t],0==n.length&&(s.splice(t,1),this.polygonPool.free(n),r=a[t],a.splice(t,1),this.polygonIndicesPool.free(r));return s}static isConcave(t,e,i,s){let a=s[(e+t-1)%e]<<1,r=s[t]<<1,n=s[(t+1)%e]<<1;return!this.positiveArea(i[a],i[a+1],i[r],i[r+1],i[n],i[n+1])}static positiveArea(t,e,i,s,a,r){return t*(r-s)+i*(e-r)+a*(s-e)>=0}static winding(t,e,i,s,a,r){let n=i-t,l=s-e;return a*l-r*n+n*e-t*l>=0?1:-1}}t.Triangulator=Triangulator}(spine||(spine={})),function(t){t.IntSet=class{constructor(){this.array=new Array}add(t){let e=this.contains(t);return this.array[0|t]=0|t,!e}contains(t){return null!=this.array[0|t]}remove(t){this.array[0|t]=void 0}clear(){this.array.length=0}};t.StringSet=class{constructor(){this.entries={},this.size=0}add(t){let e=this.entries[t];return this.entries[t]=!0,!e&&(this.size++,!0)}addAll(t){let e=this.size;for(var i=0,s=t.length;i<s;i++)this.add(t[i]);return e!=this.size}contains(t){return this.entries[t]}clear(){this.entries={},this.size=0}};class Color{constructor(t=0,e=0,i=0,s=0){this.r=t,this.g=e,this.b=i,this.a=s}set(t,e,i,s){return this.r=t,this.g=e,this.b=i,this.a=s,this.clamp()}setFromColor(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}setFromString(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=8!=t.length?1:parseInt(t.substr(6,2),16)/255,this}add(t,e,i,s){return this.r+=t,this.g+=e,this.b+=i,this.a+=s,this.clamp()}clamp(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}static rgba8888ToColor(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255}static rgb888ToColor(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255}static fromString(t){return(new Color).setFromString(t)}}Color.WHITE=new Color(1,1,1,1),Color.RED=new Color(1,0,0,1),Color.GREEN=new Color(0,1,0,1),Color.BLUE=new Color(0,0,1,1),Color.MAGENTA=new Color(1,0,1,1),t.Color=Color;class MathUtils{static clamp(t,e,i){return t<e?e:t>i?i:t}static cosDeg(t){return Math.cos(t*MathUtils.degRad)}static sinDeg(t){return Math.sin(t*MathUtils.degRad)}static signum(t){return t>0?1:t<0?-1:0}static toInt(t){return t>0?Math.floor(t):Math.ceil(t)}static cbrt(t){let e=Math.pow(Math.abs(t),1/3);return t<0?-e:e}static randomTriangular(t,e){return MathUtils.randomTriangularWith(t,e,.5*(t+e))}static randomTriangularWith(t,e,i){let s=Math.random(),a=e-t;return s<=(i-t)/a?t+Math.sqrt(s*a*(i-t)):e-Math.sqrt((1-s)*a*(e-i))}static isPowerOfTwo(t){return t&&0==(t&t-1)}}MathUtils.PI=3.1415927,MathUtils.PI2=2*MathUtils.PI,MathUtils.radiansToDegrees=180/MathUtils.PI,MathUtils.radDeg=MathUtils.radiansToDegrees,MathUtils.degreesToRadians=MathUtils.PI/180,MathUtils.degRad=MathUtils.degreesToRadians,t.MathUtils=MathUtils;class Interpolation{apply(t,e,i){return t+(e-t)*this.applyInternal(i)}}t.Interpolation=Interpolation;class Pow extends Interpolation{constructor(t){super(),this.power=2,this.power=t}applyInternal(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1}}t.Pow=Pow;t.PowOut=class extends Pow{constructor(t){super(t)}applyInternal(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1}};class Utils{static arrayCopy(t,e,i,s,a){for(let r=e,n=s;r<e+a;r++,n++)i[n]=t[r]}static arrayFill(t,e,i,s){for(let a=e;a<i;a++)t[a]=s}static setArraySize(t,e,i=0){let s=t.length;if(s==e)return t;if(t.length=e,s<e)for(let a=s;a<e;a++)t[a]=i;return t}static ensureArrayCapacity(t,e,i=0){return t.length>=e?t:Utils.setArraySize(t,e,i)}static newArray(t,e){let i=new Array(t);for(let s=0;s<t;s++)i[s]=e;return i}static newFloatArray(t){if(Utils.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);{let e=new Array(t);for(let t=0;t<e.length;t++)e[t]=0;return e}}static newShortArray(t){if(Utils.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);{let e=new Array(t);for(let t=0;t<e.length;t++)e[t]=0;return e}}static toFloatArray(t){return Utils.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t}static toSinglePrecision(t){return Utils.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t}static webkit602BugfixHelper(t,e){}static contains(t,e,i=!0){for(var s=0;s<t.length;s++)if(t[s]==e)return!0;return!1}static enumValue(t,e){return t[e[0].toUpperCase()+e.slice(1)]}}Utils.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t.Utils=Utils;t.DebugUtils=class{static logBones(t){for(let e=0;e<t.bones.length;e++){let i=t.bones[e];console.log(i.data.name+", "+i.a+", "+i.b+", "+i.c+", "+i.d+", "+i.worldX+", "+i.worldY)}}};t.Pool=class{constructor(t){this.items=new Array,this.instantiator=t}obtain(){return this.items.length>0?this.items.pop():this.instantiator()}free(t){t.reset&&t.reset(),this.items.push(t)}freeAll(t){for(let e=0;e<t.length;e++)this.free(t[e])}clear(){this.items.length=0}};t.Vector2=class{constructor(t=0,e=0){this.x=t,this.y=e}set(t,e){return this.x=t,this.y=e,this}length(){let t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}normalize(){let t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this}};t.TimeKeeper=class{constructor(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}update(){let t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}};t.WindowedMean=class{constructor(t=32){this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}hasEnoughData(){return this.addedValues>=this.values.length}addValue(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0}getMean(){if(this.hasEnoughData()){if(this.dirty){let t=0;for(let e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0}}}(spine||(spine={})),function(t){class Attachment{constructor(t){if(!t)throw new Error("name cannot be null.");this.name=t}}t.Attachment=Attachment;class VertexAttachment extends Attachment{constructor(t){super(t),this.id=VertexAttachment.nextID++,this.bones=null,this.vertices=null,this.worldVerticesLength=0,this.deformAttachment=this}computeWorldVertices(t,e,i,s,a,r){i=a+(i>>1)*r;let n=t.bone.skeleton,l=t.deform,o=this.vertices,h=this.bones;if(!h){l.length>0&&(o=l);let n=t.bone,h=n.worldX,d=n.worldY,c=n.a,u=n.b,m=n.c,g=n.d;for(let t=e,n=a;n<i;t+=2,n+=r){let e=o[t],i=o[t+1];s[n]=e*c+i*u+h,s[n+1]=e*m+i*g+d}return}let d=0,c=0;for(let t=0;t<e;t+=2){let t=h[d];d+=t+1,c+=t}let u=n.bones;if(0==l.length)for(let t=a,e=3*c;t<i;t+=r){let i=0,a=0,r=h[d++];for(r+=d;d<r;d++,e+=3){let t=u[h[d]],s=o[e],r=o[e+1],n=o[e+2];i+=(s*t.a+r*t.b+t.worldX)*n,a+=(s*t.c+r*t.d+t.worldY)*n}s[t]=i,s[t+1]=a}else{let t=l;for(let e=a,n=3*c,l=c<<1;e<i;e+=r){let i=0,a=0,r=h[d++];for(r+=d;d<r;d++,n+=3,l+=2){let e=u[h[d]],s=o[n]+t[l],r=o[n+1]+t[l+1],c=o[n+2];i+=(s*e.a+r*e.b+e.worldX)*c,a+=(s*e.c+r*e.d+e.worldY)*c}s[e]=i,s[e+1]=a}}}copyTo(e){this.bones?(e.bones=new Array(this.bones.length),t.Utils.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,this.vertices?(e.vertices=t.Utils.newFloatArray(this.vertices.length),t.Utils.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)):e.vertices=null,e.worldVerticesLength=this.worldVerticesLength,e.deformAttachment=this.deformAttachment}}VertexAttachment.nextID=0,t.VertexAttachment=VertexAttachment}(spine||(spine={})),function(t){class BoundingBoxAttachment extends t.VertexAttachment{constructor(e){super(e),this.color=new t.Color(1,1,1,1)}copy(){let t=new BoundingBoxAttachment(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t}}t.BoundingBoxAttachment=BoundingBoxAttachment}(spine||(spine={})),function(t){class ClippingAttachment extends t.VertexAttachment{constructor(e){super(e),this.endSlot=null,this.color=new t.Color(.2275,.2275,.8078,1)}copy(){let t=new ClippingAttachment(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}}t.ClippingAttachment=ClippingAttachment}(spine||(spine={})),function(t){class MeshAttachment extends t.VertexAttachment{constructor(e){super(e),this.region=null,this.path=null,this.regionUVs=null,this.uvs=null,this.triangles=null,this.color=new t.Color(1,1,1,1),this.width=0,this.height=0,this.hullLength=0,this.edges=null,this.parentMesh=null,this.tempColor=new t.Color(0,0,0,0)}updateUVs(){let e=this.regionUVs;this.uvs&&this.uvs.length==e.length||(this.uvs=t.Utils.newFloatArray(e.length));let i=this.uvs,s=this.uvs.length,a=this.region.u,r=this.region.v,n=0,l=0;if(this.region instanceof t.TextureAtlasRegion){let t=this.region,o=t.page.texture.getImage(),h=o.width,d=o.height;switch(t.degrees){case 90:a-=(t.originalHeight-t.offsetY-t.height)/h,r-=(t.originalWidth-t.offsetX-t.width)/d,n=t.originalHeight/h,l=t.originalWidth/d;for(let t=0;t<s;t+=2)i[t]=a+e[t+1]*n,i[t+1]=r+(1-e[t])*l;return;case 180:a-=(t.originalWidth-t.offsetX-t.width)/h,r-=t.offsetY/d,n=t.originalWidth/h,l=t.originalHeight/d;for(let t=0;t<s;t+=2)i[t]=a+(1-e[t])*n,i[t+1]=r+(1-e[t+1])*l;return;case 270:a-=t.offsetY/h,r-=t.offsetX/d,n=t.originalHeight/h,l=t.originalWidth/d;for(let t=0;t<s;t+=2)i[t]=a+(1-e[t+1])*n,i[t+1]=r+e[t]*l;return}a-=t.offsetX/h,r-=(t.originalHeight-t.offsetY-t.height)/d,n=t.originalWidth/h,l=t.originalHeight/d}else this.region?(n=this.region.u2-a,l=this.region.v2-r):(a=r=0,n=l=1);for(let t=0;t<s;t+=2)i[t]=a+e[t]*n,i[t+1]=r+e[t+1]*l}getParentMesh(){return this.parentMesh}setParentMesh(t){this.parentMesh=t,t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}copy(){if(this.parentMesh)return this.newLinkedMesh();let e=new MeshAttachment(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Array(this.regionUVs.length),t.Utils.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.uvs=new Array(this.uvs.length),t.Utils.arrayCopy(this.uvs,0,e.uvs,0,this.uvs.length),e.triangles=new Array(this.triangles.length),t.Utils.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,this.edges&&(e.edges=new Array(this.edges.length),t.Utils.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e}newLinkedMesh(){let t=new MeshAttachment(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(this.parentMesh?this.parentMesh:this),t.updateUVs(),t}}t.MeshAttachment=MeshAttachment}(spine||(spine={})),function(t){class PathAttachment extends t.VertexAttachment{constructor(e){super(e),this.lengths=null,this.closed=!1,this.constantSpeed=!1,this.color=new t.Color(1,1,1,1)}copy(){let e=new PathAttachment(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),t.Utils.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e}}t.PathAttachment=PathAttachment}(spine||(spine={})),function(t){class PointAttachment extends t.VertexAttachment{constructor(e){super(e),this.x=0,this.y=0,this.rotation=0,this.color=new t.Color(.38,.94,0,1)}computeWorldPosition(t,e){return e.x=this.x*t.a+this.y*t.b+t.worldX,e.y=this.x*t.c+this.y*t.d+t.worldY,e}computeWorldRotation(e){let i=t.MathUtils.cosDeg(this.rotation),s=t.MathUtils.sinDeg(this.rotation),a=i*e.a+s*e.b,r=i*e.c+s*e.d;return Math.atan2(r,a)*t.MathUtils.radDeg}copy(){let t=new PointAttachment(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}}t.PointAttachment=PointAttachment}(spine||(spine={})),function(t){class RegionAttachment extends t.Attachment{constructor(e){super(e),this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new t.Color(1,1,1,1),this.path=null,this.rendererObject=null,this.region=null,this.offset=t.Utils.newFloatArray(8),this.uvs=t.Utils.newFloatArray(8),this.tempColor=new t.Color(1,1,1,1)}updateOffset(){this.region;let t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*t,s=-this.height/2*this.scaleY+this.region.offsetY*e,a=i+this.region.width*t,r=s+this.region.height*e,n=this.rotation*Math.PI/180,l=Math.cos(n),o=Math.sin(n),h=this.x,d=this.y,c=i*l+h,u=i*o,m=s*l+d,g=s*o,f=a*l+h,p=a*o,x=r*l+d,w=r*o,b=this.offset;b[0]=c-g,b[1]=m+u,b[2]=c-w,b[3]=x+u,b[4]=f-w,b[5]=x+p,b[6]=f-g,b[7]=m+p}setRegion(t){this.region=t;let e=this.uvs;90==t.degrees?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)}computeWorldVertices(t,e,i,s){let a=this.offset,r=t.worldX,n=t.worldY,l=t.a,o=t.b,h=t.c,d=t.d,c=0,u=0;c=a[0],u=a[1],e[i]=c*l+u*o+r,e[i+1]=c*h+u*d+n,i+=s,c=a[2],u=a[3],e[i]=c*l+u*o+r,e[i+1]=c*h+u*d+n,i+=s,c=a[4],u=a[5],e[i]=c*l+u*o+r,e[i+1]=c*h+u*d+n,i+=s,c=a[6],u=a[7],e[i]=c*l+u*o+r,e[i+1]=c*h+u*d+n}copy(){let e=new RegionAttachment(this.name);return e.region=this.region,e.rendererObject=this.rendererObject,e.path=this.path,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,t.Utils.arrayCopy(this.uvs,0,e.uvs,0,8),t.Utils.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e}}RegionAttachment.X1=0,RegionAttachment.Y1=1,RegionAttachment.C1R=2,RegionAttachment.C1G=3,RegionAttachment.C1B=4,RegionAttachment.C1A=5,RegionAttachment.U1=6,RegionAttachment.V1=7,RegionAttachment.X2=8,RegionAttachment.Y2=9,RegionAttachment.C2R=10,RegionAttachment.C2G=11,RegionAttachment.C2B=12,RegionAttachment.C2A=13,RegionAttachment.U2=14,RegionAttachment.V2=15,RegionAttachment.X3=16,RegionAttachment.Y3=17,RegionAttachment.C3R=18,RegionAttachment.C3G=19,RegionAttachment.C3B=20,RegionAttachment.C3A=21,RegionAttachment.U3=22,RegionAttachment.V3=23,RegionAttachment.X4=24,RegionAttachment.Y4=25,RegionAttachment.C4R=26,RegionAttachment.C4G=27,RegionAttachment.C4B=28,RegionAttachment.C4A=29,RegionAttachment.U4=30,RegionAttachment.V4=31,t.RegionAttachment=RegionAttachment}(spine||(spine={})),function(t){t.JitterEffect=class{constructor(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}begin(t){}transform(e,i,s,a){e.x+=t.MathUtils.randomTriangular(-this.jitterX,this.jitterY),e.y+=t.MathUtils.randomTriangular(-this.jitterX,this.jitterY)}end(){}}}(spine||(spine={})),function(t){class SwirlEffect{constructor(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}begin(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY}transform(e,i,s,a){let r=this.angle*t.MathUtils.degreesToRadians,n=e.x-this.worldX,l=e.y-this.worldY,o=Math.sqrt(n*n+l*l);if(o<this.radius){let t=SwirlEffect.interpolation.apply(0,r,(this.radius-o)/this.radius),i=Math.cos(t),s=Math.sin(t);e.x=i*n-s*l+this.worldX,e.y=s*n+i*l+this.worldY}}end(){}}SwirlEffect.interpolation=new t.PowOut(2),t.SwirlEffect=SwirlEffect}(spine||(spine={})),window.spine=spine;