!function(i,e){"use strict";class Physics3DColliderShape{constructor(){this._localOffset=new e.Vector3(0,0,0),this._createShape()}get localOffset(){return this._localOffset}set localOffset(i){this._localOffset=i,this._shape.setOffset(i)}_createShape(){throw"override it"}cloneTo(i){var e=i;this._localOffset.cloneTo(e.localOffset),e.localOffset=e.localOffset}clone(){return null}destroy(){this._shape&&(this._shape.destroy(),this._shape=null)}}Physics3DColliderShape.SHAPEORIENTATION_UPX=0,Physics3DColliderShape.SHAPEORIENTATION_UPY=1,Physics3DColliderShape.SHAPEORIENTATION_UPZ=2;class BoxColliderShape extends Physics3DColliderShape{constructor(i=1,t=1,s=1){super(),this._size=new e.Vector3(i,t,s),this._shape.setSize(this._size)}_createShape(){e.Laya3D.PhysicsCreateUtil.getPhysicsCapable(e.EPhysicsCapable.Physics_BoxColliderShape)?this._shape=e.Laya3D.PhysicsCreateUtil.createBoxColliderShape():console.error("BoxColliderShape: cant enable BoxColliderShape")}get size(){return this._size}set size(i){this._size=i,e.LayaEnv.isPlaying&&this._shape.setSize(this._size)}clone(){var i=new BoxColliderShape(this._size.x,this._size.y,this._size.z);return this.cloneTo(i),i}cloneTo(i){super.cloneTo(i),i.size=this.size}get sizeX(){return this.size.x}set sizeX(i){this._size.x=i,e.LayaEnv.isPlaying&&this._shape.setSize(this._size)}get sizeY(){return this.size.y}set sizeY(i){this._size.y=i,e.LayaEnv.isPlaying&&this._shape.setSize(this._size)}get sizeZ(){return this.size.z}set sizeZ(i){this._size.z=i,e.LayaEnv.isPlaying&&this._shape.setSize(this._size)}}class SphereColliderShape extends Physics3DColliderShape{constructor(i=.5){super(),this.radius=i}get radius(){return this._radius}set radius(i){this._radius=i,e.LayaEnv.isPlaying&&this._shape.setRadius(i)}_createShape(){e.Laya3D.PhysicsCreateUtil.getPhysicsCapable(e.EPhysicsCapable.Physics_SphereColliderShape)?this._shape=e.Laya3D.PhysicsCreateUtil.createSphereColliderShape():console.error("SphereColliderShape: cant enable SphereColliderShape")}clone(){var i=new SphereColliderShape(this._radius);return this.cloneTo(i),i}cloneTo(i){super.cloneTo(i),i.radius=this.radius}}class CapsuleColliderShape extends Physics3DColliderShape{constructor(i=.5,e=2,t=Physics3DColliderShape.SHAPEORIENTATION_UPY){super(),this.radius=i,this.length=e,this.orientation=t}get radius(){return this._radius}set radius(i){this._radius=i,e.LayaEnv.isPlaying&&this._shape.setRadius(i)}get length(){return this._length}set length(i){this._length=i,e.LayaEnv.isPlaying&&this._shape.setHeight(i)}get orientation(){return this._orientation}set orientation(i){this._orientation=i,e.LayaEnv.isPlaying&&this._shape.setUpAxis(i)}_createShape(){e.Laya3D.PhysicsCreateUtil.getPhysicsCapable(e.EPhysicsCapable.Physics_CapsuleColliderShape)?this._shape=e.Laya3D.PhysicsCreateUtil.createCapsuleColliderShape():console.error("CapsuleColliderShape: cant enable CapsuleColliderShape")}clone(){var i=new CapsuleColliderShape(this._radius,this._length,this._orientation);return this.cloneTo(i),i}cloneTo(i){super.cloneTo(i),i.radius=this.radius,i.length=this.length,i.orientation=this.orientation}}class MeshColliderShape extends Physics3DColliderShape{constructor(){super(),this._mesh=null,this._convex=!1,this._convexVertexMax=255}get mesh(){return this._mesh}set mesh(i){this._mesh==i&&this._shape||!i||(this._mesh=i,this._changeShape())}_changeShape(){this.mesh&&(this._convex?this._shape.setConvexMesh(this.mesh):this._shape.setPhysicsMeshFromMesh(this.mesh))}get convexVertexMax(){return this._convexVertexMax}set convexVertexMax(i){i=Math.max(Math.min(255,i),0),this._convexVertexMax=i}get convex(){return this._convex}set convex(i){i!=this._convex&&(this._convex=i,this._changeShape())}_createShape(){e.Laya3D.PhysicsCreateUtil.getPhysicsCapable(e.EPhysicsCapable.Physics_MeshColliderShape)?this._shape=e.Laya3D.PhysicsCreateUtil.createMeshColliderShape():console.error("MeshColliderShape: cant enable MeshColliderShape")}cloneTo(i){var e=i;e.convex=this._convex,e._convexVertexMax=this._convexVertexMax,e.mesh=this._mesh,super.cloneTo(i)}clone(){var i=new MeshColliderShape;return this.cloneTo(i),i}}class ConeColliderShape extends Physics3DColliderShape{constructor(i=.5,e=1,t=Physics3DColliderShape.SHAPEORIENTATION_UPY){super(),this._radius=1,this._height=.5,this.radius=i,this.height=e,this.orientation=t}get radius(){return this._radius}set radius(i){this._radius=i,e.LayaEnv.isPlaying&&this._shape.setRadius(i)}get height(){return this._height}set height(i){this._height=i,e.LayaEnv.isPlaying&&this._shape.setHeight(i)}get orientation(){return this._orientation}set orientation(i){this._orientation=i,e.LayaEnv.isPlaying&&this._shape.setUpAxis(i)}_createShape(){e.Laya3D.PhysicsCreateUtil.getPhysicsCapable(e.EPhysicsCapable.Physics_ConeColliderShape)?this._shape=e.Laya3D.PhysicsCreateUtil.createConeColliderShape():console.error("ConeColliderShape: cant enable ConeColliderShape")}clone(){var i=new ConeColliderShape(this._radius,this._height,this._orientation);return this.cloneTo(i),i}cloneTo(i){super.cloneTo(i),i.radius=this.radius,i.height=this.height,i.orientation=this.orientation}}class CylinderColliderShape extends Physics3DColliderShape{constructor(i=.5,e=1,t=Physics3DColliderShape.SHAPEORIENTATION_UPY){super(),this._radius=1,this._height=.5,this.radius=i,this.height=e,this.orientation=t}get radius(){return this._radius}set radius(i){this._radius=i,e.LayaEnv.isPlaying&&this._shape.setRadius(i)}get height(){return this._height}set height(i){this._height=i,e.LayaEnv.isPlaying&&this._shape.setHeight(i)}get orientation(){return this._orientation}set orientation(i){this._orientation=i,e.LayaEnv.isPlaying&&this._shape.setUpAxis(i)}_createShape(){e.Laya3D.PhysicsCreateUtil.getPhysicsCapable(e.EPhysicsCapable.Physics_CylinderColliderShape)?this._shape=e.Laya3D.PhysicsCreateUtil.createCylinderColliderShape():console.error("CylinderColliderShape: cant enable CylinderColliderShape")}clone(){var i=new CylinderColliderShape(this._radius,this._height,this._orientation);return this.cloneTo(i),i}cloneTo(i){super.cloneTo(i),i.radius=this.radius,i.height=this.height,i.orientation=this.orientation}}var t,s;i.PhysicsCombineMode=void 0,(t=i.PhysicsCombineMode||(i.PhysicsCombineMode={}))[t.Average=0]="Average",t[t.Minimum=1]="Minimum",t[t.Multiply=2]="Multiply",t[t.Maximum=3]="Maximum",i.PhysicsForceMode=void 0,(s=i.PhysicsForceMode||(i.PhysicsForceMode={}))[s.Force=0]="Force",s[s.Impulse=1]="Impulse";class PhysicsColliderComponent extends e.Component{constructor(){super(),this._restitution=0,this._friction=.5,this._rollingFriction=0,this._dynamicFriction=0,this._staticFriction=0,this._frictionCombine=0,this._restitutionCombine=0,this._ccdMotionThreshold=0,this._ccdSweptSphereRadius=0,this._collisionGroup=1,this._canCollideWith=-1,this._colliderShape=null,this._transformFlag=2147483647,this._controlBySimulation=!1}get collider(){return this._collider}get restitution(){return this._restitution}set restitution(i){this._restitution=i,this._collider&&this._collider.getCapable(e.EColliderCapable.Collider_Restitution)&&this._collider.setBounciness(i)}get friction(){return this._friction}set friction(i){this._friction=i,this._collider&&this._collider.getCapable(e.EColliderCapable.Collider_Friction)&&this._collider.setfriction(i)}get rollingFriction(){return this._rollingFriction}set rollingFriction(i){this._rollingFriction=i,this._collider&&this._collider.getCapable(e.EColliderCapable.Collider_RollingFriction)&&this._collider.setRollingFriction(i)}get dynamicFriction(){return this._dynamicFriction}set dynamicFriction(i){this._collider&&this._collider.getCapable(e.EColliderCapable.Collider_DynamicFriction)&&this._collider.setDynamicFriction(i)}get staticFriction(){return this._staticFriction}set staticFriction(i){this._staticFriction=i,this._collider&&this._collider.getCapable(e.EColliderCapable.Collider_StaticFriction)&&this._collider.setStaticFriction(i)}set frictionCombine(i){this._frictionCombine=i,this._collider&&this._collider.getCapable(e.EColliderCapable.Collider_FrictionCombine)&&this._collider.setFrictionCombine(i)}get frictionCombine(){return this._frictionCombine}set restitutionCombine(i){this._restitutionCombine=i,this._collider&&this._collider.getCapable(e.EColliderCapable.Collider_BounceCombine)&&this._collider.setBounceCombine(i)}get restitutionCombine(){return this._restitutionCombine}get ccdMotionThreshold(){return this._ccdMotionThreshold}set ccdMotionThreshold(i){}get ccdSweptSphereRadius(){return this._ccdSweptSphereRadius}set ccdSweptSphereRadius(i){}get colliderShape(){return this._colliderShape}set colliderShape(i){i&&i!=this._colliderShape&&(this._colliderShape&&this._colliderShape.destroy(),this._colliderShape=i,this._collider&&this._collider.setColliderShape(i._shape))}get collisionGroup(){return this._collisionGroup}set collisionGroup(i){this._collider&&this._collider.getCapable(e.EColliderCapable.Collider_CollisionGroup)&&this._collisionGroup!==i&&(this._collisionGroup=i,this._colliderShape&&this._enabled&&this._collider.setCollisionGroup(i))}get canCollideWith(){return this._canCollideWith}set canCollideWith(i){this._collider&&this._collider.getCapable(e.EColliderCapable.Collider_CollisionGroup)&&this._canCollideWith!==i&&(this._canCollideWith=i,this._colliderShape&&this._enabled&&this._collider.setCanCollideWith(i))}_parseShape(i){if(1===i.length){var e=PhysicsColliderComponent._creatShape(i[0]);this.colliderShape=e}}initCollider(){this._initCollider(),this._collider.setOwner(this.owner),this._colliderShape&&this._collider.setColliderShape(this._colliderShape._shape),this.ccdMotionThreshold=this._ccdMotionThreshold,this.ccdSweptSphereRadius=this._ccdSweptSphereRadius,this.collisionGroup=this._collisionGroup,this.canCollideWith=this._canCollideWith}_initCollider(){}_setEventFilter(){}_onAdded(){this.owner.scene?(this.initCollider(),this.owner.off(e.Node.EVENT_SET_ACTIVESCENE,this,this._onAdded)):this.owner.on(e.Node.EVENT_SET_ACTIVESCENE,this,this._onAdded),this.owner.off(e.Event._Add_Script,this,this._setEventFilter),this.owner.on(e.Event._Add_Script,this,this._setEventFilter)}_onEnable(){this.owner.transform.on(e.Event.TRANSFORM_CHANGED,this,this._onTransformChanged),this._physicsManager=this.owner._scene._physicsManager,this._collider&&(this._collider.componentEnable=!0),this._colliderShape&&this._physicsManager.addCollider(this._collider)}_onDisable(){this.owner.transform.off(e.Event.TRANSFORM_CHANGED,this,this._onTransformChanged),this._collider&&(this._collider.componentEnable=!1),this._colliderShape&&this._physicsManager.removeCollider(this._collider),this._physicsManager=null}_onDestroy(){this._collider.destroy(),this._colliderShape&&this._colliderShape.destroy(),this._collider=null,this._colliderShape=null,this._physicsManager=null}_onTransformChanged(i){this._controlBySimulation||(i&=e.Transform3D.TRANSFORM_WORLDPOSITION|e.Transform3D.TRANSFORM_WORLDQUATERNION|e.Transform3D.TRANSFORM_WORLDSCALE)&&this._colliderShape&&this._enabled&&(this._transformFlag|=i,this._collider.transformChanged(i))}_cloneTo(i){var e=i;e.restitution=this._restitution,e.friction=this._friction,e.rollingFriction=this._rollingFriction,e.ccdMotionThreshold=this._ccdMotionThreshold,e.ccdSweptSphereRadius=this._ccdSweptSphereRadius,e.dynamicFriction=this.dynamicFriction,e.staticFriction=this.staticFriction,e.frictionCombine=this.frictionCombine,e.restitutionCombine=this.restitutionCombine,e.collisionGroup=this._collisionGroup,e.canCollideWith=this._canCollideWith,this._colliderShape&&(e.colliderShape=this._colliderShape.clone())}static _creatShape(i){switch(i.type){case"BoxColliderShape":var e=i.size;e?new BoxColliderShape(e[0],e[1],e[2]):new BoxColliderShape;break;case"SphereColliderShape":new SphereColliderShape(i.radius);break;case"CapsuleColliderShape":new CapsuleColliderShape(i.radius,i.height,i.orientation);break;case"MeshColliderShape":new MeshColliderShape;break;case"ConeColliderShape":new ConeColliderShape(i.radius,i.height,i.orientation);break;case"CylinderColliderShape":new CylinderColliderShape(i.radius,i.height,i.orientation);break;default:console.error("unknown shape type.")}return null}_parse(i){null!=i.collisionGroup&&this._collider.setCollisionGroup(i.collisionGroup),null!=i.canCollideWith&&this._collider.setCanCollideWith(i.canCollideWith),null!=i.ccdMotionThreshold&&(this.ccdMotionThreshold=i.ccdMotionThreshold),null!=i.ccdSweptSphereRadius&&(this.ccdSweptSphereRadius=i.ccdSweptSphereRadius)}}class CharacterController extends PhysicsColliderComponent{constructor(){super(),this._stepHeight=.1,this._upAxis=new e.Vector3(0,1,0),this._maxSlope=90,this._gravity=new e.Vector3(0,-9.8,0),this._radius=.5,this._height=2,this._offset=new e.Vector3,this._minDistance=0,this._simGravity=new e.Vector3(0,-9.8/60,0),this._pushForce=1}_initCollider(){this._physicsManager=this.owner.scene.physicsSimulation,e.Laya3D.enablePhysics&&this._physicsManager&&e.Laya3D.PhysicsCreateUtil.getPhysicsCapable(e.EPhysicsCapable.Physics_CharacterCollider)?(this._physicsManager=this.owner._scene._physicsManager,this._collider=e.Laya3D.PhysicsCreateUtil.createCharacterController(this._physicsManager)):console.error("CharacterController: cant enable CharacterController")}onUpdate(){this.move(this._simGravity)}get radius(){return this._radius}set radius(i){this._radius=i,this.collider.getCapable(e.ECharacterCapable.Character_Radius)&&this._collider&&this._collider.setRadius(this._radius)}get height(){return this._height}set height(i){this._height=i,this.collider.getCapable(e.ECharacterCapable.Character_Height)&&this._collider&&this._collider.setHeight(this._height)}get minDistance(){return this._minDistance}set minDistance(i){this._minDistance=i,this.collider.getCapable(e.ECharacterCapable.Character_minDistance)&&this._collider&&this._collider.setminDistance(this._minDistance)}get centerOffset(){return this._offset}set centerOffset(i){this._offset=i,this.collider.getCapable(e.ECharacterCapable.Character_offset)&&this._collider&&this._collider.setShapelocalOffset(this._offset)}get gravity(){return this._gravity}set gravity(i){this._gravity=i,this.collider.getCapable(e.ECharacterCapable.Charcater_Gravity)&&this._collider&&this._collider.setGravity(i)}get skinWidth(){return this._contactOffset}set skinWidth(i){this._contactOffset=i,this.collider.getCapable(e.ECharacterCapable.Character_Skin)&&this._collider&&this._collider.setSkinWidth(i)}get maxSlope(){return this._maxSlope}set maxSlope(i){this._maxSlope=i,this.collider.getCapable(e.ECharacterCapable.Character_SlopeLimit)&&this._collider&&this._collider.setSlopeLimit(i)}get stepHeight(){return this._stepHeight}set stepHeight(i){this._stepHeight=i,this.collider.getCapable(e.ECharacterCapable.Charcater_StepOffset)&&this._collider&&this._collider.setStepOffset(i)}get upAxis(){return this._upAxis}set upAxis(i){this._upAxis=i,this.collider.getCapable(e.ECharacterCapable.Character_UpDirection)&&this._collider&&this._collider.setUpDirection(i)}get position(){return null}set position(i){this.collider.getCapable(e.ECharacterCapable.Charcater_WorldPosition)&&this._collider&&this._collider.setPosition(i)}get pushForce(){return this._pushForce}set pushForce(i){this._pushForce=i,this.collider&&this.collider.getCapable(e.ECharacterCapable.Character_PushForce)&&this._collider.setPushForce(i)}getVerticalVel(){return this._collider?this._collider.getVerticalVel():0}move(i){this.collider.getCapable(e.ECharacterCapable.Charcater_Move)&&this._collider&&this._collider.move(i)}jump(i=null){this.collider.getCapable(e.ECharacterCapable.Charcater_Jump)&&this._collider&&this._collider.jump(i)}_cloneTo(i){super._cloneTo(i);var e=i;e.stepHeight=this._stepHeight,e.upAxis=this._upAxis,e.maxSlope=this._maxSlope,e.gravity=this._gravity}_setEventFilter(){this._collider&&this._collider.getCapable(e.ECharacterCapable.Character_EventFilter)&&(this._eventsArray=[],this.owner.hasListener(e.Event.COLLISION_ENTER)&&this._eventsArray.push(e.Event.COLLISION_ENTER),this.owner.hasListener(e.Event.COLLISION_STAY)&&this._eventsArray.push(e.Event.COLLISION_STAY),this.owner.hasListener(e.Event.COLLISION_EXIT)&&this._eventsArray.push(e.Event.COLLISION_EXIT),this._collider.setEventFilter(this._eventsArray))}}class ConstraintComponent extends e.Component{constructor(){super(),this._enableCollison=!1,this._breakForce=Number.MAX_VALUE,this._breakTorque=Number.MAX_VALUE,this._ownColliderLocalPos=new e.Vector3,this._connectColliderLocalPos=new e.Vector3}initJoint(){this._initJoint(),this._joint.setOwner(this.owner),this._joint.setLocalPos(this._ownColliderLocalPos),this._joint.setConnectLocalPos(this._connectColliderLocalPos),this._joint.setBreakForce(this.breakForce),this._joint.setBreakTorque(this._breakTorque)}_initJoint(){}set connectedBody(i){i&&this._connectCollider!=i&&(this._connectCollider=i,this._joint&&this._joint.setConnectedCollider(i.collider))}get connectedBody(){return this._connectCollider}get ownBody(){return this._ownCollider}set ownBody(i){i&&this._ownCollider!=i&&(this._ownCollider=i,this._joint&&this._joint.setCollider(i.collider))}get currentForce(){return this._joint?this._joint.getlinearForce():(console.error("joint is illegal"),null)}get currentTorque(){return this._joint?this._joint.getAngularForce():(console.error("joint is illegal"),null)}get breakForce(){return this._breakForce}set breakForce(i){this._breakForce=i,this._joint&&this._joint.setBreakForce(i)}get breakTorque(){return this._breakTorque}set breakTorque(i){this._breakTorque=i,this._joint&&this._joint.setBreakTorque(i)}set anchor(i){i.cloneTo(this._ownColliderLocalPos),this._joint&&this._joint.setLocalPos(i)}get anchor(){return this._ownColliderLocalPos}set connectAnchor(i){i.cloneTo(this._connectColliderLocalPos),this._joint&&this._joint.setConnectLocalPos(this._connectColliderLocalPos)}get connectAnchor(){return this._connectColliderLocalPos}get enableCollison(){return this._enableCollison}set enableCollison(i){this._enableCollison=i,this._joint.isCollision(i)}_onAdded(){this.owner.scene?(this.initJoint(),this.owner.off(e.Node.EVENT_SET_ACTIVESCENE,this,this._onAdded)):this.owner.on(e.Node.EVENT_SET_ACTIVESCENE,this,this._onAdded)}setOverrideNumSolverIterations(i){}setConstraintEnabled(i){}_onDestroy(){}isBreakConstrained(){return this._joint.isValid()}}class ConfigurableConstraint extends ConstraintComponent{constructor(){super(),this._axis=new e.Vector3(1,0,0),this._secondaryAxis=new e.Vector3(0,1,0),this._xMotion=e.D6Axis.eFREE,this._yMotion=e.D6Axis.eFREE,this._zMotion=e.D6Axis.eFREE,this._angularXMotion=e.D6Axis.eFREE,this._angularYMotion=e.D6Axis.eFREE,this._angularZMotion=e.D6Axis.eFREE,this._distanceLimit=0,this._distanceBounciness=0,this._distanceBounceThreshold=0,this._distanceSpring=0,this._distanceDamper=0,this._twistUper=0,this._twistLower=0,this._twistBounceness=0,this._twistBounceThreshold=0,this._twistStiffness=0,this._twistDamping=0,this._ySwingAngleLimit=0,this._zSwingAngleLimit=0,this._Swingrestitution=0,this._SwingbounceThreshold=0,this._SwingStiffness=0,this._SwingDamping=0,this._targetPosition=new e.Vector3,this._targetRotation=new e.Vector3,this._targetVelocity=new e.Vector3,this._targetAngularVelocity=new e.Vector3,this._linearDriveforceLimit=new e.Vector3(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._linearDriveForce=new e.Vector3,this._linearDriveDamping=new e.Vector3,this._angularXDriveForceLimit=Number.MAX_VALUE,this._angularXDriveForce=0,this._angularXDriveDamp=0,this._angularYZDriveForceLimit=Number.MAX_VALUE,this._angularYZDriveForce=0,this._angularYZDriveDamp=0,this._angularSlerpDriveForceLimit=Number.MAX_VALUE,this._angularSlerpDriveForce=0,this._angularSlerpDriveDamp=0}_setDriveLinearX(){this._joint.setDrive(e.D6Drive.eX,this._linearDriveForce.x,this._linearDriveDamping.x,this._linearDriveforceLimit.x)}_setDriveLinearY(){this._joint.setDrive(e.D6Drive.eY,this._linearDriveForce.y,this._linearDriveDamping.y,this._linearDriveforceLimit.y)}_setDriveLinearZ(){this._joint.setDrive(e.D6Drive.eZ,this._linearDriveForce.z,this._linearDriveDamping.z,this._linearDriveforceLimit.z)}_setAngularXDrive(){this._joint.setDrive(e.D6Drive.eSWING,this._angularXDriveForce,this._angularXDriveDamp,this._angularXDriveForceLimit)}_setAngularYZDrive(){this._joint.setDrive(e.D6Drive.eTWIST,this._angularYZDriveForce,this._angularYZDriveDamp,this._angularYZDriveForceLimit)}_setAngularSlerpDrive(){this._joint.setDrive(e.D6Drive.eSLERP,this._angularSlerpDriveForce,this._angularSlerpDriveDamp,this._angularSlerpDriveForceLimit)}_setDistanceLimit(){this._joint.setDistanceLimit(this._distanceLimit,this._distanceBounciness,this._distanceBounceThreshold,this._distanceSpring,this._distanceDamper)}_setAngularXLimit(){this._joint.setTwistLimit(this._twistUper/180*Math.PI,this._twistLower/180*Math.PI,this._twistBounceness,this._twistBounceThreshold,this._twistStiffness,this._twistDamping)}_setSwingLimit(){this._joint.setSwingLimit(this._ySwingAngleLimit/180*Math.PI,this._zSwingAngleLimit/180*Math.PI,this._Swingrestitution,this._SwingbounceThreshold,this._SwingStiffness,this._SwingDamping)}_setTargetTransform(){let i=e.Quaternion.TEMP;e.Quaternion.createFromYawPitchRoll(this._targetRotation.y/e.Transform3D._angleToRandin,this._targetRotation.x/e.Transform3D._angleToRandin,this._targetRotation.z/e.Transform3D._angleToRandin,i),this._joint.setDriveTransform(this._targetPosition,i)}_setAxis(){this._joint.setAxis(this._axis,this._secondaryAxis)}_setTargetVelocirty(){this._joint.setDriveVelocity(this._targetVelocity,this._targetAngularVelocity)}set axis(i){i&&(i.cloneTo(this._axis),this._setAxis())}get axis(){return this._axis}set secondaryAxis(i){i&&(i.cloneTo(this._secondaryAxis),this._setAxis())}get secondaryAxis(){return this._secondaryAxis}set XMotion(i){this._xMotion=i,this._joint.setMotion(i,e.D6MotionType.eX)}get XMotion(){return this._xMotion}set YMotion(i){this._yMotion=i,this._joint.setMotion(i,e.D6MotionType.eY)}get YMotion(){return this._yMotion}set ZMotion(i){this._zMotion=i,this._joint.setMotion(i,e.D6MotionType.eZ)}get ZMotion(){return this._zMotion}set angularXMotion(i){this._angularXMotion=i,this._joint.setMotion(i,e.D6MotionType.eTWIST)}get angularXMotion(){return this._angularXMotion}set angularYMotion(i){this._angularYMotion=i,this._joint.setMotion(i,e.D6MotionType.eSWING1)}get angularYMotion(){return this._angularYMotion}set angularZMotion(i){this._angularZMotion=i,this._joint.setMotion(i,e.D6MotionType.eSWING2)}get angularZMotion(){return this._angularZMotion}set distanceLimit(i){i<0||(this._distanceLimit=i,this._setDistanceLimit())}get distanceLimit(){return this._distanceLimit}set distanceBounciness(i){i<0||(this._distanceBounciness=i,this._setDistanceLimit())}get distanceBounciness(){return this._distanceBounciness}set distanceBounceThreshold(i){i<0||(this._distanceBounceThreshold=i,this._setDistanceLimit())}get distanceBounceThreshold(){return this._distanceBounceThreshold}set distanceSpring(i){i<0||(this._distanceSpring=i,this._setDistanceLimit())}get distanceSpring(){return this._distanceSpring}set distanceDamper(i){i<0||(this._distanceDamper=i,this._setDistanceLimit())}get distanceDamper(){return this._distanceDamper}set angularXMaxLimit(i){i=Math.min(180,Math.max(i,this._twistLower)),this._twistUper=i,this._setAngularXLimit()}get angularXMaxLimit(){return this._twistUper}set angularXMinLimit(i){i=Math.max(-180,Math.min(i,this._twistUper)),this._twistLower=i,this._setAngularXLimit()}get angularXMinLimit(){return this._twistLower}set AngleXLimitBounceness(i){i=Math.max(0,i),this._twistBounceness=i,this._setAngularXLimit()}get AngleXLimitBounceness(){return this._twistBounceness}set AngleXLimitBounceThreshold(i){i=Math.max(0,i),this._twistBounceThreshold=i,this._setAngularXLimit()}get AngleXLimitBounceThreshold(){return this._twistBounceThreshold}set AngleXLimitSpring(i){i=Math.max(0,i),this._twistStiffness=i,this._setAngularXLimit()}get AngleXLimitSpring(){return this._twistStiffness}set AngleXLimitDamp(i){i=Math.max(0,i),this._twistDamping=i,this._setAngularXLimit()}get AngleXLimitDamp(){return this._twistDamping}set AngleYLimit(i){i=Math.min(180,Math.max(0,i)),this._ySwingAngleLimit=i,this._setSwingLimit()}get AngleYLimit(){return this._ySwingAngleLimit}set AngleZLimit(i){i=Math.min(180,Math.max(0,i)),this._zSwingAngleLimit=i,this._setSwingLimit()}get AngleZLimit(){return this._zSwingAngleLimit}set AngleYZLimitBounciness(i){i=Math.max(0,i),this._Swingrestitution=i,this._setSwingLimit()}get AngleYZLimitBounciness(){return this._Swingrestitution}set AngleYZLimitBounceThreshold(i){i=Math.max(0,i),this._SwingbounceThreshold=i,this._setSwingLimit()}get AngleYZLimitBounceThreshold(){return this._SwingbounceThreshold}set AngleYZLimitSpring(i){i=Math.max(0,i),this._SwingStiffness=i,this._setSwingLimit()}get AngleYZLimitSpring(){return this._SwingStiffness}set AngleYZLimitDamping(i){i=Math.max(0,i),this._SwingDamping=i,this._setSwingLimit()}get AngleYZLimitDamping(){return this._SwingDamping}set targetPosition(i){i.cloneTo(this._targetPosition),this._setTargetTransform()}get targetPosition(){return this._targetPosition}set targetRotation(i){i.cloneTo(this._targetRotation),this._setTargetTransform()}get targetRotation(){return this._targetRotation}set targetPositionVelocity(i){i.cloneTo(this._targetVelocity),this._setTargetVelocirty()}get targetPositionVelocity(){return this._targetVelocity}set targetAngularVelocity(i){i.cloneTo(this._targetAngularVelocity),this._setTargetVelocirty()}get targetAngularVelocity(){return this._targetAngularVelocity}set XDriveSpring(i){i=Math.max(i,0),this._linearDriveForce.x=i,this._setDriveLinearX()}get XDriveSpring(){return this._linearDriveForce.x}set YDriveSpring(i){i=Math.max(i,0),this._linearDriveForce.y=i,this._setDriveLinearY()}get YDriveSpring(){return this._linearDriveForce.y}set ZDriveSpring(i){i=Math.max(i,0),this._linearDriveForce.z=i,this._setDriveLinearZ()}get ZDriveSpring(){return this._linearDriveForce.z}set XDriveDamp(i){i=Math.max(i,0),this._linearDriveDamping.x=i,this._setDriveLinearX()}get XDriveDamp(){return this._linearDriveDamping.x}set YDriveDamp(i){i=Math.max(i,0),this._linearDriveDamping.y=i,this._setDriveLinearY()}get YDriveDamp(){return this._linearDriveDamping.y}set ZDriveDamp(i){i=Math.max(i,0),this._linearDriveDamping.z=i,this._setDriveLinearZ()}get ZDriveDamp(){return this._linearDriveDamping.z}set XDriveForceLimit(i){i=Math.max(i,0),this._linearDriveforceLimit.x=i,this._setDriveLinearX()}get XDriveForceLimit(){return this._linearDriveforceLimit.x}set YDriveForceLimit(i){i=Math.max(i,0),this._linearDriveforceLimit.y=i,this._setDriveLinearY()}get YDriveForceLimit(){return this._linearDriveforceLimit.y}set ZDriveForceLimit(i){i=Math.max(i,0),this._linearDriveforceLimit.z=i,this._setDriveLinearZ()}get ZDriveForceLimit(){return this._linearDriveforceLimit.z}get angularXDriveForceLimit(){return this._angularXDriveForceLimit}set angularXDriveForceLimit(i){i=Math.max(i,0),this._angularXDriveForceLimit=i,this._setAngularXDrive()}get angularXDriveForce(){return this._angularXDriveForce}set angularXDriveForce(i){i=Math.max(i,0),this._angularXDriveForce=i,this._setAngularXDrive()}get angularXDriveDamp(){return this._angularXDriveDamp}set angularXDriveDamp(i){i=Math.max(i,0),this._angularXDriveDamp=i,this._setAngularXDrive()}get angularYZDriveForceLimit(){return this._angularYZDriveForceLimit}set angularYZDriveForceLimit(i){i=Math.max(i,0),this._angularYZDriveForceLimit=i,this._setAngularYZDrive()}get angularYZDriveForce(){return this._angularYZDriveForce}set angularYZDriveForce(i){i=Math.max(i,0),this._angularYZDriveForce=i,this._setAngularYZDrive()}get angularYZDriveDamp(){return this._angularYZDriveDamp}set angularYZDriveDamp(i){i=Math.max(i,0),this._angularYZDriveDamp=i,this._setAngularYZDrive()}get angularSlerpDriveForceLimit(){return this._angularSlerpDriveForceLimit}set angularSlerpDriveForceLimit(i){i=Math.max(i,0),this._angularSlerpDriveForceLimit=i,this._setAngularSlerpDrive()}get angularSlerpDriveForce(){return this._angularSlerpDriveForce}set angularSlerpDriveForce(i){i=Math.max(i,0),this._angularSlerpDriveForce=i,this._setAngularSlerpDrive()}get angularSlerpDriveDamp(){return this._angularSlerpDriveDamp}set angularSlerpDriveDamp(i){i=Math.max(i,0),this._angularSlerpDriveDamp=i,this._setAngularSlerpDrive()}_initAllConstraintInfo(){this._setDriveLinearX(),this._setDriveLinearY(),this._setDriveLinearZ(),this._setAngularXDrive(),this._setAngularYZDrive(),this._setAngularSlerpDrive(),this._setDistanceLimit(),this._setAngularXLimit(),this._setSwingLimit(),this._setTargetTransform(),this._setAxis(),this._setTargetVelocirty()}_onEnable(){this._joint&&this._joint.isEnable(!0)}_onDisable(){this._joint&&this._joint.isEnable(!1)}_initJoint(){this._physicsManager=this.owner._scene._physicsManager,e.Laya3D.enablePhysics&&e.Laya3D.PhysicsCreateUtil.getPhysicsCapable(e.EPhysicsCapable.Physics_D6Joint)?this._joint=e.Laya3D.PhysicsCreateUtil.createD6Joint(this._physicsManager):console.error("Rigidbody3D: cant enable Rigidbody3D")}}class FixedConstraint extends ConstraintComponent{constructor(){super()}_initJoint(){this._physicsManager=this.owner._scene._physicsManager,e.Laya3D.enablePhysics&&e.Laya3D.PhysicsCreateUtil.getPhysicsCapable(e.EPhysicsCapable.Physics_FixedJoint)?this._joint=e.Laya3D.PhysicsCreateUtil.createFixedJoint(this._physicsManager):console.error("Rigidbody3D: cant enable Rigidbody3D")}_onEnable(){this._joint&&this._joint.isEnable(!0)}_onDisable(){this._joint&&this._joint.isEnable(!1)}}class HingeConstraint extends ConstraintComponent{constructor(){super(),this._axis=new e.Vector3(1,0,0),this._motor=!1,this._targetVelocity=0,this._freeSpin=!1,this._limit=!1,this._lowerLimit=-Math.PI/2,this._uperLimit=Math.PI/2,this._bounciness=0,this._bounceMinVelocity=0,this._contactDistance=0}_initJoint(){this._physicsManager=this.owner._scene._physicsManager,e.Laya3D.enablePhysics&&e.Laya3D.PhysicsCreateUtil.getPhysicsCapable(e.EPhysicsCapable.Physics_HingeJoint)?this._joint=e.Laya3D.PhysicsCreateUtil.createHingeJoint(this._physicsManager):console.error("HingeConstraint: cant enable HingeConstraint")}_onEnable(){this._joint&&this._joint.isEnable(!0)}_onDisable(){this._joint&&this._joint.isEnable(!1)}set Axis(i){i&&!this._axis.equal(i)&&((i=i.normalize()).cloneTo(this._axis),this._joint&&this._joint.setAxis(i))}get Axis(){return this._axis}set lowerLimit(i){this._lowerLimit=i;let e=i<this._lowerLimit?this._lowerLimit:i<-Math.PI/2?-Math.PI:i;this._joint&&this._joint.setLowerLimit(e)}get lowerLimit(){return this._lowerLimit}set uperLimit(i){this._uperLimit=i;let e=i>this._uperLimit?this._uperLimit:i>Math.PI/2?Math.PI:i;this._joint&&this._joint.setUpLimit(e)}get uperLimit(){return this._uperLimit}set bounceness(i){i=i<0?0:i>1?1:i,this._bounciness=i,this._joint&&this._joint.setBounceness(i)}get bounceness(){return this._bounciness}set bouncenMinVelocity(i){this._bounceMinVelocity=i,this._joint&&this._joint.setBouncenMinVelocity(i)}get bouncenMinVelocity(){return this._bounceMinVelocity}set contactDistance(i){this._contactDistance=i,this._joint&&this._joint.setContactDistance(i)}get contactDistance(){return this._contactDistance}set limit(i){this._limit=i,this._joint&&this._joint.enableLimit(i)}get limit(){return this._limit}set motor(i){this._motor=i,this._motor&&this._joint.enableDrive(i)}get motor(){return this._motor}set freeSpin(i){this._freeSpin=i,this._joint&&this._joint.enableFreeSpin(i)}get freeSpin(){return this._freeSpin}set targetVelocity(i){this._targetVelocity=i,this._joint&&this._joint.setDriveVelocity(i)}get targetVelocity(){return this._targetVelocity}getAngle(){return this._joint?this._joint.getAngle():0}getVelocity(){return this._joint?this._joint.getVelocity():e.Vector3._tempVector3.set(0,0,0)}}class SpringConstraint extends ConstraintComponent{constructor(){super(...arguments),this._minDistance=0,this._damping=.2,this._maxDistance=Number.MAX_VALUE,this._tolerance=.025,this._stiffness=10}_initJoint(){this._physicsManager=this.owner._scene._physicsManager,e.Laya3D.enablePhysics&&e.Laya3D.PhysicsCreateUtil.getPhysicsCapable(e.EPhysicsCapable.Physics_SpringJoint)?this._joint=e.Laya3D.PhysicsCreateUtil.createSpringJoint(this._physicsManager):console.error("SpringConstraint: cant enable SpringConstraint")}_onAdded(){super._onAdded()}set minDistance(i){this._minDistance=i,this._joint&&this._joint.setMinDistance(i)}get minDistance(){return this._minDistance}set maxDistance(i){this._maxDistance=i,this._joint&&this._joint.setMaxDistance(i)}get maxDistance(){return this._maxDistance}set tolerance(i){this._tolerance=i,this._joint&&this._joint.setTolerance(i)}get tolerance(){return this._tolerance}set spring(i){this._stiffness=i,this._joint&&this._joint.setStiffness(i)}get spring(){return this._stiffness}set damping(i){this._damping=i,this._joint&&this._joint.setDamping(i)}get damping(){return this._damping}}class PhysicsCollider extends PhysicsColliderComponent{constructor(){super(),this._isTrigger=!1}_initCollider(){this._physicsManager=this.owner._scene._physicsManager,e.Laya3D.enablePhysics&&this._physicsManager&&e.Laya3D.PhysicsCreateUtil.getPhysicsCapable(e.EPhysicsCapable.Physics_StaticCollider)?this._collider=e.Laya3D.PhysicsCreateUtil.createStaticCollider(this._physicsManager):console.error("PhysicsCollider:cant enable PhysicsCollider")}get isTrigger(){return this._isTrigger}set isTrigger(i){this._isTrigger=i,this._collider&&this._collider.getCapable(e.EColliderCapable.Collider_AllowTrigger)&&(this._collider.setTrigger(i),this._setEventFilter())}_parse(i){null!=i.friction&&(this.friction=i.friction),null!=i.rollingFriction&&(this.rollingFriction=i.rollingFriction),null!=i.restitution&&(this.restitution=i.restitution),null!=i.isTrigger&&(this.isTrigger=i.isTrigger),super._parse(i),this._parseShape(i.shapes)}_setEventFilter(){this._collider&&this._collider.getCapable(e.EColliderCapable.Collider_EventFilter)&&(this._eventsArray=[],this.isTrigger&&this.owner.hasListener(e.Event.TRIGGER_ENTER)&&this._eventsArray.push(e.Event.TRIGGER_ENTER),this.isTrigger&&this.owner.hasListener(e.Event.TRIGGER_STAY)&&this._eventsArray.push(e.Event.TRIGGER_STAY),this.isTrigger&&this.owner.hasListener(e.Event.TRIGGER_EXIT)&&this._eventsArray.push(e.Event.TRIGGER_EXIT),this.owner.hasListener(e.Event.COLLISION_ENTER)&&this._eventsArray.push(e.Event.COLLISION_ENTER),this.owner.hasListener(e.Event.COLLISION_STAY)&&this._eventsArray.push(e.Event.COLLISION_STAY),this.owner.hasListener(e.Event.COLLISION_EXIT)&&this._eventsArray.push(e.Event.COLLISION_EXIT),this._collider.setEventFilter(this._eventsArray))}}class PhysicsUpdateList extends e.SingletonList{constructor(){super()}add(i){-1!==i.inPhysicUpdateListIndex&&console.error("PhysicsUpdateList:element has  in  PhysicsUpdateList."),this._add(i),i.inPhysicUpdateListIndex=this.length++}remove(i){var e=i.inPhysicUpdateListIndex;if(this.length--,e!==this.length){var t=this.elements[this.length];this.elements[e]=t,t._inPhysicUpdateListIndex=e}i.inPhysicUpdateListIndex=-1}}class Rigidbody3D extends PhysicsColliderComponent{constructor(){super(),this._isKinematic=!1,this._mass=1,this._gravity=new e.Vector3(0,-10,0),this._angularDamping=0,this._linearDamping=0,this._linearVelocity=new e.Vector3,this._angularVelocity=new e.Vector3,this._linearFactor=new e.Vector3(1,1,1),this._angularFactor=new e.Vector3(1,1,1),this._trigger=!1}_initCollider(){this._physicsManager=this.owner._scene._physicsManager,e.Laya3D.enablePhysics&&this._physicsManager&&e.Laya3D.PhysicsCreateUtil.getPhysicsCapable(e.EPhysicsCapable.Physics_DynamicCollider)?this._collider=e.Laya3D.PhysicsCreateUtil.createDynamicCollider(this._physicsManager):console.error("Rigidbody3D: cant enable Rigidbody3D")}get mass(){return this._mass}set mass(i){this._mass=i,this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_Mass)&&this._collider.setMass(i)}get isKinematic(){return this._isKinematic}set isKinematic(i){this._isKinematic=i,this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_AllowKinematic)&&this._collider.setIsKinematic(i)}get linearDamping(){return this._linearDamping}set linearDamping(i){this._linearDamping=i,this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_LinearDamp)&&this._collider.setLinearDamping(i)}get angularDamping(){return this._angularDamping}set angularDamping(i){this._angularDamping=i,this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_AngularDamp)&&this._collider.setAngularDamping(i)}get gravity(){return this._gravity}set gravity(i){this._gravity=i,this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_Gravity)&&this._collider.setInertiaTensor(i)}get linearFactor(){return this._linearFactor}set linearFactor(i){this._linearFactor=i,this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_LinearFactor)&&this._collider.setConstraints(this._linearFactor,this.angularFactor)}get linearVelocity(){return this._linearVelocity}set linearVelocity(i){this._linearVelocity=i,this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_LinearVelocity)&&this._collider.setLinearVelocity(i)}get angularFactor(){return this._angularFactor}set angularFactor(i){this._angularFactor=i,this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_AngularFactor)&&this._collider.setConstraints(this._linearFactor,this.angularFactor)}get angularVelocity(){return this._angularVelocity}set angularVelocity(i){this._angularVelocity=i,this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_AngularVelocity)&&this._collider.setAngularVelocity(i)}get sleepThreshold(){return this._sleepThreshold}set sleepThreshold(i){this._sleepThreshold=i,this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_SleepThreshold)&&this._collider.setSleepThreshold(i)}set position(i){this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_WorldPosition)&&this._collider.setWorldPosition(i)}set orientation(i){this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_WorldOrientation)&&this._collider.setWorldRotation(i)}get trigger(){return this._trigger}set trigger(i){this._trigger=i,this._collider&&this.collider.getCapable(e.EColliderCapable.Collider_AllowTrigger)&&this._collider.setTrigger(i)}_onAdded(){super._onAdded(),this.mass=this._mass,this.linearFactor=this._linearFactor,this.angularFactor=this._angularFactor,this.linearDamping=this._linearDamping,this.angularDamping=this._angularDamping,this.gravity=this._gravity,this.isKinematic=this._isKinematic}_onDestroy(){super._onDestroy(),this._btLayaMotionState=null,this._gravity=null,this._linearVelocity=null,this._angularVelocity=null,this._linearFactor=null,this._angularFactor=null}_cloneTo(i){super._cloneTo(i);var e=i;e.isKinematic=this._isKinematic,e.mass=this._mass,e.gravity=this._gravity,e.angularDamping=this._angularDamping,e.linearDamping=this._linearDamping,e.linearVelocity=this._linearVelocity,e.angularVelocity=this._angularVelocity,e.linearFactor=this._linearFactor,e.angularFactor=this._angularFactor}applyForce(t,s=null){this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_ApplyForce)&&this._collider.addForce(t,i.PhysicsForceMode.Force,s)}applyTorque(t){this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_ApplyTorque)&&this._collider.addTorque(t,i.PhysicsForceMode.Force)}applyImpulse(t,s=null){this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_ApplyImpulse)&&this._collider.addForce(t,i.PhysicsForceMode.Impulse,s)}applyTorqueImpulse(t){this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_ApplyTorqueImpulse)&&this._collider.addTorque(t,i.PhysicsForceMode.Impulse)}wakeUp(){this._collider&&this.collider.getCapable(e.EColliderCapable.RigidBody_AllowSleep)&&this._collider.wakeUp()}get sleepLinearVelocity(){return this.sleepThreshold}set sleepLinearVelocity(i){this.sleepThreshold=i}get sleepAngularVelocity(){return this.sleepThreshold}set sleepAngularVelocity(i){this.sleepThreshold=i}applyForceXYZ(i,t,s,r=null){e.Utils3D._tempV0.set(i,t,s),this.applyForce(e.Utils3D._tempV0,r)}_parse(i){if(null!=i.friction&&(this.friction=i.friction),null!=i.rollingFriction&&(this.rollingFriction=i.rollingFriction),null!=i.restitution&&(this.restitution=i.restitution),null!=i.mass&&(this.mass=i.mass),null!=i.linearDamping&&(this.linearDamping=i.linearDamping),null!=i.angularDamping&&(this.angularDamping=i.angularDamping),null!=i.linearFactor){var e=this.linearFactor;e.fromArray(i.linearFactor),this.linearFactor=e}if(null!=i.angularFactor){var t=this.angularFactor;t.fromArray(i.angularFactor),this.angularFactor=t}i.gravity&&(this.gravity.fromArray(i.gravity),this.gravity=this.gravity),super._parse(i),this._parseShape(i.shapes),null!=i.isKinematic&&(this.isKinematic=i.isKinematic)}_setEventFilter(){this._collider&&this._collider.getCapable(e.EColliderCapable.Collider_EventFilter)&&(this._eventsArray=[],this.trigger&&this.owner.hasListener(e.Event.TRIGGER_ENTER)&&this._eventsArray.push(e.Event.TRIGGER_ENTER),this.trigger&&this.owner.hasListener(e.Event.TRIGGER_EXIT)&&this._eventsArray.push(e.Event.TRIGGER_EXIT),this.trigger&&this.owner.hasListener(e.Event.TRIGGER_STAY)&&this._eventsArray.push(e.Event.TRIGGER_STAY),this.owner.hasListener(e.Event.COLLISION_ENTER)&&this._eventsArray.push(e.Event.COLLISION_ENTER),this.owner.hasListener(e.Event.COLLISION_STAY)&&this._eventsArray.push(e.Event.COLLISION_STAY),this.owner.hasListener(e.Event.COLLISION_EXIT)&&this._eventsArray.push(e.Event.COLLISION_EXIT),this._collider.setEventFilter(this._eventsArray))}}class CompoundColliderShape extends Physics3DColliderShape{constructor(){super(),this._childColliderShapes=[]}static __init__(){}_clearChildShape(i){i._attatched=!1,i._compoundParent=null,i._indexInCompound=-1}_updateChildTransform(i){}set shapes(i){for(var e=this._childColliderShapes.length-1;e>=0;e--)this.removeChildShape(this._childColliderShapes[e]);for(e=0;e<i.length;e++)this.addChildShape(i[e])}get shapes(){return this._childColliderShapes}addChildShape(i){}removeChildShape(i){}clearChildShape(){}getChildShapeCount(){return this._childColliderShapes.length}cloneTo(i){var e=i;e.clearChildShape();for(var t=0,s=this._childColliderShapes.length;t<s;t++)e.addChildShape(this._childColliderShapes[t].clone())}clone(){var i=new CompoundColliderShape;return this.cloneTo(i),i}destroy(){}}let r=e.ClassUtils.regClass;r("ConfigurableConstraint",ConfigurableConstraint),r("FixedConstraint",FixedConstraint),r("ConstraintComponent",ConstraintComponent),r("HingeConstraint",HingeConstraint),r("SpringConstraint",SpringConstraint),r("Physics3DColliderShape",Physics3DColliderShape),r("BoxColliderShape",BoxColliderShape),r("CapsuleColliderShape",CapsuleColliderShape),r("CompoundColliderShape",CompoundColliderShape),r("ConeColliderShape",ConeColliderShape),r("CylinderColliderShape",CylinderColliderShape),r("MeshColliderShape",MeshColliderShape),r("SphereColliderShape",SphereColliderShape),r("CharacterController",CharacterController),r("Rigidbody3D",Rigidbody3D),r("PhysicsColliderComponent",PhysicsColliderComponent),r("PhysicsCollider",PhysicsCollider),r("PhysicsUpdateList",PhysicsUpdateList);i.BoxColliderShape=BoxColliderShape,i.CapsuleColliderShape=CapsuleColliderShape,i.CharacterController=CharacterController,i.CompoundColliderShape=CompoundColliderShape,i.ConeColliderShape=ConeColliderShape,i.ConfigurableConstraint=ConfigurableConstraint,i.ConstraintComponent=ConstraintComponent,i.CylinderColliderShape=CylinderColliderShape,i.FixedConstraint=FixedConstraint,i.HeightFieldColliderShape=class extends Physics3DColliderShape{constructor(i){super(),this._terrainData=i,this._shape.setHeightFieldData(this._terrainData.numRows,this._terrainData.numCols,this._terrainData.heightData,this._terrainData.flag,this._terrainData.scale)}_createShape(){e.Laya3D.PhysicsCreateUtil.getPhysicsCapable(e.EPhysicsCapable.physics_heightFieldColliderShape)?this._shape=e.Laya3D.PhysicsCreateUtil.createHeightFieldShape():console.error("HeightFieldColliderShape: cant enable HeightFieldColliderShape")}},i.HingeConstraint=HingeConstraint,i.MeshColliderShape=MeshColliderShape,i.Physics3DColliderShape=Physics3DColliderShape,i.PhysicsCollider=PhysicsCollider,i.PhysicsColliderComponent=PhysicsColliderComponent,i.PhysicsUpdateList=PhysicsUpdateList,i.Rigidbody3D=Rigidbody3D,i.SphereColliderShape=SphereColliderShape,i.SpringConstraint=SpringConstraint}(window.Laya=window.Laya||{},Laya);
//# sourceMappingURL=laya.physics3D.js.map